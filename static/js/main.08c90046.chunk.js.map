{"version":3,"sources":["reportWebVitals.js","view/icon/Icon.jsx","model/runner/rest.js","view/Login.jsx","view/layout/menuType.js","view/layout/Sider.jsx","view/layout/Header.jsx","view/dashboard/Dashboard.jsx","component/paginationSetting.js","model/api/supplier.js","view/supplier/Supplier.jsx","component/FormItem.jsx","view/supplier/supplierType.js","view/supplier/SupplierForm.jsx","view/supplier/SupplierDetail.jsx","model/api/customer.js","view/customer/Customer.jsx","view/customer/customerType.js","view/customer/CustomerForm.jsx","view/customer/CustomerDetail.jsx","model/api/employee.js","view/employee/Employee.jsx","view/employee/employeeType.js","view/employee/EmployeeForm.jsx","view/employee/EmployeeDetail.jsx","model/api/vehicle.js","view/vehicle/Vehicle.jsx","view/vehicle/vehicleType.js","view/vehicle/VehicleForm.jsx","view/vehicle/VehicleDetail.jsx","model/api/level.js","view/level/Level.jsx","view/level/levelType.js","view/level/LevelForm.jsx","view/level/LevelDetail.jsx","model/api/colour.js","view/colour/Colour.jsx","view/colour/colourType.js","view/colour/ColourForm.jsx","view/colour/ColourDetail.jsx","model/api/component.js","view/component/Component.jsx","view/component/componentType.js","view/component/ComponentForm.jsx","view/component/ComponentDetail.jsx","component/PageDrawer.jsx","component/PhotoCarousel.jsx","model/storage/static.js","view/product/productType.js","model/api/product.js","view/product/ProductForm.jsx","view/product/ProductDetail.jsx","view/product/Product.jsx","view/product/ProductQuickEdit.jsx","view/purchase/purchaseType.js","model/api/purchase.js","view/purchase/PurchaseForm.jsx","view/purchase/PurchaseDetail.jsx","view/purchase/Purchase.jsx","model/api/global.js","view/LayoutPage.jsx","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","CarouselNextSvg","height","viewBox","width","fill","d","CarouselNextIcon","props","Icon","component","CarouselPrevSvg","CarouselPrevIcon","PhotoUploadSvg","enableBackground","PhotoUploadIcon","PhotoViewSvg","PhotoViewIcon","ListOpenSvg","ListOpenIcon","ListImageSvg","ListImageIcon","ListDeleteSvg","ListDeleteIcon","ListEditSvg","ListEditIcon","ListSearchSvg","ListSearchIcon","ListAddSvg","ListAddIcon","HeaderNotifyEmptySvg","HeaderNotifyEmptyIcon","HeaderLogoutSvg","HeaderLogoutIcon","HeaderAccountSvg","HeaderAccountIcon","SiderMenuPurchaseSvg","points","SiderMenuPurchaseIcon","SiderMenuProductSvg","SiderMenuProductIcon","SiderMenuWidgetSvg","SiderMenuWidgetIcon","SiderMenuBasicSvg","SiderMenuBasicIcon","SiderMenuDashboardSvg","x","y","SiderMenuDashboardIcon","SiderSwitchSvg","SiderSwitchIcon","LoginPasswordOffSvg","LoginPasswordOffIcon","LoginPasswordOnSvg","LoginPasswordOnIcon","LoginPasswordSvg","LoginPasswordIcon","LoginAccountSvg","LoginAccountIcon","UtilCloseSvg","UtilCloseIcon","baseUrl","process","getAuth","auth","document","cookie","split","find","includes","restInstance","method","requestUrl","data","config","url","timeout","headers","Authorization","Object","keys","length","params","Promise","resolve","reject","axios","response","catch","error","console","log","Login","cookies","keepLogin","useState","isLogin","setIsLogin","userId","password","loginData","setLoginData","useEffect","title","createHashHistory","replace","onInputChange","key","e","target","value","className","placeholder","prefix","onChange","Password","iconRender","visible","defaultChecked","checked","onClick","restInstanceWithoutAuth","code","message","success","Buffer","toString","localStorage","setItem","JSON","stringify","authorities","map","role","authority","setTimeout","onLogin","loading","routes","path","menuType","icon","accessRoles","children","LayoutSider","selectedKeys","setSelectedKeys","changeTitle","match","unlisten","history","listen","location","pathname","undefined","page","type","route","RegExp","test","to","item","join","push","menu","roles","parse","getItem","filter","SubMenu","popupClassName","Item","LayoutHeader","Search","enterButton","onLogout","Dashboard","state","productCount","this","React","Component","getPaginationSetting","pager","showTotal","total","range","showSizeChanger","showQuickJumper","SupplierAPI","getSupplierList","getSupplierData","vendorId","addSupplierData","updateSupplierData","Supplier","supplierAPI","getList","search","pagination","requestData","pageNum","current","pageSize","queryByEnum","id","queryKeyWord","keyword","setState","list","onSelectChange","handleSearch","getColumns","_this","dataIndex","fixed","render","size","onEdit","bind","handleDelete","align","a","b","i","Modal","confirm","ExclamationCircleOutlined","okText","cancelText","onOk","onPageChange","position","justify","Option","allowClear","rowKey","columns","dataSource","scroll","FormItem","required","content","style","display","alignItems","marginRight","textAlign","Text","color","left","top","fontSize","initData","name","shortName","principal","contactPerson","postCode","address","phone1","phone2","faxNumber","cellphone","note1","note2","formRules","SupplierForm","formData","checkCanSubmit","getFormErrorStatus","field","formStatus","event","getAttribute","text","toUpperCase","checkData","fieldKey","regExp","canSubmit","some","checkId","validId","handleCreate","back","getElementById","scrollTo","behavior","handleSubmit","tip","index","handleCancel","createFlag","prevProps","rowSetting","gutter","marginBottom","marginTop","colSetting","xs","sm","md","lg","spinning","onBlur","disabled","span","TextArea","autoSize","minRows","maxRows","margin","CheckOutlined","danger","CloseOutlined","SupplierDetail","CustomerAPI","getCustomerList","getCustomerData","customerId","addCustomerData","updateCustomerData","Customer","customerAPI","CustomerForm","CustomerDetail","EmployeeAPI","getEmployeeList","getEmployeeData","employeeId","addEmployeeData","updateEmployeeData","employeeAPI","identityCardNumber","birthday","phone","takeOfficeDay","education","experience","note","salary","extraBonus","fullAttendanceBonus","EmployeeForm","moment","valueOf","onDateChange","date","onNumberChange","format","min","max","step","EmployeeDetail","VehicleAPI","getVehicleList","getVehicleData","kindId","addVehicleData","updateVehicleData","Vehicle","vehicleAPI","kindIdLike","factory","VehicleForm","VehicleDetail","LevelAPI","getLevelList","getLevelData","gradeId","addLevelData","updateLevelData","Level","levelAPI","LevelForm","LevelDetail","ColourAPI","getColourList","getColourData","colorId","addColourData","updateColourData","Colour","colourAPI","ColourForm","ColourDetail","ComponentAPI","getComponentList","getComponentData","partId","addComponentData","updateComponentData","componentAPI","ComponentForm","ComponentDetail","PageDrawer","PhotoCarousel","picList","adaptiveHeight","arrows","dots","prevArrow","nextArrow","photo","src","alt","StaticStorage","setRoles","setUnitList","unitList","seqNo","productId","productType","customCode1","customCode2","customCode3","kindShortName","mappingProductId","mappingProductSeqNo","unit","StatisStorage","price1","price2","price3","norm","vendorProductId","safetyStock","inventory","storingPlace","additionData","weight","pic1GoogleBlobId","pic1Url","pic2GoogleBlobId","pic2Url","pic3GoogleBlobId","pic3Url","pic4GoogleBlobId","pic4Url","productSeqNo","ProductAPI","getProductList","getProductType","getProductData","addProductData","updateProductData","getProductAdditionData","uploadProductPic","picEnum","restUploadInstance","searchProductMapping","realProduct","queryString","getPartsList","getKindsList","getGradesList","getColorsList","ProductForm","productAPI","productSearchTime","getInitData","isCreate","partsList","kindsList","gradesList","colorsList","isDrawMode","onClose","productList","productSelect","getMappingProductDisplay","product","desc1","desc2","desc3","desc4","desc5","additionDisplay","onMappingSearch","productSearchLoading","onMappingSelect","finished","onCodeSearch","onCodeSelect","kind","toLowerCase","onCodeClear","getPartOptions","part","label","getKindOptions","kinds","unshift","getGradeOptions","grades","grade","getColorOptions","colors","openPic","picUrl","picOpen","onPicUpload","file","FormData","append","drawerContent","querySelector","layoutContent","inited","drawModeVisible","colSetting1","colSetting2","colSetting3","codeColSetting","picColSetting","desc","searchValue","showSearch","showArrow","options","onSearch","onSelect","notFoundContent","onClear","optionFilterProp","showUploadList","beforeUpload","footer","onCancel","ProductDetail","Product","onDetailOpen","row","onPhotoOpen","onProductOpen","detailCreate","detailSeqNo","detailVisible","onDetailClose","photoVisible","photoLoading","photoList","window","open","href","rowClassName","placement","closeIcon","ProductQuickEdit","mappingSearch","forEach","searchTime","select","getMappingProducts","seqNos","onProductInputChange","onProductValueChange","updateProduct","purchaseId","accountDate","startOf","purchaseDetails","PurchaseAPI","getPurchaseList","getPurchaseData","addPurchaseData","updatePurchaseData","getProductHistoryPrice","getVendorsList","PurchaseForm","purchaseAPI","vendorList","colorList","recordStatus","record","detailNo","historyLoading","historyList","purchaseMaster","vendor","vendorName","getVendorOptions","getDetailColumns","onProductDelete","line","onDetailNumberChange","displayHistoryPrice","overlayClassName","onVisibleChange","onDetailInputChange","onDetailSelectChange","checkRecordData","amount","quantity","price","onProductAdd","productName","remark","findIndex","splice","getHistoryColumns","detailLoading","recordError","PurchaseDetail","Purchase","queryBy","condition","beginDate","endDate","endOf","detailPurchaseId","RangePicker","defaultValue","GlobalAPI","getUnitList","locale","LayoutPage","staticStorage","globalAPI","getGlobalData","clearCookie","isAuth","isLand","siderCollapsed","testRestInstance","addEventListener","zhTW","Sider","collapsible","collapsed","onCollapse","trigger","Header","Content","exact","Employee","Footer","ReactDOM"],"mappings":"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","file":"static/js/main.08c90046.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\nimport Icon from '@ant-design/icons'\n\nconst CarouselNextSvg = () => (\n  <svg\n    height='36px'\n    viewBox='0 0 24 24'\n    width='36px'\n    fill='#000000'\n  >\n    <path d='M0 0h24v24H0V0z' fill='none' />\n    <path d='M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8-8-8z' />\n  </svg>\n)\nexport const CarouselNextIcon = (props) => <Icon component={CarouselNextSvg} {...props} />\nconst CarouselPrevSvg = () => (\n  <svg\n    height='36px'\n    viewBox='0 0 24 24'\n    width='36px'\n    fill='#000000'\n  >\n    <path d='M0 0h24v24H0V0z' fill='none' />\n    <path d='M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z' />\n  </svg>\n)\nexport const CarouselPrevIcon = (props) => <Icon component={CarouselPrevSvg} {...props} />\nconst PhotoUploadSvg = () => (\n  <svg\n    enableBackground='new 0 0 24 24'\n    height='36px'\n    viewBox='0 0 24 24'\n    width='36px'\n    fill='#000000'\n  >\n    <g>\n      <rect fill='none' height='24' width='24' />\n    </g>\n    <g>\n      <path d='M18,15v3H6v-3H4v3c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2v-3H18z M7,9l1.41,1.41L11,7.83V16h2V7.83l2.59,2.58L17,9l-5-5L7,9z' />\n    </g>\n  </svg>\n)\nexport const PhotoUploadIcon = (props) => <Icon component={PhotoUploadSvg} {...props} />\nconst PhotoViewSvg = () => (\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#000000'>\n    <path d='M0 0h24v24H0V0z' fill='none' />\n    <path d='M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z' />\n  </svg>\n)\nexport const PhotoViewIcon = (props) => <Icon component={PhotoViewSvg} {...props} />\n\nconst ListOpenSvg = () => (\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#000000'>\n    <path d='M0 0h24v24H0V0z' fill='none' />\n    <path d='M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z' />\n  </svg>\n)\nexport const ListOpenIcon = (props) => <Icon component={ListOpenSvg} {...props} />\nconst ListImageSvg = () => (\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#000000'>\n    <path d='M0 0h24v24H0z' fill='none' />\n    <path d='M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z' />\n  </svg>\n)\nexport const ListImageIcon = (props) => <Icon component={ListImageSvg} {...props} />\nconst ListDeleteSvg = () => (\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#ffffff'>\n    <path d='M0 0h24v24H0V0z' fill='none' />\n    <path d='M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z' />\n  </svg>\n)\nexport const ListDeleteIcon = (props) => <Icon component={ListDeleteSvg} {...props} />\nconst ListEditSvg = () => (\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#ffffff'>\n    <path d='M0 0h24v24H0V0z' fill='none' />\n    <path d='M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z' />\n  </svg>\n)\nexport const ListEditIcon = (props) => <Icon component={ListEditSvg} {...props} />\nconst ListSearchSvg = () => (\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#ffffff'>\n    <path d='M0 0h24v24H0V0z' fill='none' />\n    <path d='M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z' />\n  </svg>\n)\nexport const ListSearchIcon = (props) => <Icon component={ListSearchSvg} {...props} />\nconst ListAddSvg = () => (\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#ffffff'>\n    <path d='M0 0h24v24H0V0z' fill='none' />\n    <path d='M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z' />\n  </svg>\n)\nexport const ListAddIcon = (props) => <Icon component={ListAddSvg} {...props} />\n\nconst HeaderNotifyExistSvg = () => (\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#ffffff'>\n    <path d='M0 0h24v24H0V0z' fill='none' />\n    <path d='M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6zM7.58 4.08L6.15 2.65C3.75 4.48 2.17 7.3 2.03 10.5h2c.15-2.65 1.51-4.97 3.55-6.42zm12.39 6.42h2c-.15-3.2-1.73-6.02-4.12-7.85l-1.42 1.43c2.02 1.45 3.39 3.77 3.54 6.42z' />\n  </svg>\n)\nexport const HeaderNotifyExistIcon = (props) => <Icon component={HeaderNotifyExistSvg} {...props} />\nconst HeaderNotifyEmptySvg = () => (\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#ffffff'>\n    <path d='M0 0h24v24H0V0z' fill='none' />\n    <path d='M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z' />\n  </svg>\n)\nexport const HeaderNotifyEmptyIcon = (props) => <Icon component={HeaderNotifyEmptySvg} {...props} />\nconst HeaderLogoutSvg = () => (\n  <svg\n    enableBackground='new 0 0 24 24'\n    height='36px'\n    viewBox='0 0 24 24'\n    width='36px'\n    fill='#ffffff'\n  >\n    <g>\n      <path d='M0,0h24v24H0V0z' fill='none' />\n    </g>\n    <g>\n      <path d='M17,8l-1.41,1.41L17.17,11H9v2h8.17l-1.58,1.58L17,16l4-4L17,8z M5,5h7V3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h7v-2H5V5z' />\n    </g>\n  </svg>\n)\nexport const HeaderLogoutIcon = (props) => <Icon component={HeaderLogoutSvg} {...props} />\nconst HeaderAccountSvg = () => (\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#ffffff'>\n    <path d='M0 0h24v24H0V0z' fill='none' />\n    <path d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.07 18.28c.43-.9 3.05-1.78 4.93-1.78s4.51.88 4.93 1.78C15.57 19.36 13.86 20 12 20s-3.57-.64-4.93-1.72zm11.29-1.45c-1.43-1.74-4.9-2.33-6.36-2.33s-4.93.59-6.36 2.33C4.62 15.49 4 13.82 4 12c0-4.41 3.59-8 8-8s8 3.59 8 8c0 1.82-.62 3.49-1.64 4.83zM12 6c-1.94 0-3.5 1.56-3.5 3.5S10.06 13 12 13s3.5-1.56 3.5-3.5S13.94 6 12 6zm0 5c-.83 0-1.5-.67-1.5-1.5S11.17 8 12 8s1.5.67 1.5 1.5S12.83 11 12 11z' />\n  </svg>\n)\nexport const HeaderAccountIcon = (props) => <Icon component={HeaderAccountSvg} {...props} />\n\nconst SiderMenuPurchaseSvg = () => (\n  <svg\n    enableBackground='new 0 0 24 24'\n    height='36px'\n    viewBox='0 0 24 24'\n    width='36px'\n    fill='#000000'\n  >\n    <g>\n      <rect fill='none' height='24' width='24' />\n    </g>\n    <g>\n      <g>\n        <path d='M5,5h2v3h10V5h2v5h2V5c0-1.1-0.9-2-2-2h-4.18C14.4,1.84,13.3,1,12,1S9.6,1.84,9.18,3H5C3.9,3,3,3.9,3,5v14 c0,1.1,0.9,2,2,2h6v-2H5V5z M12,3c0.55,0,1,0.45,1,1s-0.45,1-1,1s-1-0.45-1-1S11.45,3,12,3z' />\n        <polygon points='21,11.5 15.51,17 12.5,14 11,15.5 15.51,20 22.5,13' />\n      </g>\n    </g>\n  </svg>\n)\nexport const SiderMenuPurchaseIcon = (props) => <Icon component={SiderMenuPurchaseSvg} {...props} />\nconst SiderMenuProductSvg = () => (\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#000000'>\n    <path d='M0 0h24v24H0V0z' fill='none' />\n    <path d='M12 2l-5.5 9h11L12 2zm0 3.84L13.93 9h-3.87L12 5.84zM17.5 13c-2.49 0-4.5 2.01-4.5 4.5s2.01 4.5 4.5 4.5 4.5-2.01 4.5-4.5-2.01-4.5-4.5-4.5zm0 7c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5zM3 21.5h8v-8H3v8zm2-6h4v4H5v-4z' />\n  </svg>\n)\nexport const SiderMenuProductIcon = (props) => <Icon component={SiderMenuProductSvg} {...props} />\nconst SiderMenuWidgetSvg = () => (\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#000000'>\n    <path d='M0 0h24v24H0V0z' fill='none' />\n    <path d='M16.66 4.52l2.83 2.83-2.83 2.83-2.83-2.83 2.83-2.83M9 5v4H5V5h4m10 10v4h-4v-4h4M9 15v4H5v-4h4m7.66-13.31L11 7.34 16.66 13l5.66-5.66-5.66-5.65zM11 3H3v8h8V3zm10 10h-8v8h8v-8zm-10 0H3v8h8v-8z' />\n  </svg>\n)\nexport const SiderMenuWidgetIcon = (props) => <Icon component={SiderMenuWidgetSvg} {...props} />\nconst SiderMenuBasicSvg = () => (\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#000000'>\n    <path d='M0 0h24v24H0V0z' fill='none' />\n    <path d='M9 13.75c-2.34 0-7 1.17-7 3.5V19h14v-1.75c0-2.33-4.66-3.5-7-3.5zM4.34 17c.84-.58 2.87-1.25 4.66-1.25s3.82.67 4.66 1.25H4.34zM9 12c1.93 0 3.5-1.57 3.5-3.5S10.93 5 9 5 5.5 6.57 5.5 8.5 7.07 12 9 12zm0-5c.83 0 1.5.67 1.5 1.5S9.83 10 9 10s-1.5-.67-1.5-1.5S8.17 7 9 7zm7.04 6.81c1.16.84 1.96 1.96 1.96 3.44V19h4v-1.75c0-2.02-3.5-3.17-5.96-3.44zM15 12c1.93 0 3.5-1.57 3.5-3.5S16.93 5 15 5c-.54 0-1.04.13-1.5.35.63.89 1 1.98 1 3.15s-.37 2.26-1 3.15c.46.22.96.35 1.5.35z' />\n  </svg>\n)\nexport const SiderMenuBasicIcon = (props) => <Icon component={SiderMenuBasicSvg} {...props} />\nconst SiderMenuDashboardSvg = () => (\n  <svg\n    enableBackground='new 0 0 24 24'\n    height='36px'\n    viewBox='0 0 24 24'\n    width='36px'\n    fill='#000000'\n  >\n    <g>\n      <rect fill='none' height='24' width='24' />\n      <g>\n        <path d='M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M19,19H5V5h14V19z' />\n        <rect height='5' width='2' x='7' y='12' />\n        <rect height='10' width='2' x='15' y='7' />\n        <rect height='3' width='2' x='11' y='14' />\n        <rect height='2' width='2' x='11' y='10' />\n      </g>\n    </g>\n  </svg>\n)\nexport const SiderMenuDashboardIcon = (props) => (\n  <Icon component={SiderMenuDashboardSvg} {...props} />\n)\nconst SiderMenuHomeSvg = () => (\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#000000'>\n    <path d='M0 0h24v24H0V0z' fill='none' />\n    <path d='M12 5.69l5 4.5V18h-2v-6H9v6H7v-7.81l5-4.5M12 3L2 12h3v8h6v-6h2v6h6v-8h3L12 3z' />\n  </svg>\n)\nexport const SiderMenuHomeIcon = (props) => <Icon component={SiderMenuHomeSvg} {...props} />\n\nconst SiderSwitchSvg = () => (\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#ffffff'>\n    <path d='M0 0h24v24H0V0z' fill='none' />\n    <path d='M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z' />\n  </svg>\n)\nexport const SiderSwitchIcon = (props) => <Icon component={SiderSwitchSvg} {...props} />\n\nconst LoginPasswordOffSvg = () => (\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#000000'>\n    <path d='M0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0z' fill='none' />\n    <path d='M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z' />\n  </svg>\n)\nexport const LoginPasswordOffIcon = (props) => <Icon component={LoginPasswordOffSvg} {...props} />\nconst LoginPasswordOnSvg = () => (\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#000000'>\n    <path d='M0 0h24v24H0z' fill='none' />\n    <path d='M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z' />\n  </svg>\n)\nexport const LoginPasswordOnIcon = (props) => <Icon component={LoginPasswordOnSvg} {...props} />\nconst LoginPasswordSvg = () => (\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#000000'>\n    <path d='M0 0h24v24H0z' fill='none' />\n    <path d='M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z' />\n  </svg>\n)\nexport const LoginPasswordIcon = (props) => <Icon component={LoginPasswordSvg} {...props} />\nconst LoginAccountSvg = () => (\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#000000'>\n    <path d='M0 0h24v24H0z' fill='none' />\n    <path d='M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z' />\n  </svg>\n)\nexport const LoginAccountIcon = (props) => <Icon component={LoginAccountSvg} {...props} />\n\nconst UtilCloseSvg = () => (\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#000000'>\n    <path d='M0 0h24v24H0V0z' fill='none' />\n    <path d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z' />\n  </svg>\n)\nexport const UtilCloseIcon = (props) => <Icon component={UtilCloseSvg} {...props} />\n","import axios from 'axios'\n\nconst baseUrl = process.env.REACT_APP_API_HOST\nconst testBaseUrl = process.env.REACT_APP_TESTAPI_HOST\n\nconst getAuth = () => {\n  const cookies = document.cookie.split(';')\n  const auth = cookies.find((cookie) => cookie.includes('MOTOBUY_AUTH'))\n  return auth ? auth.split('=')[1] : ''\n}\n\nexport const restInstanceWithoutAuth = (method, requestUrl, data) => {\n  const url = baseUrl + requestUrl\n  const config = {\n    url,\n    method,\n    timeout: 60000\n  }\n  if (method === 'get' && data && Object.keys(data).length > 0) {\n    config.params = data\n  } else if (data && Object.keys(data).length > 0) {\n    config.data = data\n  }\n  return new Promise((resolve, reject) => {\n    axios(config)\n      .then((response) => resolve(response))\n      .catch((error) => {\n        reject(error)\n        console.log(error.response)\n      })\n  })\n}\n\nexport const restInstance = (method, requestUrl, data) => {\n  const url = baseUrl + requestUrl\n  const config = {\n    url,\n    method,\n    timeout: 60000,\n    headers: {\n      Authorization: 'Basic ' + getAuth()\n    }\n  }\n  if (method === 'get' && data && Object.keys(data).length > 0) {\n    config.params = data\n  } else if (data && Object.keys(data).length > 0) {\n    config.data = data\n  }\n  return new Promise((resolve, reject) => {\n    axios(config)\n      .then((response) => resolve(response))\n      .catch((error) => {\n        reject(error)\n        console.log(error.response)\n      })\n  })\n}\n\nexport const restUploadInstance = (method, requestUrl, data) => {\n  const url = baseUrl + requestUrl\n  const config = {\n    url,\n    method,\n    timeout: 60000,\n    headers: {\n      'content-type': 'multipart/form-data',\n      Authorization: 'Basic ' + getAuth()\n    },\n    data\n  }\n  return new Promise((resolve, reject) => {\n    axios(config)\n      .then((response) => resolve(response))\n      .catch((error) => {\n        reject(error)\n        console.log(error.response)\n      })\n  })\n}\n\nexport const testRestInstance = (method, requestUrl, data) => {\n  const url = testBaseUrl + requestUrl\n  const config = {\n    url,\n    method,\n    timeout: 60000,\n    headers: {\n      Authorization: 'Basic ' + getAuth()\n    }\n  }\n  if (method === 'get' && data && Object.keys(data).length > 0) {\n    config.params = data\n  } else if (data && Object.keys(data).length > 0) {\n    config.data = data\n  }\n  return new Promise((resolve, reject) => {\n    axios(config)\n      .then((response) => resolve(response))\n      .catch((error) => {\n        reject(error)\n        console.log(error.response)\n      })\n  })\n}\n","import React, { useState, useEffect } from 'react'\nimport { createHashHistory } from 'history'\nimport { Buffer } from 'buffer'\nimport { Input, Checkbox, Button, message } from 'antd'\nimport {\n  LoginAccountIcon,\n  LoginPasswordIcon,\n  LoginPasswordOnIcon,\n  LoginPasswordOffIcon\n} from './icon/Icon'\nimport { restInstanceWithoutAuth } from '../model/runner/rest'\n\nexport const Login = (props) => {\n  const cookies = document.cookie.split(';')\n  let keepLogin =\n    cookies.find((cookie) => cookie.includes('MOTOBUY_KEEP_LOGIN')) &&\n    cookies.find((cookie) => cookie.includes('MOTOBUY_KEEP_LOGIN')).split('=')[1] === 'true'\n  const [isLogin, setIsLogin] = useState(false)\n  const [loginData, setLoginData] = useState({\n    userId: '',\n    password: ''\n  })\n\n  useEffect(() => {\n    document.title = '登入 - MOTOBUY PSI'\n    const history = createHashHistory()\n    history.replace('/')\n  }, [loginData])\n\n  const onInputChange = (key, e) => {\n    loginData[key] = e.target.value\n    setLoginData(loginData)\n  }\n\n  const onLogin = () => {\n    setIsLogin(true)\n    if (keepLogin) {\n      document.cookie = `MOTOBUY_KEEP_LOGIN=${keepLogin}; path=/; max-age=86400`\n    }\n    restInstanceWithoutAuth('post', '/author/login', loginData)\n      .then((response) => {\n        const data = response.data\n        if (data.code === 0) {\n          message.success('登入成功')\n          // save auth cookie\n          const auth = new Buffer(`${loginData.userId}:${loginData.password}`).toString('base64')\n          document.cookie = `MOTOBUY_AUTH=${auth}; path=/; max-age=86400`\n          // save permission roles\n          localStorage.setItem(\n            'MOTOBUY_ROLES',\n            JSON.stringify(data.data.authorities.map((role) => role.authority))\n          )\n          setTimeout(() => props.onLogin(), 200)\n        } else {\n          message.error('登入失敗')\n          setIsLogin(false)\n        }\n      })\n      .catch((error) => {\n        message.error('登入失敗')\n        setIsLogin(false)\n      })\n  }\n\n  return (\n    <div className='login-wrapper'>\n      <div className='login-board'>\n        <div className='login-board-header'>\n          <div className='login-board-logo'>M</div>\n          <h1 className='login-board-title'>MOTOBUY PSI</h1>\n        </div>\n        <div className='login-board-form'>\n          <Input\n            placeholder='User ID'\n            prefix={<LoginAccountIcon />}\n            onChange={(e) => onInputChange('userId', e)}\n          />\n          <Input.Password\n            placeholder='Password'\n            prefix={<LoginPasswordIcon />}\n            iconRender={(visible) => (visible ? <LoginPasswordOnIcon /> : <LoginPasswordOffIcon />)}\n            onChange={(e) => onInputChange('password', e)}\n          />\n          <Checkbox defaultChecked={keepLogin} onChange={(e) => (keepLogin = e.target.checked)}>\n            Keep me logged.\n          </Checkbox>\n        </div>\n        <div className='login-board-footer'>\n          <Button onClick={onLogin} loading={isLogin}>\n            LOGIN\n          </Button>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport {\n  SiderMenuHomeIcon,\n  SiderMenuDashboardIcon,\n  SiderMenuBasicIcon,\n  SiderMenuWidgetIcon,\n  SiderMenuProductIcon,\n  SiderMenuPurchaseIcon\n} from '../icon/Icon'\n\nexport const routes = [\n  {\n    path: '/Dashboard',\n    title: '儀表板'\n  },\n  {\n    path: '/Basic/Supplier',\n    title: '廠商 - 基本資料'\n  },\n  {\n    path: '/Basic/Customer',\n    title: '客戶 - 基本資料'\n  },\n  {\n    path: '/Basic/Employee',\n    title: '員工 - 基本資料'\n  },\n  {\n    path: '/Basic',\n    title: '基本資料'\n  },\n  {\n    path: '/Parts/Vehicle',\n    title: '車種 - 零件管理'\n  },\n  {\n    path: '/Parts/Level',\n    title: '等級 - 零件管理'\n  },\n  {\n    path: '/Parts/Colour',\n    title: '顏色 - 零件管理'\n  },\n  {\n    path: '/Parts/Component',\n    title: '零件 - 零件管理'\n  },\n  {\n    path: '/Parts',\n    title: '零件管理'\n  },\n  {\n    path: '/Products/List',\n    title: '列表 - 商品管理'\n  },\n  {\n    path: '/Products',\n    title: '商品管理'\n  },\n  {\n    path: '/Purchase',\n    title: '列表 - 進貨單'\n  },\n  {\n    path: '/Purchase',\n    title: '進貨單'\n  },\n  {\n    path: '/',\n    title: '首頁'\n  }\n]\n\nexport const menuType = [\n  // {\n  //   key: 'Home',\n  //   routes: [''],\n  //   icon: <SiderMenuHomeIcon />,\n  //   title: '首頁',\n  //   accessRoles: []\n  // },\n  {\n    key: 'Dashboard',\n    routes: ['Dashboard'],\n    icon: <SiderMenuDashboardIcon />,\n    title: '儀表板',\n    accessRoles: []\n  },\n  {\n    key: 'Basic',\n    routes: ['Basic'],\n    icon: <SiderMenuBasicIcon />,\n    title: '基本資料',\n    accessRoles: ['ROLE_BASIC_MENU'],\n    children: [\n      {\n        key: 'BasicSupplier',\n        routes: ['Basic', 'Supplier'],\n        title: '廠商',\n        accessRoles: ['ROLE_VENDOR']\n      },\n      {\n        key: 'BasicCustomer',\n        routes: ['Basic', 'Customer'],\n        title: '客戶',\n        accessRoles: ['ROLE_CUSTOMER']\n      },\n      {\n        key: 'BasicEmployee',\n        routes: ['Basic', 'Employee'],\n        title: '員工',\n        accessRoles: ['ROLE_EMPLOYEE']\n      }\n    ]\n  },\n  {\n    key: 'Parts',\n    routes: ['Parts'],\n    icon: <SiderMenuWidgetIcon />,\n    title: '零件管理',\n    accessRoles: ['ROLE_PART_MENU'],\n    children: [\n      {\n        key: 'PartsVehicle',\n        routes: ['Parts', 'Vehicle'],\n        title: '車種',\n        accessRoles: ['ROLE_KIND']\n      },\n      {\n        key: 'PartsLevel',\n        routes: ['Parts', 'Level'],\n        title: '等級',\n        accessRoles: ['ROLE_GRADE']\n      },\n      {\n        key: 'PartsColour',\n        routes: ['Parts', 'Colour'],\n        title: '顏色',\n        accessRoles: ['ROLE_COLOR']\n      },\n      {\n        key: 'PartsComponent',\n        routes: ['Parts', 'Component'],\n        title: '零件',\n        accessRoles: ['ROLE_PART']\n      }\n    ]\n  },\n  {\n    key: 'Products',\n    routes: ['Products'],\n    icon: <SiderMenuProductIcon />,\n    title: '商品管理',\n    accessRoles: ['ROLE_PRODUCT_MENU'],\n    children: [\n      {\n        key: 'ProductsList',\n        routes: ['Products', 'List'],\n        title: '列表',\n        accessRoles: ['ROLE_PRODUCT']\n      },\n      {\n        key: 'ProductsQuickEdit',\n        routes: ['Products', 'QuickEdit'],\n        title: '快速編修',\n        accessRoles: ['ROLE_PRODUCT_UPDATE']\n      }\n      // },\n      // {\n      //   key: 'ProductsImport',\n      //   routes: ['Products', 'Import'],\n      //   title: '匯入',\n      //   accessRoles: ['ROLE_PRODUCT_IMPORT']\n      // }\n    ]\n  },\n  {\n    key: 'Purchase',\n    routes: ['Purchase'],\n    icon: <SiderMenuPurchaseIcon />,\n    title: '進貨',\n    accessRoles: ['ROLE_PURCHASE_MENU'],\n    children: [\n      {\n        key: 'PurchaseList',\n        routes: ['Purchase', 'List'],\n        title: '列表',\n        accessRoles: ['ROLE_PURCHASE_LIST']\n      },\n      {\n        key: 'PurchaseAdd',\n        routes: ['Purchase', 'Add'],\n        title: '新增',\n        accessRoles: ['ROLE_PRODUCT_ADD']\n      }\n    ]\n  }\n]\n","import React, { useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { createHashHistory } from 'history'\nimport { Menu } from 'antd'\nimport { routes, menuType } from './menuType'\n\nexport const LayoutSider = (props) => {\n  const [selectedKeys, setSelectedKeys] = useState([])\n  useEffect(() => {\n    changeTitle(props.match.url)\n    const unlisten = props.history.listen((location) => {\n      changeTitle(location.pathname)\n    })\n    return () => {\n      unlisten()\n    }\n  }, [])\n  useEffect(() => {\n    if (props.match.params.page !== undefined) {\n      setSelectedKeys([props.match.params.type + props.match.params.page])\n    } else if (props.match.params.type !== undefined) {\n      setSelectedKeys([props.match.params.type])\n    } else {\n      setSelectedKeys(['Home'])\n    }\n  }, [props.match.params.type, props.match.params.page])\n\n  const changeTitle = (url) => {\n    const route = routes.find((route) => new RegExp(`^(${route.path})`).test(url))\n    if (route) document.title = `${route.title} - MOTOBUY PSI`\n  }\n\n  const onMenuClick = ({ item }) => {\n    const history = createHashHistory()\n    const path = item.props.data.routes.map((route) => `/${route}`).join('')\n    history.push(path)\n    setSelectedKeys(item.props.data.routes[0] === '' ? ['Home'] : item.props.data.routes)\n  }\n\n  return (\n    <>\n      <h1 className='layout-sider-logo'>\n        <Link to='/'>\n          <span className='layout-sider-logo-f'>\n            MOTOBUY\n            <br />\n            PSI\n          </span>\n          <span className='layout-sider-logo-s'>M</span>\n        </Link>\n      </h1>\n      <Menu className='layout-sider-menu' selectedKeys={selectedKeys} onClick={onMenuClick}>\n        {menuType.map((menu) => {\n          const roles = JSON.parse(localStorage.getItem('MOTOBUY_ROLES'))\n          if (\n            menu.accessRoles.length < 1 ||\n            menu.accessRoles.filter((role) => roles.includes(role)).length > 0\n          ) {\n            return menu.children && menu.children.length > 0 ? (\n              <Menu.SubMenu\n                key={menu.key}\n                icon={menu.icon}\n                title={menu.title}\n                popupClassName='layout-sider-popup'\n              >\n                {menu.children.map((children) => {\n                  if (\n                    children.accessRoles.length < 1 ||\n                    children.accessRoles.filter((role) => roles.includes(role)).length > 0\n                  ) {\n                    return (\n                      <Menu.Item key={children.key} data={children}>\n                        {children.title}\n                      </Menu.Item>\n                    )\n                  }\n                  return null\n                })}\n              </Menu.SubMenu>\n            ) : (\n              <Menu.Item key={menu.key} icon={menu.icon} data={menu}>\n                {menu.title}\n              </Menu.Item>\n            )\n          }\n          return null\n        })}\n      </Menu>\n    </>\n  )\n}\n","import React from 'react'\nimport { Input, Button } from 'antd'\nimport {\n  HeaderNotifyEmptyIcon,\n  HeaderNotifyExistIcon,\n  HeaderLogoutIcon,\n  HeaderAccountIcon\n} from '../icon/Icon'\n\nexport const LayoutHeader = (props) => {\n  return (\n    <>\n      <div className='layout-header-left'>\n        <Input.Search placeholder='全域搜尋' enterButton />\n      </div>\n      <div className='layout-header-right'>\n        <Button>\n          <HeaderNotifyEmptyIcon />\n        </Button>\n        <Button onClick={props.onLogout}>\n          <HeaderLogoutIcon />\n        </Button>\n        <Button className='layout-header-account'>\n          <HeaderAccountIcon />\n        </Button>\n      </div>\n    </>\n  )\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Spin, Row, Col, Card, Statistic } from 'antd'\nimport { createHashHistory } from 'history'\n\nexport default class Dashboard extends React.Component {\n  history = createHashHistory()\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: false,\n      productCount: null\n    }\n  }\n\n  componentDidMount() {\n    this.history.replace('/Dashboard')\n  }\n\n  render() {\n    return (\n      <div>Dashboard</div>\n      // <Spin spinning={this.state.loading}>\n      //   <Row gutter={36}>\n      //     <Col xs={12} sm={12} md={12} lg={6}>\n      //       <Card size='small' title='商品數量' extra={<Link to='/Products/List'>管理商品</Link>}>\n      //         <Statistic value={this.state.productCount || '-'} />\n      //       </Card>\n      //     </Col>\n      //   </Row>\n      // </Spin>\n    )\n  }\n}\n","export const getPaginationSetting = (pager, onChange) => {\n  return {\n    ...pager,\n    showTotal: (total, range) => `${range[0]} - ${range[1]} 共 ${total} 筆`,\n    showSizeChanger: true,\n    showQuickJumper: true,\n    onChange\n  }\n}\n","import { restInstance } from '../runner/rest'\n\nexport default class SupplierAPI {\n  getSupplierList = (data) => {\n    return restInstance('get', '/vendor', data).then((response) => response.data)\n  }\n\n  getSupplierData = (vendorId) => {\n    return restInstance('get', `/vendor/${vendorId}`).then((response) => response.data)\n  }\n\n  addSupplierData = (data) => {\n    return restInstance('post', `/vendor/${data.vendorId}`, data).then((response) => response.data)\n  }\n\n  updateSupplierData = (vendorId, data) => {\n    return restInstance('patch', `/vendor/${vendorId}`, data).then((response) => response.data)\n  }\n}\n","import React from 'react'\r\nimport { createHashHistory } from 'history'\r\nimport { Button, Col, Input, Row, Select, Space, Table, Tooltip, Modal } from 'antd'\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\r\nimport { ListAddIcon, ListSearchIcon, ListEditIcon, ListDeleteIcon } from '../icon/Icon'\r\nimport { getPaginationSetting } from '../../component/paginationSetting'\r\nimport SupplierAPI from '../../model/api/supplier'\r\n\r\nexport default class Supplier extends React.Component {\r\n  history = createHashHistory()\r\n  supplierAPI = new SupplierAPI()\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      search: {\r\n        id: 'VENDOR_ID',\r\n        keyword: ''\r\n      },\r\n      list: [],\r\n      pagination: {\r\n        current: 1,\r\n        total: 0,\r\n        pageSize: 10,\r\n        position: ['bottomLeft']\r\n      }\r\n    }\r\n    this.getList()\r\n  }\r\n\r\n  getList = () => {\r\n    const { search, pagination } = this.state\r\n    const requestData = {\r\n      pageNum: pagination.current,\r\n      pageSize: pagination.pageSize,\r\n      queryByEnum: search.id,\r\n      queryKeyWord: `%${search.keyword}%`\r\n    }\r\n    this.supplierAPI\r\n      .getSupplierList(requestData)\r\n      .then((response) => {\r\n        pagination.total = response.data.total\r\n        this.setState({ loading: false, list: response.data.list, pagination })\r\n      })\r\n      .catch(() => this.setState({ loading: false }))\r\n  }\r\n\r\n  // search\r\n  onSelectChange = (value) => {\r\n    const { search } = this.state\r\n    search.id = value\r\n    this.setState({ search })\r\n  }\r\n  onInputChange = (e) => {\r\n    const { search } = this.state\r\n    search.keyword = e.target.value\r\n    this.setState({ search })\r\n  }\r\n  handleSearch = () => {\r\n    const { pagination } = this.state\r\n    pagination.current = 1\r\n    this.setState({ loading: true, list: [], pagination }, () => this.getList())\r\n  }\r\n\r\n  getColumns = () => {\r\n    const _this = this\r\n    const { pagination } = this.state\r\n    return [\r\n      {\r\n        dataIndex: 'vendorId',\r\n        title: '執行',\r\n        width: 70,\r\n        fixed: 'left',\r\n        render: (vendorId) => (\r\n          <Space className='list-table-option'>\r\n            <Tooltip title='編輯'>\r\n              <Button\r\n                className='list-table-option-edit'\r\n                size='small'\r\n                onClick={_this.onEdit.bind(_this, vendorId)}\r\n              >\r\n                <ListEditIcon />\r\n              </Button>\r\n            </Tooltip>\r\n            <Tooltip title='刪除'>\r\n              <Button\r\n                className='list-table-option-delete'\r\n                size='small'\r\n                onClick={_this.handleDelete.bind(_this, vendorId)}\r\n              >\r\n                <ListDeleteIcon />\r\n              </Button>\r\n            </Tooltip>\r\n          </Space>\r\n        )\r\n      },\r\n      {\r\n        title: '序',\r\n        width: 80,\r\n        align: 'center',\r\n        fixed: 'left',\r\n        render: (a, b, i) => (pagination.current - 1) * pagination.pageSize + i + 1\r\n      },\r\n      {\r\n        title: '廠商代號',\r\n        dataIndex: 'vendorId',\r\n        fixed: 'left',\r\n        width: 120\r\n      },\r\n      {\r\n        title: '廠商簡稱',\r\n        dataIndex: 'shortName'\r\n      },\r\n      {\r\n        title: '聯絡人',\r\n        dataIndex: 'contactPerson',\r\n        width: 120\r\n      },\r\n      {\r\n        title: '地址',\r\n        dataIndex: 'address',\r\n        width: 340\r\n      },\r\n      {\r\n        title: '電話1',\r\n        dataIndex: 'phone1',\r\n        width: 120\r\n      },\r\n      {\r\n        title: '傳真號碼',\r\n        dataIndex: 'faxNumber',\r\n        width: 120\r\n      },\r\n      {\r\n        title: '行動電話',\r\n        dataIndex: 'cellphone',\r\n        width: 120\r\n      }\r\n    ]\r\n  }\r\n\r\n  onEdit = (vendorId) => {\r\n    this.history.push(`/Basic/Supplier/${vendorId}`)\r\n  }\r\n\r\n  handleDelete = (vendorId) => {\r\n    Modal.confirm({\r\n      title: '確定要刪除此筆資料嗎',\r\n      icon: <ExclamationCircleOutlined />,\r\n      okText: '確認',\r\n      cancelText: '取消',\r\n      onOk: () => {\r\n        console.log('delete: ' + vendorId)\r\n      }\r\n    })\r\n  }\r\n\r\n  onPageChange = (page, pageSize) => {\r\n    const { pagination } = this.state\r\n    pagination.current = page\r\n    pagination.pageSize = pageSize\r\n    this.setState({ loading: true, list: [], pagination }, () => this.getList())\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className='list-header'>\r\n          <Row type='flex' justify='space-between'>\r\n            <Col>\r\n              <Button\r\n                type='primary'\r\n                icon={<ListAddIcon />}\r\n                onClick={() => this.history.push('/Basic/Supplier/Add')}\r\n                className='list-header-add'\r\n              >\r\n                新增\r\n              </Button>\r\n            </Col>\r\n            <Col>\r\n              <Space>\r\n                <Select\r\n                  placeholder='搜尋欄位'\r\n                  value={this.state.search.id}\r\n                  onChange={this.onSelectChange}\r\n                >\r\n                  <Select.Option value='VENDOR_ID'>廠商代號</Select.Option>\r\n                  <Select.Option value='NAME'>廠商名稱</Select.Option>\r\n                </Select>\r\n                <Input placeholder='搜尋內容' allowClear={true} onChange={this.onInputChange} />\r\n                <Button\r\n                  type='primary'\r\n                  icon={<ListSearchIcon />}\r\n                  onClick={this.handleSearch}\r\n                  className='list-header-search'\r\n                >\r\n                  查詢\r\n                </Button>\r\n              </Space>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        <Table\r\n          className='list-table-wrapper'\r\n          rowKey='vendorId'\r\n          size='small'\r\n          columns={this.getColumns()}\r\n          loading={this.state.loading}\r\n          dataSource={this.state.list}\r\n          scroll={{ x: 1290 }}\r\n          pagination={getPaginationSetting(this.state.pagination, this.onPageChange)}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Typography } from 'antd'\r\n\r\nexport const FormItem = ({ required, align = 'center', title, content, message, error }) => {\r\n  return (\r\n    <div style={{ display: 'flex', alignItems: align }}>\r\n      <div style={{ marginRight: 8, width: 80, textAlign: 'right' }}>\r\n        {required && (\r\n          <Typography.Text type='danger' style={{ marginRight: 5 }}>\r\n            *\r\n          </Typography.Text>\r\n        )}\r\n        <Typography.Text>{title}</Typography.Text>\r\n      </div>\r\n      <div style={{ width: 'calc(100% - 80px)', position: 'relative' }}>\r\n        {content}\r\n        {error && (\r\n          <span\r\n            style={{\r\n              color: 'red',\r\n              position: 'absolute',\r\n              width: '100%',\r\n              left: 0,\r\n              top: '100%',\r\n              fontSize: '12px'\r\n            }}\r\n          >\r\n            {message}\r\n          </span>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","export const initData = {\n  vendorId: '',\n  name: '',\n  shortName: '',\n  principal: '',\n  contactPerson: '',\n  postCode: '',\n  address: '',\n  phone1: '',\n  phone2: '',\n  faxNumber: '',\n  cellphone: '',\n  note1: '',\n  note2: ''\n}\n\nexport const formRules = [\n  {\n    key: 'vendorId',\n    required: true,\n    length: [10]\n  },\n  {\n    key: 'name',\n    required: true,\n    length: [30]\n  },\n  {\n    key: 'shortName',\n    required: true,\n    length: [10]\n  },\n  {\n    key: 'principal',\n    length: [2, 10]\n  },\n  {\n    key: 'contactPerson',\n    length: [2, 10]\n  },\n  {\n    key: 'address',\n    length: [100]\n  },\n  {\n    key: 'phone1',\n    required: true,\n    length: [10]\n  },\n  {\n    key: 'phone2',\n    length: [10]\n  },\n  {\n    key: 'faxNumber',\n    length: [10]\n  },\n  {\n    key: 'cellphone',\n    length: [10]\n  },\n  {\n    key: 'note1',\n    length: [255]\n  },\n  {\n    key: 'note2',\n    length: [255]\n  }\n]\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Breadcrumb, Card, Col, Row, Input, Button, Space, Modal, Spin, message } from 'antd'\r\nimport { FormItem } from '../../component/FormItem'\r\nimport { CheckOutlined, CloseOutlined, ExclamationCircleOutlined } from '@ant-design/icons'\r\nimport { createHashHistory } from 'history'\r\nimport { initData, formRules } from './supplierType'\r\n// import addressDistrict from '../../model/resource/addressDistrict.json'\r\nimport SupplierAPI from '../../model/api/supplier'\r\n\r\nexport default class SupplierForm extends React.Component {\r\n  history = createHashHistory()\r\n  supplierAPI = new SupplierAPI()\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loading: !props.createFlag,\r\n      formData: { ...initData },\r\n      formStatus: JSON.parse(JSON.stringify(formRules)),\r\n      validId: false,\r\n      canSubmit: false\r\n    }\r\n    if (!props.createFlag) {\r\n      this.getSupplierData()\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (!prevProps.createFlag && this.props.createFlag) {\r\n      this.setState({\r\n        loading: false,\r\n        formData: { ...initData },\r\n        formStatus: JSON.parse(JSON.stringify(formRules)),\r\n        validId: false,\r\n        canSubmit: false\r\n      })\r\n    } else if (!this.props.createFlag && prevProps.vendorId !== this.props.vendorId) {\r\n      this.setState(\r\n        {\r\n          loading: true,\r\n          formData: { ...initData },\r\n          formStatus: JSON.parse(JSON.stringify(formRules)),\r\n          validId: true,\r\n          canSubmit: false\r\n        },\r\n        () => this.getSupplierData()\r\n      )\r\n    }\r\n  }\r\n\r\n  getSupplierData = () => {\r\n    this.supplierAPI\r\n      .getSupplierData(this.props.vendorId)\r\n      .then((response) => {\r\n        if (response.code === 0) {\r\n          this.setState({ loading: false, formData: response.data }, () => this.checkCanSubmit())\r\n        } else {\r\n          message.error(response.message)\r\n          this.history.push('/Basic/Supplier')\r\n        }\r\n      })\r\n      .catch(() => {\r\n        message.error('Error!')\r\n        this.history.push('/Basic/Supplier')\r\n      })\r\n  }\r\n\r\n  getFormErrorStatus = (key) => {\r\n    const { formStatus } = this.state\r\n    const field = formStatus.find((field) => field.key === key)\r\n    return field ? field.error : false\r\n  }\r\n\r\n  onInputChange = (event) => {\r\n    const type = event.target.getAttribute('id')\r\n    const text = event.target.value\r\n    const { formData } = this.state\r\n    formData[type] = type === 'vendorId' ? text.toUpperCase() : text\r\n    this.checkData(formData, type)\r\n  }\r\n\r\n  // field validator\r\n  checkData = (formData, fieldKey) => {\r\n    const { formStatus } = this.state\r\n    const field = formStatus.find((field) => field.key === fieldKey)\r\n    if (field) {\r\n      const value = formData[fieldKey]\r\n      let error = false\r\n      if (field.required && !value) {\r\n        error = true\r\n      }\r\n      if (field.length && field.length.length > 0 && value) {\r\n        if (field.length.length === 1 && value.length > field.length[0]) {\r\n          error = true\r\n        } else if (\r\n          field.length.length > 1 &&\r\n          (value.length < field.length[0] || value.length > field.length[1])\r\n        ) {\r\n          error = true\r\n        }\r\n      }\r\n      if (field.regExp && !field.regExp.test(value)) {\r\n        error = true\r\n      }\r\n      field.error = error\r\n    }\r\n    this.setState({ formData, formStatus }, () => this.checkCanSubmit())\r\n  }\r\n  checkCanSubmit = () => {\r\n    this.setState({ canSubmit: !this.state.formStatus.some((field) => field.error) })\r\n  }\r\n\r\n  checkId = () => {\r\n    const { formData } = this.state\r\n    if (formData.vendorId !== '') {\r\n      this.setState({ validId: false }, () => {\r\n        this.supplierAPI.getSupplierData(formData.vendorId).then((response) => {\r\n          if (response.code === 0) {\r\n            Modal.error({\r\n              title: '此編號已重複，請重新輸入',\r\n              icon: <ExclamationCircleOutlined />,\r\n              okText: '確認',\r\n              cancelText: null,\r\n              onOk: () => {\r\n                formData.vendorId = ''\r\n                this.setState({ formData })\r\n              }\r\n            })\r\n          } else {\r\n            this.setState({ validId: true })\r\n          }\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n  // 新增\r\n  handleCreate = (back) => {\r\n    this.setState({ loading: true }, () => {\r\n      this.supplierAPI\r\n        .addSupplierData(this.state.formData)\r\n        .then((response) => {\r\n          if (response.code === 0) {\r\n            message.success('成功新增資料')\r\n            if (back) {\r\n              this.history.push('/Basic/Supplier')\r\n            } else {\r\n              const layoutContent = document.getElementById('layout-content-wrapper')\r\n              layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\r\n              this.setState({\r\n                loading: false,\r\n                formData: { ...initData },\r\n                formStatus: JSON.parse(JSON.stringify(formRules)),\r\n                canSubmit: false\r\n              })\r\n            }\r\n          } else {\r\n            Modal.error({\r\n              title: response.message,\r\n              icon: <ExclamationCircleOutlined />,\r\n              okText: '確認',\r\n              cancelText: null,\r\n              onOk: () => {\r\n                this.setState({ loading: false })\r\n              }\r\n            })\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          message.error(error.response.data.message)\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n  // 修改\r\n  handleSubmit = (back) => {\r\n    this.setState({ loading: true }, () => {\r\n      this.supplierAPI\r\n        .updateSupplierData(this.props.vendorId, this.state.formData)\r\n        .then((response) => {\r\n          if (response.code === 0) {\r\n            message.success('成功更新資料')\r\n            if (back) {\r\n              this.history.push('/Basic/Supplier')\r\n            } else {\r\n              const layoutContent = document.getElementById('layout-content-wrapper')\r\n              layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\r\n              this.getSupplierData()\r\n            }\r\n          } else {\r\n            Modal.error({\r\n              title: response.message,\r\n              icon: <ExclamationCircleOutlined />,\r\n              content: response.data.map((tip, index) => (\r\n                <>\r\n                  {index > 0 && <br />}\r\n                  {tip.split(': ')[1]}\r\n                </>\r\n              )),\r\n              okText: '確認',\r\n              cancelText: null,\r\n              onOk: () => {\r\n                this.setState({ loading: false })\r\n              }\r\n            })\r\n          }\r\n        })\r\n        .catch(() => {\r\n          message.error('資料更新失敗')\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n\r\n  handleCancel = () => {\r\n    Modal.confirm({\r\n      title: '變更尚未儲存，確定要離開嗎',\r\n      icon: <ExclamationCircleOutlined />,\r\n      okText: '確認',\r\n      cancelText: '取消',\r\n      onOk: () => {\r\n        this.history.push('/Basic/Supplier')\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const rowSetting = {\r\n      gutter: [24, 24],\r\n      type: 'flex',\r\n      align: 'middle',\r\n      style: { marginBottom: 24, marginTop: 24 }\r\n    }\r\n    const colSetting = {\r\n      xs: 24,\r\n      sm: 24,\r\n      md: 24,\r\n      lg: 8\r\n    }\r\n    return (\r\n      <>\r\n        <Breadcrumb style={{ marginBottom: 10 }}>\r\n          <Breadcrumb.Item>\r\n            <Link to='/Basic/Supplier'>廠商</Link>\r\n          </Breadcrumb.Item>\r\n          <Breadcrumb.Item>{this.props.createFlag ? '新增廠商' : '修改廠商資料'}</Breadcrumb.Item>\r\n        </Breadcrumb>\r\n        <Spin spinning={this.state.loading}>\r\n          <Card className='form-detail-card'>\r\n            <Row {...rowSetting}>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='廠商代號'\r\n                  content={\r\n                    <Input\r\n                      onBlur={this.checkId}\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.vendorId}\r\n                      id='vendorId'\r\n                      disabled={!this.props.createFlag}\r\n                    />\r\n                  }\r\n                  message='廠商代號為必填,長度需在10字內'\r\n                  error={this.getFormErrorStatus('vendorId')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='廠商名稱'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.name}\r\n                      id='name'\r\n                    />\r\n                  }\r\n                  message='廠商名稱為必填,長度需在30字內'\r\n                  error={this.getFormErrorStatus('name')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='廠商簡稱'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.shortName}\r\n                      id='shortName'\r\n                    />\r\n                  }\r\n                  message='廠商簡稱為必填,長度需在10字內'\r\n                  error={this.getFormErrorStatus('shortName')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='負責人'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.principal}\r\n                      id='principal'\r\n                    />\r\n                  }\r\n                  message='長度需在2~10字'\r\n                  error={this.getFormErrorStatus('principal')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='聯絡人'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.contactPerson}\r\n                      id='contactPerson'\r\n                    />\r\n                  }\r\n                  message='長度需在2~10字'\r\n                  error={this.getFormErrorStatus('contactPerson')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='傳真號碼'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.faxNumber}\r\n                      id='faxNumber'\r\n                    />\r\n                  }\r\n                  message='長度需在10字內'\r\n                  error={this.getFormErrorStatus('faxNumber')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='電話1'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.phone1}\r\n                      id='phone1'\r\n                    />\r\n                  }\r\n                  message='電話1為必填,長度需在10字內'\r\n                  error={this.getFormErrorStatus('phone1')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='電話2'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.phone2}\r\n                      id='phone2'\r\n                    />\r\n                  }\r\n                  message='長度需在10字內'\r\n                  error={this.getFormErrorStatus('phone2')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='行動電話'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.cellphone}\r\n                      id='cellphone'\r\n                    />\r\n                  }\r\n                  message='長度需在10字內'\r\n                  error={this.getFormErrorStatus('cellphone')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n          <Card className='form-detail-card'>\r\n            <Row {...rowSetting}>\r\n              <Col span={24}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='地址'\r\n                  content={\r\n                    <>\r\n                      <Row type='flex' gutter={[10]}>\r\n                        <Col style={{ width: 120 }}>\r\n                          <Input\r\n                            onChange={this.onInputChange}\r\n                            value={this.state.formData.postCode}\r\n                            id='postCode'\r\n                            placeholder='郵遞區號'\r\n                          />\r\n                        </Col>\r\n                        <Col style={{ width: 'calc(100% - 120px)' }}>\r\n                          <Input\r\n                            onChange={this.onInputChange}\r\n                            value={this.state.formData.address}\r\n                            id='address'\r\n                            placeholder='地址'\r\n                          />\r\n                        </Col>\r\n                      </Row>\r\n                    </>\r\n                  }\r\n                  message='長度需在100字內'\r\n                  error={this.getFormErrorStatus('address')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n          <Card className='form-detail-card'>\r\n            <Row {...rowSetting} align='top'>\r\n              <Col span={24}>\r\n                <FormItem\r\n                  required={false}\r\n                  align='flex-start'\r\n                  title='備註1'\r\n                  content={\r\n                    <Input.TextArea\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.note1}\r\n                      id='note1'\r\n                      autoSize={{ minRows: 4, maxRows: 4 }}\r\n                    />\r\n                  }\r\n                  message='長度需在255字內'\r\n                  error={this.getFormErrorStatus('note1')}\r\n                />\r\n              </Col>\r\n              <Col span={24}>\r\n                <FormItem\r\n                  required={false}\r\n                  align='flex-start'\r\n                  title='備註2'\r\n                  content={\r\n                    <Input.TextArea\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.note2}\r\n                      id='note2'\r\n                      autoSize={{ minRows: 4, maxRows: 4 }}\r\n                    />\r\n                  }\r\n                  message='長度需在255字內'\r\n                  error={this.getFormErrorStatus('note2')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n          <div style={{ margin: '20px', textAlign: 'center' }}>\r\n            <Space>\r\n              {this.props.createFlag ? (\r\n                <>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    // disabled={!this.state.canSubmit}\r\n                    disabled={!this.state.validId}\r\n                    onClick={this.handleCreate.bind(this, true)}\r\n                  >\r\n                    儲存\r\n                  </Button>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    // disabled={!this.state.canSubmit}\r\n                    disabled={!this.state.validId}\r\n                    onClick={this.handleCreate.bind(this, false)}\r\n                  >\r\n                    儲存並繼續新增\r\n                  </Button>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    // disabled={!this.state.canSubmit}\r\n                    onClick={this.handleSubmit.bind(this, false)}\r\n                  >\r\n                    儲存\r\n                  </Button>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    // disabled={!this.state.canSubmit}\r\n                    onClick={this.handleSubmit.bind(this, true)}\r\n                  >\r\n                    儲存並返回列表\r\n                  </Button>\r\n                </>\r\n              )}\r\n              <Button danger icon={<CloseOutlined />} onClick={this.handleCancel}>\r\n                取消\r\n              </Button>\r\n            </Space>\r\n          </div>\r\n        </Spin>\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport SupplierForm from './SupplierForm'\r\n\r\nexport default class SupplierDetail extends React.Component {\r\n  render() {\r\n    return (\r\n      <SupplierForm\r\n        createFlag={this.props.createFlag}\r\n        vendorId={this.props.match.params.vendorId}\r\n      />\r\n    )\r\n  }\r\n}\r\n","import { restInstance } from '../runner/rest'\n\nexport default class CustomerAPI {\n  getCustomerList = (data) => {\n    return restInstance('get', '/customers', data).then((response) => response.data)\n  }\n\n  getCustomerData = (customerId) => {\n    return restInstance('get', `/customers/${customerId}`).then((response) => response.data)\n  }\n\n  addCustomerData = (data) => {\n    return restInstance('post', `/customers/${data.customerId}`, data).then((response) => response.data)\n  }\n\n  updateCustomerData = (customerId, data) => {\n    return restInstance('patch', `/customers/${customerId}`, data).then((response) => response.data)\n  }\n}\n","import React from 'react'\r\nimport { createHashHistory } from 'history'\r\nimport { Button, Col, Input, Row, Select, Space, Table, Tooltip, Modal } from 'antd'\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\r\nimport { ListAddIcon, ListSearchIcon, ListEditIcon, ListDeleteIcon } from '../icon/Icon'\r\nimport { getPaginationSetting } from '../../component/paginationSetting'\r\nimport CustomerAPI from '../../model/api/customer'\r\n\r\nexport default class Customer extends React.Component {\r\n  history = createHashHistory()\r\n  customerAPI = new CustomerAPI()\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      search: {\r\n        id: 'CUSTOMER_ID',\r\n        keyword: ''\r\n      },\r\n      list: [],\r\n      pagination: {\r\n        current: 1,\r\n        total: 0,\r\n        pageSize: 10,\r\n        position: ['bottomLeft']\r\n      }\r\n    }\r\n    this.getList()\r\n  }\r\n\r\n  getList = () => {\r\n    const { search, pagination } = this.state\r\n    const requestData = {\r\n      pageNum: pagination.current,\r\n      pageSize: pagination.pageSize,\r\n      queryByEnum: search.id,\r\n      queryKeyWord: `%${search.keyword}%`\r\n    }\r\n    this.customerAPI\r\n      .getCustomerList(requestData)\r\n      .then((response) => {\r\n        pagination.total = response.data.total\r\n        this.setState({ loading: false, list: response.data.list, pagination })\r\n      })\r\n      .catch(() => this.setState({ loading: false }))\r\n  }\r\n\r\n  // search\r\n  onSelectChange = (value) => {\r\n    const { search } = this.state\r\n    search.id = value\r\n    this.setState({ search })\r\n  }\r\n  onInputChange = (e) => {\r\n    const { search } = this.state\r\n    search.keyword = e.target.value\r\n    this.setState({ search })\r\n  }\r\n  handleSearch = () => {\r\n    const { pagination } = this.state\r\n    pagination.current = 1\r\n    this.setState({ loading: true, list: [], pagination }, () => this.getList())\r\n  }\r\n\r\n  getColumns = () => {\r\n    const _this = this\r\n    const { pagination } = this.state\r\n    return [\r\n      {\r\n        dataIndex: 'customerId',\r\n        title: '執行',\r\n        width: 70,\r\n        fixed: 'left',\r\n        render: (customerId) => (\r\n          <Space className='list-table-option'>\r\n            <Tooltip title='編輯'>\r\n              <Button\r\n                className='list-table-option-edit'\r\n                size='small'\r\n                onClick={_this.onEdit.bind(_this, customerId)}\r\n              >\r\n                <ListEditIcon />\r\n              </Button>\r\n            </Tooltip>\r\n            <Tooltip title='刪除'>\r\n              <Button\r\n                className='list-table-option-delete'\r\n                size='small'\r\n                onClick={_this.handleDelete.bind(_this, customerId)}\r\n              >\r\n                <ListDeleteIcon />\r\n              </Button>\r\n            </Tooltip>\r\n          </Space>\r\n        )\r\n      },\r\n      {\r\n        title: '序',\r\n        width: 80,\r\n        align: 'center',\r\n        fixed: 'left',\r\n        render: (a, b, i) => (pagination.current - 1) * pagination.pageSize + i + 1\r\n      },\r\n      {\r\n        title: '客戶代號',\r\n        dataIndex: 'customerId',\r\n        fixed: 'left',\r\n        width: 120\r\n      },\r\n      {\r\n        title: '客戶簡稱',\r\n        dataIndex: 'shortName',\r\n        width: 240\r\n      },\r\n      {\r\n        title: '聯絡人',\r\n        dataIndex: 'contactPerson',\r\n        width: 120\r\n      },\r\n      {\r\n        title: '地址',\r\n        dataIndex: 'address',\r\n        width: 340\r\n      },\r\n      {\r\n        title: '電話1',\r\n        dataIndex: 'phone1',\r\n        width: 120\r\n      },\r\n      {\r\n        title: '傳真號碼',\r\n        dataIndex: 'faxNumber',\r\n        width: 120\r\n      },\r\n      {\r\n        title: '行動電話',\r\n        dataIndex: 'cellphone',\r\n        width: 120\r\n      }\r\n    ]\r\n  }\r\n\r\n  onEdit = (customerId) => {\r\n    this.history.push(`/Basic/Customer/${customerId}`)\r\n  }\r\n\r\n  handleDelete = (customerId) => {\r\n    Modal.confirm({\r\n      title: '確定要刪除此筆資料嗎',\r\n      icon: <ExclamationCircleOutlined />,\r\n      okText: '確認',\r\n      cancelText: '取消',\r\n      onOk: () => {\r\n        console.log('delete: ' + customerId)\r\n      }\r\n    })\r\n  }\r\n\r\n  onPageChange = (page, pageSize) => {\r\n    const { pagination } = this.state\r\n    pagination.current = page\r\n    pagination.pageSize = pageSize\r\n    this.setState({ loading: true, list: [], pagination }, () => this.getList())\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className='list-header'>\r\n          <Row type='flex' justify='space-between'>\r\n            <Col>\r\n              <Button\r\n                type='primary'\r\n                icon={<ListAddIcon />}\r\n                onClick={() => this.history.push('/Basic/Customer/Add')}\r\n                className='list-header-add'\r\n              >\r\n                新增\r\n              </Button>\r\n            </Col>\r\n            <Col>\r\n              <Space>\r\n                <Select\r\n                  placeholder='搜尋欄位'\r\n                  value={this.state.search.id}\r\n                  onChange={this.onSelectChange}\r\n                >\r\n                  <Select.Option value='CUSTOMER_ID'>客戶代號</Select.Option>\r\n                  <Select.Option value='NAME'>客戶名稱</Select.Option>\r\n                </Select>\r\n                <Input placeholder='搜尋內容' allowClear={true} onChange={this.onInputChange} />\r\n                <Button\r\n                  type='primary'\r\n                  icon={<ListSearchIcon />}\r\n                  onClick={this.handleSearch}\r\n                  className='list-header-search'\r\n                >\r\n                  查詢\r\n                </Button>\r\n              </Space>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        <Table\r\n          className='list-table-wrapper'\r\n          rowKey='customerId'\r\n          size='small'\r\n          columns={this.getColumns()}\r\n          loading={this.state.loading}\r\n          dataSource={this.state.list}\r\n          scroll={{ x: 1330 }}\r\n          pagination={getPaginationSetting(this.state.pagination, this.onPageChange)}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n","export const initData = {\n  customerId: '',\n  name: '',\n  shortName: '',\n  principal: '',\n  contactPerson: '',\n  postCode: '',\n  address: '',\n  phone1: '',\n  phone2: '',\n  faxNumber: '',\n  cellphone: '',\n  note1: '',\n  note2: ''\n}\n\nexport const formRules = [\n  {\n    key: 'customerId',\n    required: true,\n    length: [10]\n  },\n  {\n    key: 'name',\n    required: true,\n    length: [30]\n  },\n  {\n    key: 'shortName',\n    required: true,\n    length: [10]\n  },\n  {\n    key: 'principal',\n    length: [2, 10]\n  },\n  {\n    key: 'contactPerson',\n    length: [2, 10]\n  },\n  {\n    key: 'address',\n    length: [100]\n  },\n  {\n    key: 'phone1',\n    length: [10]\n  },\n  {\n    key: 'phone2',\n    length: [10]\n  },\n  {\n    key: 'faxNumber',\n    length: [10]\n  },\n  {\n    key: 'cellphone',\n    length: [10]\n  },\n  {\n    key: 'note1',\n    length: [255]\n  },\n  {\n    key: 'note2',\n    length: [255]\n  }\n]\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Breadcrumb, Card, Col, Row, Input, Button, Space, Modal, Spin, message } from 'antd'\r\nimport { FormItem } from '../../component/FormItem'\r\nimport { CheckOutlined, CloseOutlined, ExclamationCircleOutlined } from '@ant-design/icons'\r\nimport { createHashHistory } from 'history'\r\nimport { initData, formRules } from './customerType'\r\n// import addressDistrict from '../../model/resource/addressDistrict.json'\r\nimport CustomerAPI from '../../model/api/customer'\r\n\r\nexport default class CustomerForm extends React.Component {\r\n  history = createHashHistory()\r\n  customerAPI = new CustomerAPI()\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loading: !props.createFlag,\r\n      formData: { ...initData },\r\n      formStatus: JSON.parse(JSON.stringify(formRules)),\r\n      validId: false,\r\n      canSubmit: false\r\n    }\r\n    if (!props.createFlag) {\r\n      this.getCustomerData()\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (!prevProps.createFlag && this.props.createFlag) {\r\n      this.setState({\r\n        loading: false,\r\n        formData: { ...initData },\r\n        formStatus: JSON.parse(JSON.stringify(formRules)),\r\n        validId: false,\r\n        canSubmit: false\r\n      })\r\n    } else if (!this.props.createFlag && prevProps.customerId !== this.props.customerId) {\r\n      this.setState(\r\n        {\r\n          loading: true,\r\n          formData: { ...initData },\r\n          formStatus: JSON.parse(JSON.stringify(formRules)),\r\n          validId: true,\r\n          canSubmit: false\r\n        },\r\n        () => this.getCustomerData()\r\n      )\r\n    }\r\n  }\r\n\r\n  getCustomerData = () => {\r\n    this.customerAPI\r\n      .getCustomerData(this.props.customerId)\r\n      .then((response) => {\r\n        if (response.code === 0) {\r\n          this.setState({ loading: false, formData: response.data }, () => this.checkCanSubmit())\r\n        } else {\r\n          message.error(response.message)\r\n          this.history.push('/Basic/Customer')\r\n        }\r\n      })\r\n      .catch(() => {\r\n        message.error('Error!')\r\n        this.history.push('/Basic/Customer')\r\n      })\r\n  }\r\n\r\n  getFormErrorStatus = (key) => {\r\n    const { formStatus } = this.state\r\n    const field = formStatus.find((field) => field.key === key)\r\n    return field ? field.error : false\r\n  }\r\n\r\n  onInputChange = (event) => {\r\n    const type = event.target.getAttribute('id')\r\n    const text = event.target.value\r\n    const { formData } = this.state\r\n    formData[type] = text\r\n    this.checkData(formData, type)\r\n  }\r\n\r\n  // field validator\r\n  checkData = (formData, fieldKey) => {\r\n    const { formStatus } = this.state\r\n    const field = formStatus.find((field) => field.key === fieldKey)\r\n    if (field) {\r\n      const value = formData[fieldKey]\r\n      let error = false\r\n      if (field.required && !value) {\r\n        error = true\r\n      }\r\n      if (field.length && field.length.length > 0 && value) {\r\n        if (field.length.length === 1 && value.length > field.length[0]) {\r\n          error = true\r\n        } else if (\r\n          field.length.length > 1 &&\r\n          (value.length < field.length[0] || value.length > field.length[1])\r\n        ) {\r\n          error = true\r\n        }\r\n      }\r\n      if (field.regExp && !field.regExp.test(value)) {\r\n        error = true\r\n      }\r\n      field.error = error\r\n    }\r\n    this.setState({ formData, formStatus }, () => this.checkCanSubmit())\r\n  }\r\n  checkCanSubmit = () => {\r\n    this.setState({ canSubmit: !this.state.formStatus.some((field) => field.error) })\r\n  }\r\n\r\n  checkId = () => {\r\n    const { formData } = this.state\r\n    if (formData.customerId !== '') {\r\n      this.setState({ validId: false }, () => {\r\n        this.customerAPI.getCustomerData(formData.customerId).then((response) => {\r\n          if (response.code === 0) {\r\n            Modal.error({\r\n              title: '此編號已重複，請重新輸入',\r\n              icon: <ExclamationCircleOutlined />,\r\n              okText: '確認',\r\n              cancelText: null,\r\n              onOk: () => {\r\n                formData.customerId = ''\r\n                this.setState({ formData })\r\n              }\r\n            })\r\n          } else {\r\n            this.setState({ validId: true })\r\n          }\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n  // 新增\r\n  handleCreate = (back) => {\r\n    this.setState({ loading: true }, () => {\r\n      this.customerAPI\r\n        .addCustomerData(this.state.formData)\r\n        .then((response) => {\r\n          if (response.code === 0) {\r\n            message.success('成功新增資料')\r\n            if (back) {\r\n              this.history.push('/Basic/Customer')\r\n            } else {\r\n              const layoutContent = document.getElementById('layout-content-wrapper')\r\n              layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\r\n              this.setState({\r\n                loading: false,\r\n                formData: { ...initData },\r\n                formStatus: JSON.parse(JSON.stringify(formRules)),\r\n                canSubmit: false\r\n              })\r\n            }\r\n          } else {\r\n            Modal.error({\r\n              title: response.message,\r\n              icon: <ExclamationCircleOutlined />,\r\n              okText: '確認',\r\n              cancelText: null,\r\n              onOk: () => {\r\n                this.setState({ loading: false })\r\n              }\r\n            })\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          message.error(error.response.data.message)\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n  // 修改\r\n  handleSubmit = (back) => {\r\n    this.setState({ loading: true }, () => {\r\n      this.customerAPI\r\n        .updateCustomerData(this.props.customerId, this.state.formData)\r\n        .then((response) => {\r\n          if (response.code === 0) {\r\n            message.success('成功更新資料')\r\n            if (back) {\r\n              this.history.push('/Basic/Customer')\r\n            } else {\r\n              const layoutContent = document.getElementById('layout-content-wrapper')\r\n              layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\r\n              this.getCustomerData()\r\n            }\r\n          } else {\r\n            Modal.error({\r\n              title: response.message,\r\n              icon: <ExclamationCircleOutlined />,\r\n              content: response.data.map((tip, index) => (\r\n                <>\r\n                  {index > 0 && <br />}\r\n                  {tip.split(': ')[1]}\r\n                </>\r\n              )),\r\n              okText: '確認',\r\n              cancelText: null,\r\n              onOk: () => {\r\n                this.setState({ loading: false })\r\n              }\r\n            })\r\n          }\r\n        })\r\n        .catch(() => {\r\n          message.error('資料更新失敗')\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n\r\n  handleCancel = () => {\r\n    Modal.confirm({\r\n      title: '變更尚未儲存，確定要離開嗎',\r\n      icon: <ExclamationCircleOutlined />,\r\n      okText: '確認',\r\n      cancelText: '取消',\r\n      onOk: () => {\r\n        this.history.push('/Basic/Customer')\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const rowSetting = {\r\n      gutter: [24, 24],\r\n      type: 'flex',\r\n      align: 'middle',\r\n      style: { marginBottom: 24, marginTop: 24 }\r\n    }\r\n    const colSetting = {\r\n      xs: 24,\r\n      sm: 24,\r\n      md: 24,\r\n      lg: 8\r\n    }\r\n    return (\r\n      <>\r\n        <Breadcrumb style={{ marginBottom: 10 }}>\r\n          <Breadcrumb.Item>\r\n            <Link to='/Basic/Customer'>客戶</Link>\r\n          </Breadcrumb.Item>\r\n          <Breadcrumb.Item>{this.props.createFlag ? '新增客戶' : '修改客戶資料'}</Breadcrumb.Item>\r\n        </Breadcrumb>\r\n        <Spin spinning={this.state.loading}>\r\n          <Card className='form-detail-card'>\r\n            <Row {...rowSetting}>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='客戶代號'\r\n                  content={\r\n                    <Input\r\n                      onBlur={this.checkId}\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.customerId}\r\n                      id='customerId'\r\n                      disabled={!this.props.createFlag}\r\n                    />\r\n                  }\r\n                  message='客戶代號為必填,長度需在10字內'\r\n                  error={this.getFormErrorStatus('customerId')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='客戶名稱'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.name}\r\n                      id='name'\r\n                    />\r\n                  }\r\n                  message='客戶名稱為必填,長度需在30字內'\r\n                  error={this.getFormErrorStatus('name')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='客戶簡稱'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.shortName}\r\n                      id='shortName'\r\n                    />\r\n                  }\r\n                  message='客戶簡稱為必填,長度需在10字內'\r\n                  error={this.getFormErrorStatus('shortName')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='負責人'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.principal}\r\n                      id='principal'\r\n                    />\r\n                  }\r\n                  message='長度需在2~10字'\r\n                  error={this.getFormErrorStatus('principal')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='聯絡人'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.contactPerson}\r\n                      id='contactPerson'\r\n                    />\r\n                  }\r\n                  message='長度需在2~10字'\r\n                  error={this.getFormErrorStatus('contactPerson')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='傳真號碼'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.faxNumber}\r\n                      id='faxNumber'\r\n                    />\r\n                  }\r\n                  message='長度需在10字內'\r\n                  error={this.getFormErrorStatus('faxNumber')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='電話1'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.phone1}\r\n                      id='phone1'\r\n                    />\r\n                  }\r\n                  message='長度需在10字內'\r\n                  error={this.getFormErrorStatus('phone1')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='電話2'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.phone2}\r\n                      id='phone2'\r\n                    />\r\n                  }\r\n                  message='長度需在10字內'\r\n                  error={this.getFormErrorStatus('phone2')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='行動電話'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.cellphone}\r\n                      id='cellphone'\r\n                    />\r\n                  }\r\n                  message='長度需在10字內'\r\n                  error={this.getFormErrorStatus('cellphone')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n          <Card className='form-detail-card'>\r\n            <Row {...rowSetting}>\r\n              <Col span={24}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='地址'\r\n                  content={\r\n                    <>\r\n                      <Row type='flex' gutter={[10]}>\r\n                        <Col style={{ width: 120 }}>\r\n                          <Input\r\n                            onChange={this.onInputChange}\r\n                            value={this.state.formData.postCode}\r\n                            id='postCode'\r\n                            placeholder='郵遞區號'\r\n                          />\r\n                        </Col>\r\n                        <Col style={{ width: 'calc(100% - 120px)' }}>\r\n                          <Input\r\n                            onChange={this.onInputChange}\r\n                            value={this.state.formData.address}\r\n                            id='address'\r\n                            placeholder='地址'\r\n                          />\r\n                        </Col>\r\n                      </Row>\r\n                    </>\r\n                  }\r\n                  message='長度需在100字內'\r\n                  error={this.getFormErrorStatus('address')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n          <Card className='form-detail-card'>\r\n            <Row {...rowSetting} align='top'>\r\n              <Col span={24}>\r\n                <FormItem\r\n                  required={false}\r\n                  align='flex-start'\r\n                  title='備註1'\r\n                  content={\r\n                    <Input.TextArea\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.note1}\r\n                      id='note1'\r\n                      autoSize={{ minRows: 4, maxRows: 4 }}\r\n                    />\r\n                  }\r\n                  message='長度需在255字內'\r\n                  error={this.getFormErrorStatus('note1')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n            <Row {...rowSetting}>\r\n              <Col span={24}>\r\n                <FormItem\r\n                  required={false}\r\n                  align='flex-start'\r\n                  title='備註2'\r\n                  content={\r\n                    <Input.TextArea\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.note2}\r\n                      id='note2'\r\n                      autoSize={{ minRows: 4, maxRows: 4 }}\r\n                    />\r\n                  }\r\n                  message='長度需在255字內'\r\n                  error={this.getFormErrorStatus('note2')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n          <div style={{ margin: '20px', textAlign: 'center' }}>\r\n            <Space>\r\n              {this.props.createFlag ? (\r\n                <>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    // disabled={!this.state.canSubmit}\r\n                    disabled={!this.state.validId}\r\n                    onClick={this.handleCreate.bind(this, true)}\r\n                  >\r\n                    儲存\r\n                  </Button>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    // disabled={!this.state.canSubmit}\r\n                    disabled={!this.state.validId}\r\n                    onClick={this.handleCreate.bind(this, false)}\r\n                  >\r\n                    儲存並繼續新增\r\n                  </Button>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    // disabled={!this.state.canSubmit}\r\n                    onClick={this.handleSubmit.bind(this, false)}\r\n                  >\r\n                    儲存\r\n                  </Button>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    // disabled={!this.state.canSubmit}\r\n                    onClick={this.handleSubmit.bind(this, true)}\r\n                  >\r\n                    儲存並返回列表\r\n                  </Button>\r\n                </>\r\n              )}\r\n              <Button danger icon={<CloseOutlined />} onClick={this.handleCancel}>\r\n                取消\r\n              </Button>\r\n            </Space>\r\n          </div>\r\n        </Spin>\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport CustomerForm from './CustomerForm'\r\n\r\nexport default class CustomerDetail extends React.Component {\r\n  render() {\r\n    return (\r\n      <CustomerForm\r\n        createFlag={this.props.createFlag}\r\n        customerId={this.props.match.params.customerId}\r\n      />\r\n    )\r\n  }\r\n}\r\n","import { restInstance } from '../runner/rest'\n\nexport default class EmployeeAPI {\n  getEmployeeList = (data) => {\n    return restInstance('get', '/employees', data).then((response) => response.data)\n  }\n\n  getEmployeeData = (employeeId) => {\n    return restInstance('get', `/employees/${employeeId}`).then((response) => response.data)\n  }\n\n  addEmployeeData = (data) => {\n    return restInstance('post', `/employees/${data.employeeId}`, data).then((response) => response.data)\n  }\n\n  updateEmployeeData = (employeeId, data) => {\n    return restInstance('patch', `/employees/${employeeId}`, data).then((response) => response.data)\n  }\n}\n","import React from 'react'\nimport { createHashHistory } from 'history'\nimport { Button, Col, Input, Row, Select, Space, Table, Tooltip, Modal } from 'antd'\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\nimport { ListAddIcon, ListSearchIcon, ListEditIcon, ListDeleteIcon } from '../icon/Icon'\nimport { getPaginationSetting } from '../../component/paginationSetting'\nimport EmployeeAPI from '../../model/api/employee'\n\nexport default class Customer extends React.Component {\n  history = createHashHistory()\n  employeeAPI = new EmployeeAPI()\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: true,\n      search: {\n        id: 'EMPLOYEE_ID',\n        keyword: ''\n      },\n      list: [],\n      pagination: {\n        current: 1,\n        total: 0,\n        pageSize: 10,\n        position: ['bottomLeft']\n      }\n    }\n    this.getList()\n  }\n\n  getList = () => {\n    const { search, pagination } = this.state\n    const requestData = {\n      pageNum: pagination.current,\n      pageSize: pagination.pageSize,\n      queryByEnum: search.id,\n      queryKeyWord: `%${search.keyword}%`\n    }\n    this.employeeAPI\n      .getEmployeeList(requestData)\n      .then((response) => {\n        pagination.total = response.data.total\n        this.setState({ loading: false, list: response.data.list, pagination })\n      })\n      .catch(() => this.setState({ loading: false }))\n  }\n\n  // search\n  onSelectChange = (value) => {\n    const { search } = this.state\n    search.id = value\n    this.setState({ search })\n  }\n  onInputChange = (e) => {\n    const { search } = this.state\n    search.keyword = e.target.value\n    this.setState({ search })\n  }\n  handleSearch = () => {\n    const { pagination } = this.state\n    pagination.current = 1\n    this.setState({ loading: true, list: [], pagination }, () => this.getList())\n  }\n\n  getColumns = () => {\n    const _this = this\n    const { pagination } = this.state\n    return [\n      {\n        dataIndex: 'employeeId',\n        title: '執行',\n        width: 70,\n        fixed: 'left',\n        render: (employeeId) => (\n          <Space className='list-table-option'>\n            <Tooltip title='編輯'>\n              <Button\n                className='list-table-option-edit'\n                size='small'\n                onClick={_this.onEdit.bind(_this, employeeId)}\n              >\n                <ListEditIcon />\n              </Button>\n            </Tooltip>\n            <Tooltip title='刪除'>\n              <Button\n                className='list-table-option-delete'\n                size='small'\n                onClick={_this.handleDelete.bind(_this, employeeId)}\n              >\n                <ListDeleteIcon />\n              </Button>\n            </Tooltip>\n          </Space>\n        )\n      },\n      {\n        title: '序',\n        width: 80,\n        align: 'center',\n        fixed: 'left',\n        render: (a, b, i) => (pagination.current - 1) * pagination.pageSize + i + 1\n      },\n      {\n        title: '員工編號',\n        dataIndex: 'employeeId',\n        fixed: 'left',\n        width: 120\n      },\n      {\n        title: '姓名',\n        dataIndex: 'name'\n      },\n      {\n        title: '手機號碼',\n        dataIndex: 'cellphone',\n        width: 120\n      },\n      {\n        title: '市內電話',\n        dataIndex: 'phone',\n        width: 120\n      }\n    ]\n  }\n\n  onEdit = (employeeId) => {\n    this.history.push(`/Basic/Employee/${employeeId}`)\n  }\n\n  handleDelete = (employeeId) => {\n    Modal.confirm({\n      title: '確定要刪除此筆資料嗎',\n      icon: <ExclamationCircleOutlined />,\n      okText: '確認',\n      cancelText: '取消',\n      onOk: () => {\n        console.log('delete: ' + employeeId)\n      }\n    })\n  }\n\n  onPageChange = (page, pageSize) => {\n    const { pagination } = this.state\n    pagination.current = page\n    pagination.pageSize = pageSize\n    this.setState({ loading: true, list: [], pagination }, () => this.getList())\n  }\n\n  render() {\n    return (\n      <>\n        <div className='list-header'>\n          <Row type='flex' justify='space-between'>\n            <Col>\n              <Button\n                type='primary'\n                icon={<ListAddIcon />}\n                onClick={() => this.history.push('/Basic/Employee/Add')}\n                className='list-header-add'\n              >\n                新增\n              </Button>\n            </Col>\n            <Col>\n              <Space>\n                <Select\n                  placeholder='搜尋欄位'\n                  value={this.state.search.id}\n                  onChange={this.onSelectChange}\n                >\n                  <Select.Option value='EMPLOYEE_ID'>員工編號</Select.Option>\n                  <Select.Option value='NAME'>姓名</Select.Option>\n                </Select>\n                <Input placeholder='搜尋內容' allowClear={true} onChange={this.onInputChange} />\n                <Button\n                  type='primary'\n                  icon={<ListSearchIcon />}\n                  onClick={this.handleSearch}\n                  className='list-header-search'\n                >\n                  查詢\n                </Button>\n              </Space>\n            </Col>\n          </Row>\n        </div>\n        <Table\n          className='list-table-wrapper'\n          rowKey='employeeId'\n          size='small'\n          columns={this.getColumns()}\n          loading={this.state.loading}\n          dataSource={this.state.list}\n          scroll={{ x: 630 }}\n          pagination={getPaginationSetting(this.state.pagination, this.onPageChange)}\n        />\n      </>\n    )\n  }\n}\n","export const initData = {\n  employeeId: '',\n  identityCardNumber: '',\n  name: '',\n  birthday: null,\n  address: '',\n  cellphone: '',\n  phone: '',\n  takeOfficeDay: null,\n  education: '',\n  experience: '',\n  note: '',\n  salary: null,\n  extraBonus: null,\n  fullAttendanceBonus: null\n}\n\nexport const formRules = [\n  {\n    key: 'employeeId',\n    required: true,\n    length: [10]\n  },\n  {\n    key: 'identityCardNumber',\n    required: true,\n    length: [10]\n  },\n  {\n    key: 'name',\n    required: true,\n    length: [30]\n  },\n  {\n    key: 'address',\n    length: [100]\n  },\n  {\n    key: 'cellphone',\n    length: [10]\n  },\n  {\n    key: 'phone',\n    length: [10]\n  },\n  {\n    key: 'education',\n    length: [10]\n  },\n  {\n    key: 'experience',\n    length: [10]\n  },\n  {\n    key: 'note',\n    length: [255]\n  }\n]\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport {\n  Breadcrumb,\n  Card,\n  Col,\n  Row,\n  Input,\n  InputNumber,\n  DatePicker,\n  Button,\n  Space,\n  Modal,\n  Spin,\n  message\n} from 'antd'\nimport { FormItem } from '../../component/FormItem'\nimport { CheckOutlined, CloseOutlined, ExclamationCircleOutlined } from '@ant-design/icons'\nimport moment from 'moment'\nimport { createHashHistory } from 'history'\nimport { initData, formRules } from './employeeType'\n// import addressDistrict from '../../model/resource/addressDistrict.json'\nimport EmployeeAPI from '../../model/api/employee'\n\nexport default class EmployeeForm extends React.Component {\n  history = createHashHistory()\n  employeeAPI = new EmployeeAPI()\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: !props.createFlag,\n      formData: { ...initData },\n      formStatus: JSON.parse(JSON.stringify(formRules)),\n      validId: false,\n      canSubmit: false\n    }\n    if (!props.createFlag) {\n      this.getEmployeeData()\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.createFlag && this.props.createFlag) {\n      this.setState({\n        loading: false,\n        formData: { ...initData },\n        formStatus: JSON.parse(JSON.stringify(formRules)),\n        validId: false,\n        canSubmit: false\n      })\n    } else if (!this.props.createFlag && prevProps.employeeId !== this.props.employeeId) {\n      this.setState(\n        {\n          loading: true,\n          formData: { ...initData },\n          formStatus: JSON.parse(JSON.stringify(formRules)),\n          validId: true,\n          canSubmit: false\n        },\n        () => this.getEmployeeData()\n      )\n    }\n  }\n\n  getEmployeeData = () => {\n    this.employeeAPI\n      .getEmployeeData(this.props.employeeId)\n      .then((response) => {\n        if (response.code === 0) {\n          this.setState(\n            {\n              loading: false,\n              formData: {\n                ...response.data,\n                birthday: moment(response.data.birthday, 'YYYY-MM-DD').valueOf(),\n                takeOfficeDay: moment(response.data.takeOfficeDay, 'YYYY-MM-DD').valueOf()\n              }\n            },\n            () => this.checkCanSubmit()\n          )\n        } else {\n          message.error(response.message)\n          this.history.push('/Basic/Employee')\n        }\n      })\n      .catch(() => {\n        message.error('Error!')\n        this.history.push('/Basic/Employee')\n      })\n  }\n\n  getFormErrorStatus = (key) => {\n    const { formStatus } = this.state\n    const field = formStatus.find((field) => field.key === key)\n    return field ? field.error : false\n  }\n\n  onInputChange = (event) => {\n    const type = event.target.getAttribute('id')\n    const text = event.target.value\n    const { formData } = this.state\n    formData[type] = text\n    this.checkData(formData, type)\n  }\n  onDateChange = (type, date) => {\n    const { formData } = this.state\n    formData[type] = moment(date).valueOf()\n    this.checkData(formData, type)\n  }\n  onNumberChange = (type, value) => {\n    const { formData } = this.state\n    formData[type] = value\n    this.checkData(formData, type)\n  }\n\n  // field validator\n  checkData = (formData, fieldKey) => {\n    const { formStatus } = this.state\n    const field = formStatus.find((field) => field.key === fieldKey)\n    if (field) {\n      const value = formData[fieldKey]\n      let error = false\n      if (field.required && !value) {\n        error = true\n      }\n      if (field.length && field.length.length > 0 && value) {\n        if (field.length.length === 1 && value.length > field.length[0]) {\n          error = true\n        } else if (\n          field.length.length > 1 &&\n          (value.length < field.length[0] || value.length > field.length[1])\n        ) {\n          error = true\n        }\n      }\n      if (field.regExp && !field.regExp.test(value)) {\n        error = true\n      }\n      field.error = error\n    }\n    this.setState({ formData, formStatus }, () => this.checkCanSubmit())\n  }\n  checkCanSubmit = () => {\n    this.setState({ canSubmit: !this.state.formStatus.some((field) => field.error) })\n  }\n\n  checkId = () => {\n    const { formData } = this.state\n    if (formData.employeeId !== '') {\n      this.setState({ validId: false }, () => {\n        this.employeeAPI.getEmployeeData(formData.employeeId).then((response) => {\n          if (response.code === 0) {\n            Modal.error({\n              title: '此編號已重複，請重新輸入',\n              icon: <ExclamationCircleOutlined />,\n              okText: '確認',\n              cancelText: null,\n              onOk: () => {\n                formData.employeeId = ''\n                this.setState({ formData })\n              }\n            })\n          } else {\n            this.setState({ validId: true })\n          }\n        })\n      })\n    }\n  }\n\n  // 新增\n  handleCreate = (back) => {\n    this.setState({ loading: true }, () => {\n      this.employeeAPI\n        .addEmployeeData(this.state.formData)\n        .then((response) => {\n          if (response.code === 0) {\n            message.success('成功新增資料')\n            if (back) {\n              this.history.push('/Basic/Employee')\n            } else {\n              const layoutContent = document.getElementById('layout-content-wrapper')\n              layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\n              this.setState({\n                loading: false,\n                formData: { ...initData },\n                formStatus: JSON.parse(JSON.stringify(formRules)),\n                canSubmit: false\n              })\n            }\n          } else {\n            Modal.error({\n              title: response.message,\n              icon: <ExclamationCircleOutlined />,\n              okText: '確認',\n              cancelText: null,\n              onOk: () => {\n                this.setState({ loading: false })\n              }\n            })\n          }\n        })\n        .catch((error) => {\n          message.error(error.response.data.message)\n          this.setState({ loading: false })\n        })\n    })\n  }\n  // 修改\n  handleSubmit = (back) => {\n    this.setState({ loading: true }, () => {\n      this.employeeAPI\n        .updateEmployeeData(this.props.employeeId, {\n          ...this.state.formData,\n          birthday: moment(this.state.formData.birthday).format('YYYY-MM-DD'),\n          takeOfficeDay: moment(this.state.formData.takeOfficeDay).format('YYYY-MM-DD')\n        })\n        .then((response) => {\n          if (response.code === 0) {\n            message.success('成功更新資料')\n            if (back) {\n              this.history.push('/Basic/Employee')\n            } else {\n              const layoutContent = document.getElementById('layout-content-wrapper')\n              layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\n              this.getEmployeeData()\n            }\n          } else {\n            Modal.error({\n              title: response.message,\n              icon: <ExclamationCircleOutlined />,\n              content: response.data.map((tip, index) => (\n                <>\n                  {index > 0 && <br />}\n                  {tip.split(': ')[1]}\n                </>\n              )),\n              okText: '確認',\n              cancelText: null,\n              onOk: () => {\n                this.setState({ loading: false })\n              }\n            })\n          }\n        })\n        .catch((error) => {\n          message.error('資料更新失敗')\n          this.setState({ loading: false })\n        })\n    })\n  }\n\n  handleCancel = () => {\n    Modal.confirm({\n      title: '變更尚未儲存，確定要離開嗎',\n      icon: <ExclamationCircleOutlined />,\n      okText: '確認',\n      cancelText: '取消',\n      onOk: () => {\n        this.history.push('/Basic/Employee')\n      }\n    })\n  }\n\n  render() {\n    const rowSetting = {\n      gutter: [24, 24],\n      type: 'flex',\n      align: 'middle',\n      style: { marginBottom: 24, marginTop: 24 }\n    }\n    const colSetting = {\n      xs: 24,\n      sm: 24,\n      md: 24,\n      lg: 8\n    }\n    return (\n      <>\n        <Breadcrumb style={{ marginBottom: 10 }}>\n          <Breadcrumb.Item>\n            <Link to='/Basic/Employee'>員工</Link>\n          </Breadcrumb.Item>\n          <Breadcrumb.Item>{this.props.createFlag ? '新增員工' : '修改員工資料'}</Breadcrumb.Item>\n        </Breadcrumb>\n        <Spin spinning={this.state.loading}>\n          <Card className='form-detail-card'>\n            <Row {...rowSetting}>\n              <Col {...colSetting}>\n                <FormItem\n                  required={true}\n                  title='員工編號'\n                  content={\n                    <Input\n                      onBlur={this.checkId}\n                      onChange={this.onInputChange}\n                      value={this.state.formData.employeeId}\n                      id='employeeId'\n                      disabled={!this.props.createFlag}\n                    />\n                  }\n                  message='員工編號為必填,長度需在10字內'\n                  error={this.getFormErrorStatus('employeeId')}\n                />\n              </Col>\n              <Col {...colSetting}>\n                <FormItem\n                  required={true}\n                  title='身分證號'\n                  content={\n                    <Input\n                      onChange={this.onInputChange}\n                      value={this.state.formData.identityCardNumber}\n                      id='identityCardNumber'\n                    />\n                  }\n                  message='身分證號為必填,長度需在10字內'\n                  error={this.getFormErrorStatus('identityCardNumber')}\n                />\n              </Col>\n              <Col {...colSetting}>\n                <FormItem\n                  required={true}\n                  title='姓名'\n                  content={\n                    <Input\n                      onChange={this.onInputChange}\n                      value={this.state.formData.name}\n                      id='name'\n                    />\n                  }\n                  message='姓名為必填,長度需在30字內'\n                  error={this.getFormErrorStatus('name')}\n                />\n              </Col>\n              <Col {...colSetting}>\n                <FormItem\n                  required={false}\n                  title='出生年月日'\n                  content={\n                    <DatePicker\n                      onChange={this.onDateChange.bind(this, 'birthday')}\n                      value={\n                        !this.state.formData.birthday\n                          ? undefined\n                          : moment(this.state.formData.birthday)\n                      }\n                      format='YYYY-MM-DD'\n                      placeholder=''\n                      style={{ display: 'block' }}\n                    />\n                  }\n                />\n              </Col>\n              <Col {...colSetting}>\n                <FormItem\n                  required={false}\n                  title='手機號碼'\n                  content={\n                    <Input\n                      onChange={this.onInputChange}\n                      value={this.state.formData.cellphone}\n                      id='cellphone'\n                    />\n                  }\n                  message='長度需在10字內'\n                  error={this.getFormErrorStatus('cellphone')}\n                />\n              </Col>\n              <Col {...colSetting}>\n                <FormItem\n                  required={false}\n                  title='市內電話'\n                  content={\n                    <Input\n                      onChange={this.onInputChange}\n                      value={this.state.formData.phone}\n                      id='phone'\n                    />\n                  }\n                  message='長度需在10字內'\n                  error={this.getFormErrorStatus('phone')}\n                />\n              </Col>\n              <Col {...colSetting}>\n                <FormItem\n                  required={false}\n                  title='就職日期'\n                  content={\n                    <DatePicker\n                      onChange={this.onDateChange.bind(this, 'takeOfficeDay')}\n                      value={\n                        !this.state.formData.takeOfficeDay\n                          ? undefined\n                          : moment(this.state.formData.takeOfficeDay)\n                      }\n                      format='YYYY-MM-DD'\n                      placeholder=''\n                      style={{ display: 'block' }}\n                    />\n                  }\n                />\n              </Col>\n              <Col {...colSetting}>\n                <FormItem\n                  required={false}\n                  title='學歷'\n                  content={\n                    <Input\n                      onChange={this.onInputChange}\n                      value={this.state.formData.education}\n                      id='education'\n                    />\n                  }\n                  message='長度需在10字內'\n                  error={this.getFormErrorStatus('education')}\n                />\n              </Col>\n              <Col {...colSetting}>\n                <FormItem\n                  required={false}\n                  title='薪資'\n                  content={\n                    <InputNumber\n                      onChange={this.onNumberChange.bind(this, 'salary')}\n                      value={this.state.formData.salary}\n                      min={0}\n                      max={999999}\n                      step={1}\n                      style={{ display: 'block', width: '100%' }}\n                    />\n                  }\n                />\n              </Col>\n              <Col {...colSetting}>\n                <FormItem\n                  required={false}\n                  title='職務津貼'\n                  content={\n                    <InputNumber\n                      onChange={this.onNumberChange.bind(this, 'extraBonus')}\n                      value={this.state.formData.extraBonus}\n                      min={0}\n                      max={999999}\n                      step={1}\n                      style={{ display: 'block', width: '100%' }}\n                    />\n                  }\n                />\n              </Col>\n              <Col {...colSetting}>\n                <FormItem\n                  required={false}\n                  title='全勤津貼'\n                  content={\n                    <InputNumber\n                      onChange={this.onNumberChange.bind(this, 'fullAttendanceBonus')}\n                      value={this.state.formData.fullAttendanceBonus}\n                      min={0}\n                      max={999999}\n                      step={1}\n                      style={{ display: 'block', width: '100%' }}\n                    />\n                  }\n                />\n              </Col>\n            </Row>\n          </Card>\n          <Card className='form-detail-card'>\n            <Row {...rowSetting}>\n              <Col span={24}>\n                <FormItem\n                  required={false}\n                  title='地址'\n                  content={\n                    <>\n                      <Row type='flex' gutter={[10]}>\n                        <Col style={{ width: 120 }}>\n                          <Input\n                            onChange={this.onInputChange}\n                            value={this.state.formData.postCode}\n                            id='postCode'\n                            placeholder='郵遞區號'\n                          />\n                        </Col>\n                        <Col style={{ width: 'calc(100% - 120px)' }}>\n                          <Input\n                            onChange={this.onInputChange}\n                            value={this.state.formData.address}\n                            id='address'\n                            placeholder='地址'\n                          />\n                        </Col>\n                      </Row>\n                    </>\n                  }\n                  message='長度需在100字內'\n                  error={this.getFormErrorStatus('address')}\n                />\n              </Col>\n            </Row>\n          </Card>\n          <Card className='form-detail-card'>\n            <Row {...rowSetting} align='top'>\n              <Col span={24}>\n                <FormItem\n                  required={false}\n                  align='flex-start'\n                  title='經歷'\n                  content={\n                    <Input.TextArea\n                      onChange={this.onInputChange}\n                      value={this.state.formData.experience}\n                      id='experience'\n                      autoSize={{ minRows: 4, maxRows: 4 }}\n                    />\n                  }\n                  message='長度需在255字內'\n                  error={this.getFormErrorStatus('experience')}\n                />\n              </Col>\n            </Row>\n            <Row {...rowSetting}>\n              <Col span={24}>\n                <FormItem\n                  required={false}\n                  align='flex-start'\n                  title='備註'\n                  content={\n                    <Input.TextArea\n                      onChange={this.onInputChange}\n                      value={this.state.formData.note}\n                      id='note'\n                      autoSize={{ minRows: 4, maxRows: 4 }}\n                    />\n                  }\n                  message='長度需在255字內'\n                  error={this.getFormErrorStatus('note')}\n                />\n              </Col>\n            </Row>\n          </Card>\n          <div style={{ margin: '20px', textAlign: 'center' }}>\n            <Space>\n              {this.props.createFlag ? (\n                <>\n                  <Button\n                    type='primary'\n                    icon={<CheckOutlined />}\n                    // disabled={!this.state.canSubmit}\n                    disabled={!this.state.validId}\n                    onClick={this.handleCreate.bind(this, true)}\n                  >\n                    儲存\n                  </Button>\n                  <Button\n                    type='primary'\n                    icon={<CheckOutlined />}\n                    // disabled={!this.state.canSubmit}\n                    disabled={!this.state.validId}\n                    onClick={this.handleCreate.bind(this, false)}\n                  >\n                    儲存並繼續新增\n                  </Button>\n                </>\n              ) : (\n                <>\n                  <Button\n                    type='primary'\n                    icon={<CheckOutlined />}\n                    // disabled={!this.state.canSubmit}\n                    onClick={this.handleSubmit.bind(this, false)}\n                  >\n                    儲存\n                  </Button>\n                  <Button\n                    type='primary'\n                    icon={<CheckOutlined />}\n                    // disabled={!this.state.canSubmit}\n                    onClick={this.handleSubmit.bind(this, true)}\n                  >\n                    儲存並返回列表\n                  </Button>\n                </>\n              )}\n              <Button danger icon={<CloseOutlined />} onClick={this.handleCancel}>\n                取消\n              </Button>\n            </Space>\n          </div>\n        </Spin>\n      </>\n    )\n  }\n}\n","import React from 'react'\nimport EmployeeForm from './EmployeeForm'\n\nexport default class EmployeeDetail extends React.Component {\n  render() {\n    return (\n      <EmployeeForm\n        createFlag={this.props.createFlag}\n        employeeId={this.props.match.params.employeeId}\n      />\n    )\n  }\n}\n","import { restInstance } from '../runner/rest'\n\nexport default class VehicleAPI {\n  getVehicleList = (data) => {\n    return restInstance('get', '/kinds', data).then((response) => response.data)\n  }\n\n  getVehicleData = (kindId) => {\n    return restInstance('get', `/kinds/${kindId}`).then((response) => response.data)\n  }\n\n  addVehicleData = (data) => {\n    return restInstance('post', `/kinds/${data.kindId}`, data).then((response) => response.data)\n  }\n\n  updateVehicleData = (kindId, data) => {\n    return restInstance('patch', `/kinds/${kindId}`, data).then((response) => response.data)\n  }\n}\n","import React from 'react'\nimport { createHashHistory } from 'history'\nimport { Button, Col, Input, Row, Space, Table, Tooltip, Modal } from 'antd'\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\nimport { ListAddIcon, ListSearchIcon, ListEditIcon, ListDeleteIcon } from '../icon/Icon'\nimport { getPaginationSetting } from '../../component/paginationSetting'\nimport VehicleAPI from '../../model/api/vehicle'\n\nexport default class Vehicle extends React.Component {\n  history = createHashHistory()\n  vehicleAPI = new VehicleAPI()\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: true,\n      search: {\n        keyword: ''\n      },\n      list: [],\n      pagination: {\n        current: 1,\n        total: 0,\n        pageSize: 10,\n        position: ['bottomLeft']\n      }\n    }\n    this.getList()\n  }\n\n  getList = () => {\n    const { search, pagination } = this.state\n    const requestData = {\n      pageNum: pagination.current,\n      pageSize: pagination.pageSize,\n      kindIdLike: `%${search.keyword}%`\n    }\n    this.vehicleAPI\n      .getVehicleList(requestData)\n      .then((response) => {\n        pagination.total = response.data.total\n        this.setState({ loading: false, list: response.data.list, pagination })\n      })\n      .catch(() => this.setState({ loading: false }))\n  }\n\n  // search\n  onInputChange = (e) => {\n    const { search } = this.state\n    search.keyword = e.target.value\n    this.setState({ search })\n  }\n  handleSearch = () => {\n    const { pagination } = this.state\n    pagination.current = 1\n    this.setState({ loading: true, list: [], pagination }, () => this.getList())\n  }\n\n  getColumns = () => {\n    const _this = this\n    const { pagination } = this.state\n    return [\n      {\n        dataIndex: 'kindId',\n        title: '執行',\n        width: 70,\n        fixed: 'left',\n        render: (kindId) => (\n          <Space className='list-table-option'>\n            <Tooltip title='編輯'>\n              <Button\n                className='list-table-option-edit'\n                size='small'\n                onClick={_this.onEdit.bind(_this, kindId)}\n              >\n                <ListEditIcon />\n              </Button>\n            </Tooltip>\n            <Tooltip title='刪除'>\n              <Button\n                className='list-table-option-delete'\n                size='small'\n                onClick={_this.handleDelete.bind(_this, kindId)}\n              >\n                <ListDeleteIcon />\n              </Button>\n            </Tooltip>\n          </Space>\n        )\n      },\n      {\n        title: '序',\n        width: 80,\n        align: 'center',\n        fixed: 'left',\n        render: (a, b, i) => (pagination.current - 1) * pagination.pageSize + i + 1\n      },\n      {\n        title: '車種代號',\n        dataIndex: 'kindId',\n        fixed: 'left',\n        width: 120\n      },\n      {\n        title: '車種簡稱',\n        dataIndex: 'shortName',\n        width: 140\n      },\n      {\n        title: '車種名稱',\n        dataIndex: 'name'\n      },\n      {\n        title: '車廠',\n        dataIndex: 'factory',\n        width: 120\n      }\n    ]\n  }\n\n  onEdit = (kindId) => {\n    this.history.push(`/Parts/Vehicle/${kindId}`)\n  }\n\n  handleDelete = (kindId) => {\n    Modal.confirm({\n      title: '確定要刪除此筆資料嗎',\n      icon: <ExclamationCircleOutlined />,\n      okText: '確認',\n      cancelText: '取消',\n      onOk: () => {\n        console.log('delete: ' + kindId)\n      }\n    })\n  }\n\n  onPageChange = (page, pageSize) => {\n    const { pagination } = this.state\n    pagination.current = page\n    pagination.pageSize = pageSize\n    this.setState({ loading: true, list: [], pagination }, () => this.getList())\n  }\n\n  render() {\n    return (\n      <>\n        <div className='list-header'>\n          <Row type='flex' justify='space-between'>\n            <Col>\n              <Button\n                type='primary'\n                icon={<ListAddIcon />}\n                onClick={() => this.history.push('/Parts/Vehicle/Add')}\n                className='list-header-add'\n              >\n                新增\n              </Button>\n            </Col>\n            <Col>\n              <Space>\n                <Input\n                  placeholder='搜尋車種代號'\n                  allowClear={true}\n                  onChange={this.onInputChange}\n                  style={{ width: 140 }}\n                />\n                <Button\n                  type='primary'\n                  icon={<ListSearchIcon />}\n                  onClick={this.handleSearch}\n                  className='list-header-search'\n                >\n                  查詢\n                </Button>\n              </Space>\n            </Col>\n          </Row>\n        </div>\n        <Table\n          className='list-table-wrapper'\n          rowKey='vendorId'\n          size='small'\n          columns={this.getColumns()}\n          loading={this.state.loading}\n          dataSource={this.state.list}\n          scroll={{ x: 830 }}\n          pagination={getPaginationSetting(this.state.pagination, this.onPageChange)}\n        />\n      </>\n    )\n  }\n}\n","export const initData = {\n  kindId: '',\n  name: '',\n  shortName: '',\n  factory: ''\n}\n\nexport const formRules = [\n  {\n    key: 'kindId',\n    required: true,\n    length: [8]\n  },\n  {\n    key: 'name',\n    required: true,\n    length: [20]\n  },\n  {\n    key: 'shortName',\n    required: true,\n    length: [15]\n  },\n  {\n    key: 'factory',\n    length: [3]\n  }\n]\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Breadcrumb, Card, Col, Row, Input, Button, Space, Modal, Spin, message } from 'antd'\nimport { FormItem } from '../../component/FormItem'\nimport { CheckOutlined, CloseOutlined, ExclamationCircleOutlined } from '@ant-design/icons'\nimport { createHashHistory } from 'history'\nimport { initData, formRules } from './vehicleType'\n// import addressDistrict from '../../model/resource/addressDistrict.json'\nimport VehicleAPI from '../../model/api/vehicle'\n\nexport default class VehicleForm extends React.Component {\n  history = createHashHistory()\n  vehicleAPI = new VehicleAPI()\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: !props.createFlag,\n      formData: { ...initData },\n      formStatus: JSON.parse(JSON.stringify(formRules)),\n      validId: false,\n      canSubmit: false\n    }\n    if (!props.createFlag) {\n      this.getVehicleData()\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.createFlag && this.props.createFlag) {\n      this.setState({\n        loading: false,\n        formData: { ...initData },\n        formStatus: JSON.parse(JSON.stringify(formRules)),\n        validId: false,\n        canSubmit: false\n      })\n    } else if (!this.props.createFlag && prevProps.kindId !== this.props.kindId) {\n      this.setState(\n        {\n          loading: true,\n          formData: { ...initData },\n          formStatus: JSON.parse(JSON.stringify(formRules)),\n          validId: true,\n          canSubmit: false\n        },\n        () => this.getVehicleData()\n      )\n    }\n  }\n\n  getVehicleData = () => {\n    this.vehicleAPI\n      .getVehicleData(this.props.kindId)\n      .then((response) => {\n        if (response.code === 0) {\n          this.setState({ loading: false, formData: response.data }, () => this.checkCanSubmit())\n        } else {\n          message.error(response.message)\n          this.history.push('/Parts/Vehicle')\n        }\n      })\n      .catch(() => {\n        message.error('Error!')\n        this.history.push('/Parts/Vehicle')\n      })\n  }\n\n  getFormErrorStatus = (key) => {\n    const { formStatus } = this.state\n    const field = formStatus.find((field) => field.key === key)\n    return field ? field.error : false\n  }\n\n  onInputChange = (event) => {\n    const type = event.target.getAttribute('id')\n    const text = event.target.value\n    const { formData } = this.state\n    formData[type] = text\n    this.checkData(formData, type)\n  }\n\n  // field validator\n  checkData = (formData, fieldKey) => {\n    const { formStatus } = this.state\n    const field = formStatus.find((field) => field.key === fieldKey)\n    if (field) {\n      const value = formData[fieldKey]\n      let error = false\n      if (field.required && !value) {\n        error = true\n      }\n      if (field.length && field.length.length > 0 && value) {\n        if (field.length.length === 1 && value.length > field.length[0]) {\n          error = true\n        } else if (\n          field.length.length > 1 &&\n          (value.length < field.length[0] || value.length > field.length[1])\n        ) {\n          error = true\n        }\n      }\n      if (field.regExp && !field.regExp.test(value)) {\n        error = true\n      }\n      field.error = error\n    }\n    this.setState({ formData, formStatus }, () => this.checkCanSubmit())\n  }\n  checkCanSubmit = () => {\n    this.setState({ canSubmit: !this.state.formStatus.some((field) => field.error) })\n  }\n\n  checkId = () => {\n    const { formData } = this.state\n    if (formData.kindId !== '') {\n      this.setState({ validId: false }, () => {\n        this.vehicleAPI.getVehicleData(formData.kindId).then((response) => {\n          if (response.code === 0) {\n            Modal.error({\n              title: '此編號已重複，請重新輸入',\n              icon: <ExclamationCircleOutlined />,\n              okText: '確認',\n              cancelText: null,\n              onOk: () => {\n                formData.kindId = ''\n                this.setState({ formData })\n              }\n            })\n          } else {\n            this.setState({ validId: true })\n          }\n        })\n      })\n    }\n  }\n\n  // 新增\n  handleCreate = (back) => {\n    this.setState({ loading: true }, () => {\n      this.vehicleAPI\n        .addVehicleData(this.state.formData)\n        .then((response) => {\n          if (response.code === 0) {\n            message.success('成功新增資料')\n            if (back) {\n              this.history.push('/Basic/Vehicle')\n            } else {\n              const layoutContent = document.getElementById('layout-content-wrapper')\n              layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\n              this.setState({\n                loading: false,\n                formData: { ...initData },\n                formStatus: JSON.parse(JSON.stringify(formRules)),\n                canSubmit: false\n              })\n            }\n          } else {\n            Modal.error({\n              title: response.message,\n              icon: <ExclamationCircleOutlined />,\n              okText: '確認',\n              cancelText: null,\n              onOk: () => {\n                this.setState({ loading: false })\n              }\n            })\n          }\n        })\n        .catch((error) => {\n          message.error(error.response.data.message)\n          this.setState({ loading: false })\n        })\n    })\n  }\n  // 修改\n  handleSubmit = (back) => {\n    this.setState({ loading: true }, () => {\n      this.vehicleAPI\n        .updateVehicleData(this.props.kindId, this.state.formData)\n        .then((response) => {\n          if (response.code === 0) {\n            message.success('成功更新資料')\n            if (back) {\n              this.history.push('/Parts/Vehicle')\n            } else {\n              const layoutContent = document.getElementById('layout-content-wrapper')\n              layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\n              this.getVehicleData()\n            }\n          } else {\n            Modal.error({\n              title: response.message,\n              icon: <ExclamationCircleOutlined />,\n              content: response.data.map((tip, index) => (\n                <>\n                  {index > 0 && <br />}\n                  {tip.split(': ')[1]}\n                </>\n              )),\n              okText: '確認',\n              cancelText: null,\n              onOk: () => {\n                this.setState({ loading: false })\n              }\n            })\n          }\n        })\n        .catch(() => {\n          message.error('資料更新失敗')\n          this.setState({ loading: false })\n        })\n    })\n  }\n\n  handleCancel = () => {\n    Modal.confirm({\n      title: '變更尚未儲存，確定要離開嗎',\n      icon: <ExclamationCircleOutlined />,\n      okText: '確認',\n      cancelText: '取消',\n      onOk: () => {\n        this.history.push('/Parts/Vehicle')\n      }\n    })\n  }\n\n  render() {\n    const rowSetting = {\n      gutter: [24, 24],\n      type: 'flex',\n      align: 'middle',\n      style: { marginBottom: 24, marginTop: 24 }\n    }\n    const colSetting = {\n      xs: 24,\n      sm: 24,\n      md: 24,\n      lg: 12\n    }\n    return (\n      <>\n        <Breadcrumb style={{ marginBottom: 10 }}>\n          <Breadcrumb.Item>\n            <Link to='/Parts/Vehicle'>車種</Link>\n          </Breadcrumb.Item>\n          <Breadcrumb.Item>{this.props.createFlag ? '新增車種' : '修改車種資料'}</Breadcrumb.Item>\n        </Breadcrumb>\n        <Spin spinning={this.state.loading}>\n          <Card className='form-detail-card'>\n            <Row {...rowSetting}>\n              <Col {...colSetting}>\n                <FormItem\n                  required={true}\n                  title='車種代號'\n                  content={\n                    <Input\n                      onBlur={this.checkId}\n                      onChange={this.onInputChange}\n                      value={this.state.formData.kindId}\n                      id='kindId'\n                      disabled={!this.props.createFlag}\n                    />\n                  }\n                  message='車種代號為必填,長度需在8字內'\n                  error={this.getFormErrorStatus('kindId')}\n                />\n              </Col>\n              <Col {...colSetting}>\n                <FormItem\n                  required={true}\n                  title='車種名稱'\n                  content={\n                    <Input\n                      onChange={this.onInputChange}\n                      value={this.state.formData.name}\n                      id='name'\n                    />\n                  }\n                  message='車種名稱為必填,長度需在20字'\n                  error={this.getFormErrorStatus('name')}\n                />\n              </Col>\n              <Col {...colSetting}>\n                <FormItem\n                  required={true}\n                  title='車種簡稱'\n                  content={\n                    <Input\n                      onChange={this.onInputChange}\n                      value={this.state.formData.shortName}\n                      id='shortName'\n                    />\n                  }\n                  message='車種簡稱為必填,長度需在15字內'\n                  error={this.getFormErrorStatus('shortName')}\n                />\n              </Col>\n              <Col {...colSetting}>\n                <FormItem\n                  required={false}\n                  title='車廠'\n                  content={\n                    <Input\n                      onChange={this.onInputChange}\n                      value={this.state.formData.factory}\n                      id='factory'\n                    />\n                  }\n                  message='長度需在3字內'\n                  error={this.getFormErrorStatus('factory')}\n                />\n              </Col>\n            </Row>\n          </Card>\n          <div style={{ margin: '20px', textAlign: 'center' }}>\n            <Space>\n              {this.props.createFlag ? (\n                <>\n                  <Button\n                    type='primary'\n                    icon={<CheckOutlined />}\n                    // disabled={!this.state.canSubmit}\n                    disabled={!this.state.validId}\n                    onClick={this.handleCreate.bind(this, true)}\n                  >\n                    儲存\n                  </Button>\n                  <Button\n                    type='primary'\n                    icon={<CheckOutlined />}\n                    // disabled={!this.state.canSubmit}\n                    disabled={!this.state.validId}\n                    onClick={this.handleCreate.bind(this, false)}\n                  >\n                    儲存並繼續新增\n                  </Button>\n                </>\n              ) : (\n                <>\n                  <Button\n                    type='primary'\n                    icon={<CheckOutlined />}\n                    // disabled={!this.state.canSubmit}\n                    onClick={this.handleSubmit.bind(this, false)}\n                  >\n                    儲存\n                  </Button>\n                  <Button\n                    type='primary'\n                    icon={<CheckOutlined />}\n                    // disabled={!this.state.canSubmit}\n                    onClick={this.handleSubmit.bind(this, true)}\n                  >\n                    儲存並返回列表\n                  </Button>\n                </>\n              )}\n              <Button danger icon={<CloseOutlined />} onClick={this.handleCancel}>\n                取消\n              </Button>\n            </Space>\n          </div>\n        </Spin>\n      </>\n    )\n  }\n}\n","import React from 'react'\nimport VehicleForm from './VehicleForm'\n\nexport default class VehicleDetail extends React.Component {\n  render() {\n    return (\n      <VehicleForm\n        createFlag={this.props.createFlag}\n        kindId={this.props.match.params.kindId}\n      />\n    )\n  }\n}\n","import { restInstance } from '../runner/rest'\n\nexport default class LevelAPI {\n  getLevelList = (data) => {\n    return restInstance('get', '/grades', data).then((response) => response.data)\n  }\n\n  getLevelData = (gradeId) => {\n    return restInstance('get', `/grades/${gradeId}`).then((response) => response.data)\n  }\n\n  addLevelData = (data) => {\n    return restInstance('post', `/grades/${data.gradeId}`, data).then((response) => response.data)\n  }\n\n  updateLevelData = (gradeId, data) => {\n    return restInstance('patch', `/grades/${gradeId}`, data).then((response) => response.data)\n  }\n}\n","import React from 'react'\nimport { createHashHistory } from 'history'\nimport { Button, Col, Input, Row, Space, Table, Tooltip, Modal } from 'antd'\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\nimport { ListAddIcon, ListSearchIcon, ListEditIcon, ListDeleteIcon } from '../icon/Icon'\nimport { getPaginationSetting } from '../../component/paginationSetting'\nimport LevelAPI from '../../model/api/level'\n\nexport default class Level extends React.Component {\n  history = createHashHistory()\n  levelAPI = new LevelAPI()\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: true,\n      search: {\n        keyword: ''\n      },\n      list: [],\n      pagination: {\n        current: 1,\n        total: 0,\n        pageSize: 10,\n        position: ['bottomLeft']\n      }\n    }\n    this.getList()\n  }\n\n  getList = () => {\n    const { search, pagination } = this.state\n    const requestData = {\n      pageNum: pagination.current,\n      pageSize: pagination.pageSize,\n      gradeId: `%${search.keyword}%`\n    }\n    this.levelAPI\n      .getLevelList(requestData)\n      .then((response) => {\n        pagination.total = response.data.total\n        this.setState({ loading: false, list: response.data.list, pagination })\n      })\n      .catch(() => this.setState({ loading: false }))\n  }\n\n  // search\n  onInputChange = (e) => {\n    const { search } = this.state\n    search.keyword = e.target.value\n    this.setState({ search })\n  }\n  handleSearch = () => {\n    const { pagination } = this.state\n    pagination.current = 1\n    this.setState({ loading: true, list: [], pagination }, () => this.getList())\n  }\n\n  getColumns = () => {\n    const _this = this\n    const { pagination } = this.state\n    return [\n      {\n        dataIndex: 'gradeId',\n        title: '執行',\n        width: 70,\n        fixed: 'left',\n        render: (gradeId) => (\n          <Space className='list-table-option'>\n            <Tooltip title='編輯'>\n              <Button\n                className='list-table-option-edit'\n                size='small'\n                onClick={_this.onEdit.bind(_this, gradeId)}\n              >\n                <ListEditIcon />\n              </Button>\n            </Tooltip>\n            <Tooltip title='刪除'>\n              <Button\n                className='list-table-option-delete'\n                size='small'\n                onClick={_this.handleDelete.bind(_this, gradeId)}\n              >\n                <ListDeleteIcon />\n              </Button>\n            </Tooltip>\n          </Space>\n        )\n      },\n      {\n        title: '序',\n        width: 80,\n        align: 'center',\n        fixed: 'left',\n        render: (a, b, i) => (pagination.current - 1) * pagination.pageSize + i + 1\n      },\n      {\n        title: '等級代號',\n        dataIndex: 'gradeId',\n        fixed: 'left',\n        width: 120\n      },\n      {\n        title: '等級名稱',\n        dataIndex: 'name'\n      }\n    ]\n  }\n\n  onEdit = (gradeId) => {\n    this.history.push(`/Parts/Level/${gradeId}`)\n  }\n\n  handleDelete = (gradeId) => {\n    Modal.confirm({\n      title: '確定要刪除此筆資料嗎',\n      icon: <ExclamationCircleOutlined />,\n      okText: '確認',\n      cancelText: '取消',\n      onOk: () => {\n        console.log('delete: ' + gradeId)\n      }\n    })\n  }\n\n  onPageChange = (page, pageSize) => {\n    const { pagination } = this.state\n    pagination.current = page\n    pagination.pageSize = pageSize\n    this.setState({ loading: true, list: [], pagination }, () => this.getList())\n  }\n\n  render() {\n    return (\n      <>\n        <div className='list-header'>\n          <Row type='flex' justify='space-between'>\n            <Col>\n              <Button\n                type='primary'\n                icon={<ListAddIcon />}\n                onClick={() => this.history.push('/Parts/Level/Add')}\n                className='list-header-add'\n              >\n                新增\n              </Button>\n            </Col>\n            <Col>\n              <Space>\n                <Input\n                  placeholder='搜尋等級代號'\n                  allowClear={true}\n                  onChange={this.onInputChange}\n                  style={{ width: 140 }}\n                />\n                <Button\n                  type='primary'\n                  icon={<ListSearchIcon />}\n                  onClick={this.handleSearch}\n                  className='list-header-search'\n                >\n                  查詢\n                </Button>\n              </Space>\n            </Col>\n          </Row>\n        </div>\n        <Table\n          className='list-table-wrapper'\n          rowKey='vendorId'\n          size='small'\n          columns={this.getColumns()}\n          loading={this.state.loading}\n          dataSource={this.state.list}\n          scroll={{ x: 750 }}\n          pagination={getPaginationSetting(this.state.pagination, this.onPageChange)}\n        />\n      </>\n    )\n  }\n}\n","export const initData = {\n  gradeId: '',\n  name: ''\n}\n\nexport const formRules = [\n  {\n    key: 'gradeId',\n    required: true,\n    length: [2]\n  },\n  {\n    key: 'name',\n    required: true,\n    length: [10]\n  }\n]\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Breadcrumb, Card, Col, Row, Input, Button, Space, Modal, Spin, message } from 'antd'\nimport { FormItem } from '../../component/FormItem'\nimport { CheckOutlined, CloseOutlined, ExclamationCircleOutlined } from '@ant-design/icons'\nimport { createHashHistory } from 'history'\nimport { initData, formRules } from './levelType'\n// import addressDistrict from '../../model/resource/addressDistrict.json'\nimport LevelAPI from '../../model/api/level'\n\nexport default class LevelForm extends React.Component {\n  history = createHashHistory()\n  levelAPI = new LevelAPI()\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: !props.createFlag,\n      formData: { ...initData },\n      formStatus: JSON.parse(JSON.stringify(formRules)),\n      validId: false,\n      canSubmit: false\n    }\n    if (!props.createFlag) {\n      this.getLevelData()\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.createFlag && this.props.createFlag) {\n      this.setState({\n        loading: false,\n        formData: { ...initData },\n        formStatus: JSON.parse(JSON.stringify(formRules)),\n        validId: false,\n        canSubmit: false\n      })\n    } else if (!this.props.createFlag && prevProps.gradeId !== this.props.gradeId) {\n      this.setState(\n        {\n          loading: true,\n          formData: { ...initData },\n          formStatus: JSON.parse(JSON.stringify(formRules)),\n          validId: true,\n          canSubmit: false\n        },\n        () => this.getLevelData()\n      )\n    }\n  }\n\n  getLevelData = () => {\n    this.levelAPI\n      .getLevelData(this.props.gradeId)\n      .then((response) => {\n        if (response.code === 0) {\n          this.setState({ loading: false, formData: response.data }, () => this.checkCanSubmit())\n        } else {\n          message.error(response.message)\n          this.history.push('/Parts/Level')\n        }\n      })\n      .catch(() => {\n        message.error('Error!')\n        this.history.push('/Parts/Level')\n      })\n  }\n\n  getFormErrorStatus = (key) => {\n    const { formStatus } = this.state\n    const field = formStatus.find((field) => field.key === key)\n    return field ? field.error : false\n  }\n\n  onInputChange = (event) => {\n    const type = event.target.getAttribute('id')\n    const text = event.target.value\n    const { formData } = this.state\n    formData[type] = text\n    this.checkData(formData, type)\n  }\n\n  // field validator\n  checkData = (formData, fieldKey) => {\n    const { formStatus } = this.state\n    const field = formStatus.find((field) => field.key === fieldKey)\n    if (field) {\n      const value = formData[fieldKey]\n      let error = false\n      if (field.required && !value) {\n        error = true\n      }\n      if (field.length && field.length.length > 0 && value) {\n        if (field.length.length === 1 && value.length > field.length[0]) {\n          error = true\n        } else if (\n          field.length.length > 1 &&\n          (value.length < field.length[0] || value.length > field.length[1])\n        ) {\n          error = true\n        }\n      }\n      if (field.regExp && !field.regExp.test(value)) {\n        error = true\n      }\n      field.error = error\n    }\n    this.setState({ formData, formStatus }, () => this.checkCanSubmit())\n  }\n  checkCanSubmit = () => {\n    this.setState({ canSubmit: !this.state.formStatus.some((field) => field.error) })\n  }\n\n  checkId = () => {\n    const { formData } = this.state\n    if (formData.gradeId !== '') {\n      this.setState({ validId: false }, () => {\n        this.levelAPI.getLevelData(formData.gradeId).then((response) => {\n          if (response.code === 0) {\n            Modal.error({\n              title: '此編號已重複，請重新輸入',\n              icon: <ExclamationCircleOutlined />,\n              okText: '確認',\n              cancelText: null,\n              onOk: () => {\n                formData.gradeId = ''\n                this.setState({ formData })\n              }\n            })\n          } else {\n            this.setState({ validId: true })\n          }\n        })\n      })\n    }\n  }\n\n  // 新增\n  handleCreate = (back) => {\n    this.setState({ loading: true }, () => {\n      this.levelAPI\n        .addLevelData(this.state.formData)\n        .then((response) => {\n          if (response.code === 0) {\n            message.success('成功新增資料')\n            if (back) {\n              this.history.push('/Basic/Level')\n            } else {\n              const layoutContent = document.getElementById('layout-content-wrapper')\n              layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\n              this.setState({\n                loading: false,\n                formData: { ...initData },\n                formStatus: JSON.parse(JSON.stringify(formRules)),\n                canSubmit: false\n              })\n            }\n          } else {\n            Modal.error({\n              title: response.message,\n              icon: <ExclamationCircleOutlined />,\n              okText: '確認',\n              cancelText: null,\n              onOk: () => {\n                this.setState({ loading: false })\n              }\n            })\n          }\n        })\n        .catch((error) => {\n          message.error(error.response.data.message)\n          this.setState({ loading: false })\n        })\n    })\n  }\n  // 修改\n  handleSubmit = (back) => {\n    this.setState({ loading: true }, () => {\n      this.levelAPI\n        .updateLevelData(this.props.gradeId, this.state.formData)\n        .then((response) => {\n          if (response.code === 0) {\n            message.success('成功更新資料')\n            if (back) {\n              this.history.push('/Parts/Level')\n            } else {\n              const layoutContent = document.getElementById('layout-content-wrapper')\n              layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\n              this.getLevelData()\n            }\n          } else {\n            Modal.error({\n              title: response.message,\n              icon: <ExclamationCircleOutlined />,\n              content: response.data.map((tip, index) => (\n                <>\n                  {index > 0 && <br />}\n                  {tip.split(': ')[1]}\n                </>\n              )),\n              okText: '確認',\n              cancelText: null,\n              onOk: () => {\n                this.setState({ loading: false })\n              }\n            })\n          }\n        })\n        .catch(() => {\n          message.error('資料更新失敗')\n          this.setState({ loading: false })\n        })\n    })\n  }\n\n  handleCancel = () => {\n    Modal.confirm({\n      title: '變更尚未儲存，確定要離開嗎',\n      icon: <ExclamationCircleOutlined />,\n      okText: '確認',\n      cancelText: '取消',\n      onOk: () => {\n        this.history.push('/Parts/Level')\n      }\n    })\n  }\n\n  render() {\n    const rowSetting = {\n      gutter: [24, 24],\n      type: 'flex',\n      align: 'middle',\n      style: { marginBottom: 24, marginTop: 24 }\n    }\n    const colSetting = {\n      xs: 24,\n      sm: 24,\n      md: 24,\n      lg: 12\n    }\n    return (\n      <>\n        <Breadcrumb style={{ marginBottom: 10 }}>\n          <Breadcrumb.Item>\n            <Link to='/Parts/Level'>等級</Link>\n          </Breadcrumb.Item>\n          <Breadcrumb.Item>{this.props.createFlag ? '新增等級' : '修改等級資料'}</Breadcrumb.Item>\n        </Breadcrumb>\n        <Spin spinning={this.state.loading}>\n          <Card className='form-detail-card'>\n            <Row {...rowSetting}>\n              <Col {...colSetting}>\n                <FormItem\n                  required={true}\n                  title='等級代號'\n                  content={\n                    <Input\n                      onBlur={this.checkId}\n                      onChange={this.onInputChange}\n                      value={this.state.formData.gradeId}\n                      id='gradeId'\n                      disabled={!this.props.createFlag}\n                    />\n                  }\n                  message='等級代號為必填,長度需在2字內'\n                  error={this.getFormErrorStatus('gradeId')}\n                />\n              </Col>\n              <Col {...colSetting}>\n                <FormItem\n                  required={true}\n                  title='等級名稱'\n                  content={\n                    <Input\n                      onChange={this.onInputChange}\n                      value={this.state.formData.name}\n                      id='name'\n                    />\n                  }\n                  message='等級名稱為必填,長度需在10字'\n                  error={this.getFormErrorStatus('name')}\n                />\n              </Col>\n            </Row>\n          </Card>\n          <div style={{ margin: '20px', textAlign: 'center' }}>\n            <Space>\n              {this.props.createFlag ? (\n                <>\n                  <Button\n                    type='primary'\n                    icon={<CheckOutlined />}\n                    // disabled={!this.state.canSubmit}\n                    disabled={!this.state.validId}\n                    onClick={this.handleCreate.bind(this, true)}\n                  >\n                    儲存\n                  </Button>\n                  <Button\n                    type='primary'\n                    icon={<CheckOutlined />}\n                    // disabled={!this.state.canSubmit}\n                    disabled={!this.state.validId}\n                    onClick={this.handleCreate.bind(this, false)}\n                  >\n                    儲存並繼續新增\n                  </Button>\n                </>\n              ) : (\n                <>\n                  <Button\n                    type='primary'\n                    icon={<CheckOutlined />}\n                    // disabled={!this.state.canSubmit}\n                    onClick={this.handleSubmit.bind(this, false)}\n                  >\n                    儲存\n                  </Button>\n                  <Button\n                    type='primary'\n                    icon={<CheckOutlined />}\n                    // disabled={!this.state.canSubmit}\n                    onClick={this.handleSubmit.bind(this, true)}\n                  >\n                    儲存並返回列表\n                  </Button>\n                </>\n              )}\n              <Button danger icon={<CloseOutlined />} onClick={this.handleCancel}>\n                取消\n              </Button>\n            </Space>\n          </div>\n        </Spin>\n      </>\n    )\n  }\n}\n","import React from 'react'\nimport LevelForm from './LevelForm'\n\nexport default class LevelDetail extends React.Component {\n  render() {\n    return (\n      <LevelForm\n        createFlag={this.props.createFlag}\n        gradeId={this.props.match.params.gradeId}\n      />\n    )\n  }\n}\n","import { restInstance } from '../runner/rest'\n\nexport default class ColourAPI {\n  getColourList = (data) => {\n    return restInstance('get', '/colors', data).then((response) => response.data)\n  }\n\n  getColourData = (colorId) => {\n    return restInstance('get', `/colors/${colorId}`).then((response) => response.data)\n  }\n\n  addColourData = (data) => {\n    return restInstance('post', `/colors/${data.colorId}`, data).then((response) => response.data)\n  }\n\n  updateColourData = (colorId, data) => {\n    return restInstance('patch', `/colors/${colorId}`, data).then((response) => response.data)\n  }\n}\n","import React from 'react'\nimport { createHashHistory } from 'history'\nimport { Button, Col, Input, Row, Space, Table, Tooltip, Modal } from 'antd'\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\nimport { ListAddIcon, ListSearchIcon, ListEditIcon, ListDeleteIcon } from '../icon/Icon'\nimport { getPaginationSetting } from '../../component/paginationSetting'\nimport ColourAPI from '../../model/api/colour'\n\nexport default class Colour extends React.Component {\n  history = createHashHistory()\n  colourAPI = new ColourAPI()\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: true,\n      search: {\n        keyword: ''\n      },\n      list: [],\n      pagination: {\n        current: 1,\n        total: 0,\n        pageSize: 10,\n        position: ['bottomLeft']\n      }\n    }\n    this.getList()\n  }\n\n  getList = () => {\n    const { search, pagination } = this.state\n    const requestData = {\n      pageNum: pagination.current,\n      pageSize: pagination.pageSize,\n      colorId: `%${search.keyword}%`\n    }\n    this.colourAPI\n      .getColourList(requestData)\n      .then((response) => {\n        pagination.total = response.data.total\n        this.setState({ loading: false, list: response.data.list, pagination })\n      })\n      .catch(() => this.setState({ loading: false }))\n  }\n\n  // search\n  onInputChange = (e) => {\n    const { search } = this.state\n    search.keyword = e.target.value\n    this.setState({ search })\n  }\n  handleSearch = () => {\n    const { pagination } = this.state\n    pagination.current = 1\n    this.setState({ loading: true, list: [], pagination }, () => this.getList())\n  }\n\n  getColumns = () => {\n    const _this = this\n    const { pagination } = this.state\n    return [\n      {\n        dataIndex: 'colorId',\n        title: '執行',\n        width: 70,\n        fixed: 'left',\n        render: (colorId) => (\n          <Space className='list-table-option'>\n            <Tooltip title='編輯'>\n              <Button\n                className='list-table-option-edit'\n                size='small'\n                onClick={_this.onEdit.bind(_this, colorId)}\n              >\n                <ListEditIcon />\n              </Button>\n            </Tooltip>\n            <Tooltip title='刪除'>\n              <Button\n                className='list-table-option-delete'\n                size='small'\n                onClick={_this.handleDelete.bind(_this, colorId)}\n              >\n                <ListDeleteIcon />\n              </Button>\n            </Tooltip>\n          </Space>\n        )\n      },\n      {\n        title: '序',\n        width: 80,\n        align: 'center',\n        fixed: 'left',\n        render: (a, b, i) => (pagination.current - 1) * pagination.pageSize + i + 1\n      },\n      {\n        title: '顏色代號',\n        dataIndex: 'colorId',\n        fixed: 'left',\n        width: 120\n      },\n      {\n        title: '顏色名稱',\n        dataIndex: 'name'\n      }\n    ]\n  }\n\n  onEdit = (colorId) => {\n    this.history.push(`/Parts/Colour/${colorId}`)\n  }\n\n  handleDelete = (colorId) => {\n    Modal.confirm({\n      title: '確定要刪除此筆資料嗎',\n      icon: <ExclamationCircleOutlined />,\n      okText: '確認',\n      cancelText: '取消',\n      onOk: () => {\n        console.log('delete: ' + colorId)\n      }\n    })\n  }\n\n  onPageChange = (page, pageSize) => {\n    const { pagination } = this.state\n    pagination.current = page\n    pagination.pageSize = pageSize\n    this.setState({ loading: true, list: [], pagination }, () => this.getList())\n  }\n\n  render() {\n    return (\n      <>\n        <div className='list-header'>\n          <Row type='flex' justify='space-between'>\n            <Col>\n              <Button\n                type='primary'\n                icon={<ListAddIcon />}\n                onClick={() => this.history.push('/Parts/Colour/Add')}\n                className='list-header-add'\n              >\n                新增\n              </Button>\n            </Col>\n            <Col>\n              <Space>\n                <Input\n                  placeholder='搜尋顏色代號'\n                  allowClear={true}\n                  onChange={this.onInputChange}\n                  style={{ width: 140 }}\n                />\n                <Button\n                  type='primary'\n                  icon={<ListSearchIcon />}\n                  onClick={this.handleSearch}\n                  className='list-header-search'\n                >\n                  查詢\n                </Button>\n              </Space>\n            </Col>\n          </Row>\n        </div>\n        <Table\n          className='list-table-wrapper'\n          rowKey='vendorId'\n          size='small'\n          columns={this.getColumns()}\n          loading={this.state.loading}\n          dataSource={this.state.list}\n          scroll={{ x: 750 }}\n          pagination={getPaginationSetting(this.state.pagination, this.onPageChange)}\n        />\n      </>\n    )\n  }\n}\n","export const initData = {\n  colorId: '',\n  name: ''\n}\n\nexport const formRules = [\n  {\n    key: 'colorId',\n    required: true,\n    length: [2]\n  },\n  {\n    key: 'name',\n    required: true,\n    length: [10]\n  }\n]\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Breadcrumb, Card, Col, Row, Input, Button, Space, Modal, Spin, message } from 'antd'\nimport { FormItem } from '../../component/FormItem'\nimport { CheckOutlined, CloseOutlined, ExclamationCircleOutlined } from '@ant-design/icons'\nimport { createHashHistory } from 'history'\nimport { initData, formRules } from './colourType'\nimport ColourAPI from '../../model/api/colour'\n\nexport default class ColourForm extends React.Component {\n  history = createHashHistory()\n  colourAPI = new ColourAPI()\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: !props.createFlag,\n      formData: { ...initData },\n      formStatus: JSON.parse(JSON.stringify(formRules)),\n      validId: false,\n      canSubmit: false\n    }\n    if (!props.createFlag) {\n      this.getColourData()\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.createFlag && this.props.createFlag) {\n      this.setState({\n        loading: false,\n        formData: { ...initData },\n        formStatus: JSON.parse(JSON.stringify(formRules)),\n        validId: false,\n        canSubmit: false\n      })\n    } else if (!this.props.createFlag && prevProps.colorId !== this.props.colorId) {\n      this.setState(\n        {\n          loading: true,\n          formData: { ...initData },\n          formStatus: JSON.parse(JSON.stringify(formRules)),\n          validId: true,\n          canSubmit: false\n        },\n        () => this.getColourData()\n      )\n    }\n  }\n\n  getColourData = () => {\n    this.colourAPI\n      .getColourData(this.props.colorId)\n      .then((response) => {\n        if (response.code === 0) {\n          this.setState({ loading: false, formData: response.data }, () => this.checkCanSubmit())\n        } else {\n          message.error(response.message)\n          this.history.push('/Parts/Colour')\n        }\n      })\n      .catch(() => {\n        message.error('Error!')\n        this.history.push('/Parts/Colour')\n      })\n  }\n\n  getFormErrorStatus = (key) => {\n    const { formStatus } = this.state\n    const field = formStatus.find((field) => field.key === key)\n    return field ? field.error : false\n  }\n\n  onInputChange = (event) => {\n    const type = event.target.getAttribute('id')\n    const text = event.target.value\n    const { formData } = this.state\n    formData[type] = text\n    this.checkData(formData, type)\n  }\n\n  // field validator\n  checkData = (formData, fieldKey) => {\n    const { formStatus } = this.state\n    const field = formStatus.find((field) => field.key === fieldKey)\n    if (field) {\n      const value = formData[fieldKey]\n      let error = false\n      if (field.required && !value) {\n        error = true\n      }\n      if (field.length && field.length.length > 0 && value) {\n        if (field.length.length === 1 && value.length > field.length[0]) {\n          error = true\n        } else if (\n          field.length.length > 1 &&\n          (value.length < field.length[0] || value.length > field.length[1])\n        ) {\n          error = true\n        }\n      }\n      if (field.regExp && !field.regExp.test(value)) {\n        error = true\n      }\n      field.error = error\n    }\n    this.setState({ formData, formStatus }, () => this.checkCanSubmit())\n  }\n  checkCanSubmit = () => {\n    this.setState({ canSubmit: !this.state.formStatus.some((field) => field.error) })\n  }\n\n  checkId = () => {\n    const { formData } = this.state\n    if (formData.colorId !== '') {\n      this.setState({ validId: false }, () => {\n        this.colourAPI.getColourData(formData.colorId).then((response) => {\n          if (response.code === 0) {\n            Modal.error({\n              title: '此編號已重複，請重新輸入',\n              icon: <ExclamationCircleOutlined />,\n              okText: '確認',\n              cancelText: null,\n              onOk: () => {\n                formData.colorId = ''\n                this.setState({ formData })\n              }\n            })\n          } else {\n            this.setState({ validId: true })\n          }\n        })\n      })\n    }\n  }\n\n  // 新增\n  handleCreate = (back) => {\n    this.setState({ loading: true }, () => {\n      this.levelAPI\n        .addLevelData(this.state.formData)\n        .then((response) => {\n          if (response.code === 0) {\n            message.success('成功新增資料')\n            if (back) {\n              this.history.push('/Basic/Level')\n            } else {\n              const layoutContent = document.getElementById('layout-content-wrapper')\n              layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\n              this.setState({\n                loading: false,\n                formData: { ...initData },\n                formStatus: JSON.parse(JSON.stringify(formRules)),\n                canSubmit: false\n              })\n            }\n          } else {\n            Modal.error({\n              title: response.message,\n              icon: <ExclamationCircleOutlined />,\n              okText: '確認',\n              cancelText: null,\n              onOk: () => {\n                this.setState({ loading: false })\n              }\n            })\n          }\n        })\n        .catch((error) => {\n          message.error(error.response.data.message)\n          this.setState({ loading: false })\n        })\n    })\n  }\n  // 修改\n  handleSubmit = (back) => {\n    this.setState({ loading: true }, () => {\n      this.colourAPI\n        .updateColourData(this.props.colorId, this.state.formData)\n        .then((response) => {\n          if (response.code === 0) {\n            message.success('成功更新資料')\n            if (back) {\n              this.history.push('/Parts/Colour')\n            } else {\n              const layoutContent = document.getElementById('layout-content-wrapper')\n              layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\n              this.getColourData()\n            }\n          } else {\n            Modal.error({\n              title: response.message,\n              icon: <ExclamationCircleOutlined />,\n              content: response.data.map((tip, index) => (\n                <>\n                  {index > 0 && <br />}\n                  {tip.split(': ')[1]}\n                </>\n              )),\n              okText: '確認',\n              cancelText: null,\n              onOk: () => {\n                this.setState({ loading: false })\n              }\n            })\n          }\n        })\n        .catch(() => {\n          message.error('資料更新失敗')\n          this.setState({ loading: false })\n        })\n    })\n  }\n\n  handleCancel = () => {\n    Modal.confirm({\n      title: '變更尚未儲存，確定要離開嗎',\n      icon: <ExclamationCircleOutlined />,\n      okText: '確認',\n      cancelText: '取消',\n      onOk: () => {\n        this.history.push('/Parts/Colour')\n      }\n    })\n  }\n\n  render() {\n    const rowSetting = {\n      gutter: [24, 24],\n      type: 'flex',\n      align: 'middle',\n      style: { marginBottom: 24, marginTop: 24 }\n    }\n    const colSetting = {\n      xs: 24,\n      sm: 24,\n      md: 24,\n      lg: 12\n    }\n    return (\n      <>\n        <Breadcrumb style={{ marginBottom: 10 }}>\n          <Breadcrumb.Item>\n            <Link to='/Parts/Colour'>顏色</Link>\n          </Breadcrumb.Item>\n          <Breadcrumb.Item>{this.props.createFlag ? '新增顏色' : '修改顏色資料'}</Breadcrumb.Item>\n        </Breadcrumb>\n        <Spin spinning={this.state.loading}>\n          <Card className='form-detail-card'>\n            <Row {...rowSetting}>\n              <Col {...colSetting}>\n                <FormItem\n                  required={true}\n                  title='顏色代號'\n                  content={\n                    <Input\n                      onBlur={this.checkId}\n                      onChange={this.onInputChange}\n                      value={this.state.formData.colorId}\n                      id='colorId'\n                      disabled={!this.props.createFlag}\n                    />\n                  }\n                  message='顏色代號為必填,長度需在2字內'\n                  error={this.getFormErrorStatus('colorId')}\n                />\n              </Col>\n              <Col {...colSetting}>\n                <FormItem\n                  required={true}\n                  title='顏色名稱'\n                  content={\n                    <Input\n                      onChange={this.onInputChange}\n                      value={this.state.formData.name}\n                      id='name'\n                    />\n                  }\n                  message={'顏色名稱為必填,長度需在10字'}\n                  error={this.getFormErrorStatus('name')}\n                />\n              </Col>\n            </Row>\n          </Card>\n          <div style={{ margin: '20px', textAlign: 'center' }}>\n            <Space>\n              {this.props.createFlag ? (\n                <>\n                  <Button\n                    type='primary'\n                    icon={<CheckOutlined />}\n                    // disabled={!this.state.canSubmit}\n                    disabled={!this.state.validId}\n                    onClick={this.handleCreate.bind(this, true)}\n                  >\n                    儲存\n                  </Button>\n                  <Button\n                    type='primary'\n                    icon={<CheckOutlined />}\n                    // disabled={!this.state.canSubmit}\n                    disabled={!this.state.validId}\n                    onClick={this.handleCreate.bind(this, false)}\n                  >\n                    儲存並繼續新增\n                  </Button>\n                </>\n              ) : (\n                <>\n                  <Button\n                    type='primary'\n                    icon={<CheckOutlined />}\n                    // disabled={!this.state.canSubmit}\n                    onClick={this.handleSubmit.bind(this, false)}\n                  >\n                    儲存\n                  </Button>\n                  <Button\n                    type='primary'\n                    icon={<CheckOutlined />}\n                    // disabled={!this.state.canSubmit}\n                    onClick={this.handleSubmit.bind(this, true)}\n                  >\n                    儲存並返回列表\n                  </Button>\n                </>\n              )}\n              <Button danger icon={<CloseOutlined />} onClick={this.handleCancel}>\n                取消\n              </Button>\n            </Space>\n          </div>\n        </Spin>\n      </>\n    )\n  }\n}\n","import React from 'react'\nimport ColourForm from './ColourForm'\n\nexport default class ColourDetail extends React.Component {\n  render() {\n    return (\n      <ColourForm\n        createFlag={this.props.createFlag}\n        colorId={this.props.match.params.colorId}\n      />\n    )\n  }\n}\n","import { restInstance } from '../runner/rest'\n\nexport default class ComponentAPI {\n  getComponentList = (data) => {\n    return restInstance('get', '/parts', data).then((response) => response.data)\n  }\n\n  getComponentData = (partId) => {\n    return restInstance('get', `/parts/${partId}`).then((response) => response.data)\n  }\n\n  addComponentData = (data) => {\n    return restInstance('post', `/parts/${data.partId}`, data).then((response) => response.data)\n  }\n\n  updateComponentData = (partId, data) => {\n    return restInstance('patch', `/parts/${partId}`, data).then((response) => response.data)\n  }\n}\n","import React from 'react'\nimport { createHashHistory } from 'history'\nimport { Button, Col, Input, Row, Space, Table, Tooltip, Modal } from 'antd'\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\nimport { ListAddIcon, ListSearchIcon, ListEditIcon, ListDeleteIcon } from '../icon/Icon'\nimport { getPaginationSetting } from '../../component/paginationSetting'\nimport ComponentAPI from '../../model/api/component'\n\nexport default class Component extends React.Component {\n  history = createHashHistory()\n  componentAPI = new ComponentAPI()\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: true,\n      search: {\n        partId: '',\n        name: ''\n      },\n      list: [],\n      pagination: {\n        current: 1,\n        total: 0,\n        pageSize: 10,\n        position: ['bottomLeft']\n      }\n    }\n    this.getList()\n  }\n\n  getList = () => {\n    const { search, pagination } = this.state\n    const requestData = {\n      pageNum: pagination.current,\n      pageSize: pagination.pageSize,\n      partId: `%${search.partId}%`,\n      name: `%${search.name}%`\n    }\n    this.componentAPI\n      .getComponentList(requestData)\n      .then((response) => {\n        pagination.total = response.data.total\n        this.setState({ loading: false, list: response.data.list, pagination })\n      })\n      .catch(() => this.setState({ loading: false }))\n  }\n\n  // search\n  onInputChange = (key, e) => {\n    const { search } = this.state\n    search[key] = e.target.value\n    this.setState({ search })\n  }\n  handleSearch = () => {\n    const { pagination } = this.state\n    pagination.current = 1\n    this.setState({ loading: true, list: [], pagination }, () => this.getList())\n  }\n\n  getColumns = () => {\n    const _this = this\n    const { pagination } = this.state\n    return [\n      {\n        dataIndex: 'partId',\n        title: '執行',\n        width: 70,\n        fixed: 'left',\n        render: (partId) => (\n          <Space className='list-table-option'>\n            <Tooltip title='編輯'>\n              <Button\n                className='list-table-option-edit'\n                size='small'\n                onClick={_this.onEdit.bind(_this, partId)}\n              >\n                <ListEditIcon />\n              </Button>\n            </Tooltip>\n            <Tooltip title='刪除'>\n              <Button\n                className='list-table-option-delete'\n                size='small'\n                onClick={_this.handleDelete.bind(_this, partId)}\n              >\n                <ListDeleteIcon />\n              </Button>\n            </Tooltip>\n          </Space>\n        )\n      },\n      {\n        title: '序',\n        width: 80,\n        align: 'center',\n        fixed: 'left',\n        render: (a, b, i) => (pagination.current - 1) * pagination.pageSize + i + 1\n      },\n      {\n        title: '零件代號',\n        dataIndex: 'partId',\n        fixed: 'left',\n        width: 120\n      },\n      {\n        title: '零件名稱',\n        dataIndex: 'name'\n      }\n    ]\n  }\n\n  onEdit = (partId) => {\n    this.history.push(`/Parts/Component/${partId}`)\n  }\n\n  handleDelete = (partId) => {\n    Modal.confirm({\n      title: '確定要刪除此筆資料嗎',\n      icon: <ExclamationCircleOutlined />,\n      okText: '確認',\n      cancelText: '取消',\n      onOk: () => {\n        console.log('delete: ' + partId)\n      }\n    })\n  }\n\n  onPageChange = (page, pageSize) => {\n    const { pagination } = this.state\n    pagination.current = page\n    pagination.pageSize = pageSize\n    this.setState({ loading: true, list: [], pagination }, () => this.getList())\n  }\n\n  render() {\n    return (\n      <>\n        <div className='list-header'>\n          <Row type='flex' justify='space-between'>\n            <Col>\n              <Button\n                type='primary'\n                icon={<ListAddIcon />}\n                onClick={() => this.history.push('/Parts/Component/Add')}\n                className='list-header-add'\n              >\n                新增\n              </Button>\n            </Col>\n            <Col>\n              <Space>\n                <Input\n                  placeholder='搜尋零件代號'\n                  allowClear={true}\n                  onChange={this.onInputChange.bind(this, 'partId')}\n                  style={{ width: 140 }}\n                />\n                <Input\n                  placeholder='搜尋零件名稱'\n                  allowClear={true}\n                  onChange={this.onInputChange.bind(this, 'name')}\n                />\n                <Button\n                  type='primary'\n                  icon={<ListSearchIcon />}\n                  onClick={this.handleSearch}\n                  className='list-header-search'\n                >\n                  查詢\n                </Button>\n              </Space>\n            </Col>\n          </Row>\n        </div>\n        <Table\n          className='list-table-wrapper'\n          rowKey='vendorId'\n          size='small'\n          columns={this.getColumns()}\n          loading={this.state.loading}\n          dataSource={this.state.list}\n          scroll={{ x: 750 }}\n          pagination={getPaginationSetting(this.state.pagination, this.onPageChange)}\n        />\n      </>\n    )\n  }\n}\n","export const initData = {\n  partId: '',\n  name: ''\n}\n\nexport const formRules = [\n  {\n    key: 'partId',\n    required: true,\n    length: [4]\n  },\n  {\n    key: 'name',\n    required: true,\n    length: [10]\n  }\n]\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Breadcrumb, Card, Col, Row, Input, Button, Space, Modal, Spin, message } from 'antd'\nimport { FormItem } from '../../component/FormItem'\nimport { CheckOutlined, CloseOutlined, ExclamationCircleOutlined } from '@ant-design/icons'\nimport { createHashHistory } from 'history'\nimport { initData, formRules } from './componentType'\nimport ComponentAPI from '../../model/api/component'\n\nexport default class ComponentForm extends React.Component {\n  history = createHashHistory()\n  componentAPI = new ComponentAPI()\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: !props.createFlag,\n      formData: { ...initData },\n      formStatus: JSON.parse(JSON.stringify(formRules)),\n      validId: false,\n      canSubmit: false\n    }\n    if (!props.createFlag) {\n      this.getComponentData()\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.createFlag && this.props.createFlag) {\n      this.setState({\n        loading: false,\n        formData: { ...initData },\n        formStatus: JSON.parse(JSON.stringify(formRules)),\n        validId: false,\n        canSubmit: false\n      })\n    } else if (!this.props.createFlag && prevProps.partId !== this.props.partId) {\n      this.setState(\n        {\n          loading: true,\n          formData: { ...initData },\n          formStatus: JSON.parse(JSON.stringify(formRules)),\n          validId: true,\n          canSubmit: false\n        },\n        () => this.getComponentData()\n      )\n    }\n  }\n\n  getComponentData = () => {\n    this.componentAPI\n      .getComponentData(this.props.partId)\n      .then((response) => {\n        if (response.code === 0) {\n          this.setState({ loading: false, formData: response.data }, () => this.checkCanSubmit())\n        } else {\n          message.error(response.message)\n          this.history.push('/Parts/Component')\n        }\n      })\n      .catch(() => {\n        message.error('Error!')\n        this.history.push('/Parts/Component')\n      })\n  }\n\n  getFormErrorStatus = (key) => {\n    const { formStatus } = this.state\n    const field = formStatus.find((field) => field.key === key)\n    return field ? field.error : false\n  }\n\n  onInputChange = (event) => {\n    const type = event.target.getAttribute('id')\n    const text = event.target.value\n    const { formData } = this.state\n    formData[type] = text\n    this.checkData(formData, type)\n  }\n\n  // field validator\n  checkData = (formData, fieldKey) => {\n    const { formStatus } = this.state\n    const field = formStatus.find((field) => field.key === fieldKey)\n    if (field) {\n      const value = formData[fieldKey]\n      let error = false\n      if (field.required && !value) {\n        error = true\n      }\n      if (field.length && field.length.length > 0 && value) {\n        if (field.length.length === 1 && value.length > field.length[0]) {\n          error = true\n        } else if (\n          field.length.length > 1 &&\n          (value.length < field.length[0] || value.length > field.length[1])\n        ) {\n          error = true\n        }\n      }\n      if (field.regExp && !field.regExp.test(value)) {\n        error = true\n      }\n      field.error = error\n    }\n    this.setState({ formData, formStatus }, () => this.checkCanSubmit())\n  }\n  checkCanSubmit = () => {\n    this.setState({ canSubmit: !this.state.formStatus.some((field) => field.error) })\n  }\n\n  checkId = () => {\n    const { formData } = this.state\n    if (formData.partId !== '') {\n      this.setState({ validId: false }, () => {\n        this.componentAPI.getComponentData(formData.partId).then((response) => {\n          if (response.code === 0) {\n            Modal.error({\n              title: '此編號已重複，請重新輸入',\n              icon: <ExclamationCircleOutlined />,\n              okText: '確認',\n              cancelText: null,\n              onOk: () => {\n                formData.partId = ''\n                this.setState({ formData })\n              }\n            })\n          } else {\n            this.setState({ validId: true })\n          }\n        })\n      })\n    }\n  }\n\n  // 新增\n  handleCreate = (back) => {\n    this.setState({ loading: true }, () => {\n      this.componentAPI\n        .addComponentData(this.state.formData)\n        .then((response) => {\n          if (response.code === 0) {\n            message.success('成功新增資料')\n            if (back) {\n              this.history.push('/Basic/Level')\n            } else {\n              const layoutContent = document.getElementById('layout-content-wrapper')\n              layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\n              this.setState({\n                loading: false,\n                formData: { ...initData },\n                formStatus: JSON.parse(JSON.stringify(formRules)),\n                canSubmit: false\n              })\n            }\n          } else {\n            Modal.error({\n              title: response.message,\n              icon: <ExclamationCircleOutlined />,\n              okText: '確認',\n              cancelText: null,\n              onOk: () => {\n                this.setState({ loading: false })\n              }\n            })\n          }\n        })\n        .catch((error) => {\n          message.error(error.response.data.message)\n          this.setState({ loading: false })\n        })\n    })\n  }\n  // 修改\n  handleSubmit = (back) => {\n    this.setState({ loading: true }, () => {\n      this.componentAPI\n        .updateComponentData(this.props.partId, this.state.formData)\n        .then((response) => {\n          if (response.code === 0) {\n            message.success('成功更新資料')\n            if (back) {\n              this.history.push('/Parts/Component')\n            } else {\n              const layoutContent = document.getElementById('layout-content-wrapper')\n              layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\n              this.getComponentData()\n            }\n          } else {\n            Modal.error({\n              title: response.message,\n              icon: <ExclamationCircleOutlined />,\n              content: response.data.map((tip, index) => (\n                <>\n                  {index > 0 && <br />}\n                  {tip.split(': ')[1]}\n                </>\n              )),\n              okText: '確認',\n              cancelText: null,\n              onOk: () => {\n                this.setState({ loading: false })\n              }\n            })\n          }\n        })\n        .catch(() => {\n          message.error('資料更新失敗')\n          this.setState({ loading: false })\n        })\n    })\n  }\n\n  handleCancel = () => {\n    Modal.confirm({\n      title: '變更尚未儲存，確定要離開嗎',\n      icon: <ExclamationCircleOutlined />,\n      okText: '確認',\n      cancelText: '取消',\n      onOk: () => {\n        this.history.push('/Parts/Component')\n      }\n    })\n  }\n\n  render() {\n    const rowSetting = {\n      gutter: [24, 24],\n      type: 'flex',\n      align: 'middle',\n      style: { marginBottom: 24, marginTop: 24 }\n    }\n    const colSetting = {\n      xs: 24,\n      sm: 24,\n      md: 24,\n      lg: 12\n    }\n    return (\n      <>\n        <Breadcrumb style={{ marginBottom: 10 }}>\n          <Breadcrumb.Item>\n            <Link to='/Parts/Component'>零件</Link>\n          </Breadcrumb.Item>\n          <Breadcrumb.Item>{this.props.createFlag ? '新增零件' : '修改零件資料'}</Breadcrumb.Item>\n        </Breadcrumb>\n        <Spin spinning={this.state.loading}>\n          <Card className='form-detail-card'>\n            <Row {...rowSetting}>\n              <Col {...colSetting}>\n                <FormItem\n                  required={true}\n                  title='零件代號'\n                  content={\n                    <Input\n                      onBlur={this.checkId}\n                      onChange={this.onInputChange}\n                      value={this.state.formData.partId}\n                      id='partId'\n                      disabled={!this.props.createFlag}\n                    />\n                  }\n                  message='零件代號為必填,長度需在4字內'\n                  error={this.getFormErrorStatus('partId')}\n                />\n              </Col>\n              <Col {...colSetting}>\n                <FormItem\n                  required={true}\n                  title='零件名稱'\n                  content={\n                    <Input\n                      onChange={this.onInputChange}\n                      value={this.state.formData.name}\n                      id='name'\n                    />\n                  }\n                  message='零件名稱為必填,長度需在10字'\n                  error={this.getFormErrorStatus('name')}\n                />\n              </Col>\n            </Row>\n          </Card>\n          <div style={{ margin: '20px', textAlign: 'center' }}>\n            <Space>\n              {this.props.createFlag ? (\n                <>\n                  <Button\n                    type='primary'\n                    icon={<CheckOutlined />}\n                    // disabled={!this.state.canSubmit}\n                    disabled={!this.state.validId}\n                    onClick={this.handleCreate.bind(this, true)}\n                  >\n                    儲存\n                  </Button>\n                  <Button\n                    type='primary'\n                    icon={<CheckOutlined />}\n                    // disabled={!this.state.canSubmit}\n                    disabled={!this.state.validId}\n                    onClick={this.handleCreate.bind(this, false)}\n                  >\n                    儲存並繼續新增\n                  </Button>\n                </>\n              ) : (\n                <>\n                  <Button\n                    type='primary'\n                    icon={<CheckOutlined />}\n                    // disabled={!this.state.canSubmit}\n                    onClick={this.handleSubmit.bind(this, false)}\n                  >\n                    儲存\n                  </Button>\n                  <Button\n                    type='primary'\n                    icon={<CheckOutlined />}\n                    // disabled={!this.state.canSubmit}\n                    onClick={this.handleSubmit.bind(this, true)}\n                  >\n                    儲存並返回列表\n                  </Button>\n                </>\n              )}\n              <Button danger icon={<CloseOutlined />} onClick={this.handleCancel}>\n                取消\n              </Button>\n            </Space>\n          </div>\n        </Spin>\n      </>\n    )\n  }\n}\n","import React from 'react'\nimport ComponentForm from './ComponentForm'\n\nexport default class ComponentDetail extends React.Component {\n  render() {\n    return (\n      <ComponentForm\n        createFlag={this.props.createFlag}\n        partId={this.props.match.params.partId}\n      />\n    )\n  }\n}\n","import React from 'react'\nimport { Drawer } from 'antd'\n\nexport const PageDrawer = (props) => {\n  return <Drawer {...props} className='layout-content-drawer-wrapper'>{props.children}</Drawer>\n}\n","import React from 'react'\nimport { Carousel, Empty } from 'antd'\nimport { CarouselPrevIcon, CarouselNextIcon } from '../view/icon/Icon'\n\nexport const PhotoCarousel = (props) => {\n  return props.picList.length > 0 ? (\n    <Carousel\n      adaptiveHeight={true}\n      arrows={true}\n      dots={false}\n      prevArrow={<CarouselPrevIcon />}\n      nextArrow={<CarouselNextIcon />}\n    >\n      {props.picList.map((photo, index) => (\n        <div key={index}>\n          <div className='product-real-pic-carousel-item'>\n            <img src={photo} alt='商品照片' />\n          </div>\n        </div>\n      ))}\n    </Carousel>\n  ) : (\n    <Empty />\n  )\n}\n","export default class StaticStorage {\n  static roles = []\n  static unitList = []\n\n  setRoles = (roles) => (StaticStorage.roles = roles)\n  setUnitList = (unitList) => (StaticStorage.unitList = unitList)\n}\n","import StatisStorage from '../../model/storage/static'\n\nexport const initData = {\n  seqNo: 0,\n  productId: '',\n  productType: 'REAL',\n  partId: null,\n  customCode1: '',\n  customCode2: '',\n  customCode3: '',\n  kindShortName: '',\n  name: '',\n  mappingProductId: '',\n  mappingProductSeqNo: null,\n  unit: StatisStorage.unitList.length > 0 ? StatisStorage.unitList[0].unit : '',\n  price1: 0,\n  price2: 0,\n  price3: 0,\n  norm: '',\n  vendorProductId: '',\n  safetyStock: 0,\n  inventory: 0,\n  storingPlace: '',\n  note: ''\n}\n\nexport const additionData = {\n  width: null,\n  height: null,\n  weight: null,\n  length: null,\n  pic1GoogleBlobId: '',\n  pic1Url: '',\n  pic2GoogleBlobId: '',\n  pic2Url: '',\n  pic3GoogleBlobId: '',\n  pic3Url: '',\n  pic4GoogleBlobId: '',\n  pic4Url: '',\n  productSeqNo: null\n}\n\nexport const formRules = []\n","import { restInstance, restUploadInstance } from '../runner/rest'\n\nexport default class ProductAPI {\n  getProductList = (data) => {\n    return restInstance('get', '/products', data).then((response) => response.data)\n  }\n\n  getProductType = () => {\n    return restInstance('get', '/common/productTypes').then((response) => response.data)\n  }\n\n  getProductData = (seqNo) => {\n    return restInstance('get', `/products/${seqNo}`).then((response) => response.data)\n  }\n\n  addProductData = (data) => {\n    return restInstance('post', '/products/0', data).then((response) => response.data)\n  }\n\n  updateProductData = (data) => {\n    return restInstance('patch', `/products/${data.seqNo}`, data).then((response) => response.data)\n  }\n\n  getProductAdditionData = (seqNo) => {\n    return restInstance('get', `/products/additional/${seqNo}`).then((response) => response.data)\n  }\n\n  uploadProductPic = (seqNo, picEnum, data) => {\n    return restUploadInstance('patch', `/products/additional/${seqNo}/${picEnum}`, data).then(\n      (response) => response.data\n    )\n  }\n\n  searchProductMapping = (realProduct, queryString) => {\n    return restInstance('get', '/products/smartQuery', { realProduct, queryString }).then(\n      (response) => response.data\n    )\n  }\n\n  getPartsList = () => {\n    const data = {\n      pageNum: 1,\n      pageSize: 9999,\n      partId: '',\n      name: ''\n    }\n    return restInstance('get', '/parts', data).then((response) => response.data)\n  }\n\n  getKindsList = () => {\n    const data = {\n      pageNum: 1,\n      pageSize: 9999,\n      kindIdLike: ''\n    }\n    return restInstance('get', '/kinds', data).then((response) => response.data)\n  }\n\n  getGradesList = () => {\n    const data = {\n      pageNum: 1,\n      pageSize: 9999,\n      gradeId: ''\n    }\n    return restInstance('get', '/grades', data).then((response) => response.data)\n  }\n\n  getColorsList = () => {\n    const data = {\n      pageNum: 1,\n      pageSize: 9999,\n      colorId: ''\n    }\n    return restInstance('get', '/colors', data).then((response) => response.data)\n  }\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport {\n  Breadcrumb,\n  Spin,\n  Card,\n  Row,\n  Col,\n  Select,\n  Input,\n  InputNumber,\n  Upload,\n  Space,\n  Button,\n  Modal,\n  message\n} from 'antd'\nimport { CheckOutlined, CloseOutlined, ExclamationCircleOutlined } from '@ant-design/icons'\nimport { ListAddIcon, PhotoViewIcon, PhotoUploadIcon } from '../icon/Icon'\nimport { FormItem } from '../../component/FormItem'\nimport { createHashHistory } from 'history'\nimport { initData, additionData, formRules } from './productType'\nimport ProductAPI from '../../model/api/product'\nimport StaticStorage from '../../model/storage/static'\nimport moment from 'moment'\n\nexport default class ProductForm extends React.Component {\n  history = createHashHistory()\n  productAPI = new ProductAPI()\n  productSearchTime = 0\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      inited: false,\n      loading: true,\n      productType: [],\n      formData: { ...initData },\n      additionData: { ...additionData },\n      picOpen: false,\n      picUrl: '',\n      formStatus: JSON.parse(JSON.stringify(formRules)),\n      search: {\n        partId: '',\n        customCode1: '',\n        customCode2: '',\n        customCode3: '',\n        productId: ''\n      },\n      partsList: [],\n      kindsList: [],\n      gradesList: [],\n      colorsList: [],\n      productList: [],\n      productSelect: {},\n      productSearchLoading: false,\n      canSubmit: false\n    }\n    if (!props.createFlag) {\n      this.getInitData(false).then(() =>\n        this.getProductData().then(() => this.setState({ inited: true, loading: false }))\n      )\n    } else {\n      this.getInitData(true).then(() => this.setState({ inited: true, loading: false }))\n    }\n    // this.getInitData().then(() => {\n    //   if (!props.createFlag) {\n    //     this.getProductData().then(() => this.setState({ inited: true, loading: false }))\n    //   } else {\n    //     this.setState({ inited: true, loading: false })\n    //   }\n    // })\n  }\n\n  componentDidUpdate(prevProps) {\n    if (\n      (!prevProps.createFlag && this.props.createFlag) ||\n      (!prevProps.drawModeVisible && this.props.drawModeVisible) ||\n      (!this.props.createFlag && prevProps.seqNo !== this.props.seqNo)\n    ) {\n      this.setState(\n        {\n          inited: false,\n          loading: true,\n          formData: { ...initData },\n          additionData: { ...additionData },\n          picOpen: false,\n          picUrl: '',\n          formStatus: JSON.parse(JSON.stringify(formRules)),\n          search: {\n            partId: '',\n            customCode1: '',\n            customCode2: '',\n            customCode3: '',\n            productId: ''\n          },\n          productList: [],\n          productSelect: {},\n          productSearchLoading: false,\n          canSubmit: false\n        },\n        () => {\n          if (!this.props.createFlag) {\n            this.getInitData(false).then(() =>\n              this.getProductData().then(() => this.setState({ inited: true, loading: false }))\n            )\n          } else {\n            this.getInitData(true).then(() => this.setState({ inited: true, loading: false }))\n          }\n          // this.getInitData().then(() => {\n          //   if (!this.props.createFlag) {\n          //     this.getProductData().then(() => this.setState({ inited: true, loading: false }))\n          //   } else {\n          //     this.setState({ inited: true, loading: false })\n          //   }\n          // })\n        }\n      )\n    }\n  }\n\n  getInitData = async (isCreate) => {\n    await new Promise((resolve) => {\n      this.productAPI.getProductType().then((response) => {\n        this.setState({ productType: response.data }, () => resolve(true))\n      })\n    })\n    if (isCreate) {\n      await new Promise((resolve) => {\n        this.productAPI.getPartsList().then((response) => {\n          this.setState({ partsList: response.data.list }, () => resolve(true))\n        })\n      })\n      await new Promise((resolve) => {\n        this.productAPI.getKindsList().then((response) => {\n          this.setState({ kindsList: response.data.list }, () => resolve(true))\n        })\n      })\n      await new Promise((resolve) => {\n        this.productAPI.getGradesList().then((response) => {\n          this.setState({ gradesList: response.data.list }, () => resolve(true))\n        })\n      })\n      await new Promise((resolve) => {\n        this.productAPI.getColorsList().then((response) => {\n          this.setState({ colorsList: response.data.list }, () => resolve(true))\n        })\n      })\n    }\n  }\n\n  getProductData = async () => {\n    await new Promise((resolve, reject) => {\n      this.productAPI\n        .getProductData(this.props.seqNo)\n        .then((response) => {\n          if (response.code === 0) {\n            this.setState({ formData: response.data }, () =>\n              this.checkCanSubmit().then(() => resolve(true))\n            )\n          } else {\n            reject(false)\n            message.error(response.message)\n            if (this.props.isDrawMode) {\n              this.props.onClose()\n            } else {\n              this.history.push('/Products/List')\n            }\n          }\n        })\n        .catch(() => {\n          reject(false)\n          message.error('Error!')\n          if (this.props.isDrawMode) {\n            this.props.onClose()\n          } else {\n            this.history.push('/Products/List')\n          }\n        })\n    })\n    if (this.state.formData.productType === 'REAL') {\n      await new Promise((resolve) => {\n        this.productAPI\n          .getProductAdditionData(this.props.seqNo)\n          .then((response) => {\n            if (response.code === 0) {\n              this.setState({ additionData: response.data }, () => resolve(true))\n            } else {\n              resolve(true)\n            }\n          })\n          .catch(() => resolve(true))\n      })\n    }\n    if (\n      this.state.formData.productType === 'VIRTUAL' &&\n      this.state.formData.mappingProductSeqNo !== 0\n    ) {\n      await new Promise((resolve) => {\n        this.productAPI\n          .searchProductMapping(true, this.state.formData.mappingProductId)\n          .then((response) => {\n            if (response.code === 0) {\n              this.setState({ productList: response.data, productSelect: response.data[0] }, () =>\n                resolve(true)\n              )\n            } else {\n              resolve(true)\n            }\n          })\n          .catch(() => resolve(true))\n      })\n    }\n  }\n\n  getFormErrorStatus = (key) => {\n    const { formStatus } = this.state\n    const field = formStatus.find((field) => field.key === key)\n    return field ? field.error : false\n  }\n\n  onInputChange = (event) => {\n    const type = event.target.getAttribute('id')\n    const text = event.target.value\n    const { formData } = this.state\n    formData[type] = text\n    this.checkData(formData, type)\n  }\n  onSelectChange = (type, value) => {\n    const { formData } = this.state\n    formData[type] = value\n    this.checkData(formData, type)\n  }\n  onNumberChange = (type, value) => {\n    const { formData } = this.state\n    formData[type] = value\n    this.checkData(formData, type)\n  }\n\n  // mapping product search & select\n  getMappingProductDisplay = (product) => {\n    let display = product.desc1\n    if (product.desc2 || product.desc3 || product.desc4 || product.desc5) {\n      let additionDisplay = ''\n      additionDisplay += product.desc2 ? product.desc2 : ''\n      additionDisplay += product.desc3\n        ? additionDisplay !== ''\n          ? `, ${product.desc3}`\n          : product.desc3\n        : ''\n      additionDisplay += product.desc4\n        ? additionDisplay !== ''\n          ? `, ${product.desc4}`\n          : product.desc4\n        : ''\n      additionDisplay += product.desc5\n        ? additionDisplay !== ''\n          ? `, ${product.desc5}`\n          : product.desc5\n        : ''\n      display += ` [${additionDisplay}]`\n    }\n    return display\n  }\n  onMappingSearch = (value) => {\n    const { search, formData } = this.state\n    search.productId = value\n    this.productSearchTime = moment().valueOf()\n    this.setState({ search }, () => {\n      setTimeout(() => {\n        if (moment().valueOf() - this.productSearchTime >= 1000 && value !== '') {\n          this.setState({ productSearchLoading: true }, () => {\n            this.productAPI\n              .searchProductMapping(true, value)\n              .then((response) => {\n                this.setState({ productList: response.data, productSearchLoading: false })\n              })\n              .catch(() => {\n                this.setState({ productList: [], productSearchLoading: false })\n              })\n          })\n        } else if (value === '') {\n          if (formData.mappingProductId !== '') {\n            this.setState({ productList: [this.state.productSelect] })\n          } else {\n            this.setState({ productList: [] })\n          }\n        }\n      }, 1000)\n    })\n  }\n  onMappingSelect = (value) => {\n    const { search, formData, productList } = this.state\n    const product = productList.find((product) => product.data === value)\n    if (product) {\n      if (product.finished) {\n        search.productId = ''\n        formData.mappingProductId = product.data\n        formData.mappingProductSeqNo = product.productSeqNo\n        this.setState({ search, productList: [product], productSelect: product }, () =>\n          this.checkData(formData, 'mappingProductSeqNo')\n        )\n      } else {\n        search.productId = value\n        formData.mappingProductId = product.data\n        formData.mappingProductSeqNo = null\n        this.setState({ search, productList: [product], productSelect: product }, () => {\n          // this.onMappingSearch(value)\n          this.checkData(formData, 'mappingProductSeqNo')\n        })\n      }\n    }\n  }\n\n  // code select\n  onCodeSearch = (key, value) => {\n    if (!value.includes(' ')) {\n      const { formData, search } = this.state\n      if (key !== 'partId') {\n        formData[key] = value.toUpperCase()\n        let productId = ''\n        productId += formData.partId ? formData.partId : ''\n        productId += formData.customCode1\n          ? productId !== ''\n            ? `-${formData.customCode1}`\n            : formData.customCode1\n          : ''\n        productId += formData.customCode2\n          ? productId !== ''\n            ? `-${formData.customCode2}`\n            : formData.customCode2\n          : ''\n        productId += formData.customCode3\n          ? productId !== ''\n            ? `-${formData.customCode3}`\n            : formData.customCode3\n          : ''\n        formData.productId = productId\n      }\n      search[key] = value.toUpperCase()\n      this.setState({ search }, () => this.checkData(formData, key))\n    }\n  }\n  onCodeSelect = (key, value) => {\n    const { formData, search, kindsList } = this.state\n    if (key === 'partId') {\n      search.partId = ''\n    } else {\n      search[key] = value\n    }\n    formData[key] = value\n    if (key === 'customCode1') {\n      const kind = kindsList.find((kind) => kind.kindId.toLowerCase() === value.toLowerCase())\n      if (kind) formData.kindShortName = kind.shortName\n    }\n    let productId = ''\n    productId += formData.partId ? formData.partId : ''\n    productId += formData.customCode1\n      ? productId !== ''\n        ? `-${formData.customCode1}`\n        : formData.customCode1\n      : ''\n    productId += formData.customCode2\n      ? productId !== ''\n        ? `-${formData.customCode2}`\n        : formData.customCode2\n      : ''\n    productId += formData.customCode3\n      ? productId !== ''\n        ? `-${formData.customCode3}`\n        : formData.customCode3\n      : ''\n    formData.productId = productId\n    this.setState({ search }, () => this.checkData(formData, key))\n  }\n  onCodeClear = (key) => {\n    const { formData, search } = this.state\n    formData[key] = ''\n    search[key] = ''\n    if (key === 'customCode1') formData.kindShortName = ''\n    let productId = ''\n    productId += formData.partId ? formData.partId : ''\n    productId += formData.customCode1\n      ? productId !== ''\n        ? `-${formData.customCode1}`\n        : formData.customCode1\n      : ''\n    productId += formData.customCode2\n      ? productId !== ''\n        ? `-${formData.customCode2}`\n        : formData.customCode2\n      : ''\n    productId += formData.customCode3\n      ? productId !== ''\n        ? `-${formData.customCode3}`\n        : formData.customCode3\n      : ''\n    formData.productId = productId\n    this.setState({ search }, () => this.checkData(formData, key))\n  }\n  // get code options\n  getPartOptions = () => {\n    const { formData, search, partsList } = this.state\n    return partsList\n      .filter(\n        (part) =>\n          formData.partId === part.partId ||\n          (search.partId && part.partId.toLowerCase().includes(search.partId.toLowerCase()))\n      )\n      .map((part) => {\n        return {\n          label: `${part.partId} - ${part.name}`,\n          value: part.partId\n        }\n      })\n  }\n  getKindOptions = () => {\n    const { formData, search, kindsList } = this.state\n    const kinds = kindsList.filter(\n      (kind) =>\n        formData.customCode1 === kind.kindId ||\n        (search.customCode1 && kind.kindId.toLowerCase().includes(search.customCode1.toLowerCase()))\n    )\n    if (search.customCode1 && !kinds.find((kind) => kind.kindId === search.customCode1)) {\n      kinds.unshift({ kindId: search.customCode1, name: '' })\n    }\n    return kinds.map((kind) => {\n      return {\n        label: kind.name !== '' ? `${kind.kindId} - ${kind.name}` : kind.kindId,\n        value: kind.kindId\n      }\n    })\n  }\n  getGradeOptions = () => {\n    const { formData, search, gradesList } = this.state\n    const grades = gradesList.filter(\n      (grade) =>\n        formData.customCode2 === grade.gradeId ||\n        (search.customCode2 &&\n          grade.gradeId.toLowerCase().includes(search.customCode2.toLowerCase()))\n    )\n    if (search.customCode2 && !grades.find((grade) => grade.gradeId === search.customCode2)) {\n      grades.unshift({ gradeId: search.customCode2, name: '' })\n    }\n    return grades.map((grade) => {\n      return {\n        label: grade.name !== '' ? `${grade.gradeId} - ${grade.name}` : grade.gradeId,\n        value: grade.gradeId\n      }\n    })\n  }\n  getColorOptions = () => {\n    const { formData, search, colorsList } = this.state\n    const colors = colorsList.filter(\n      (color) =>\n        formData.customCode3 === color.colorId ||\n        (search.customCode3 &&\n          color.colorId.toLowerCase().includes(search.customCode3.toLowerCase()))\n    )\n    if (search.customCode3 && !colors.find((color) => color.colorId === search.customCode3)) {\n      colors.unshift({ colorId: search.customCode3, name: '' })\n    }\n    return colors.map((color) => {\n      return {\n        label: color.name !== '' ? `${color.colorId} - ${color.name}` : color.colorId,\n        value: color.colorId\n      }\n    })\n  }\n\n  // field validator\n  checkData = (formData, fieldKey) => {\n    const { formStatus } = this.state\n    const field = formStatus.find((field) => field.key === fieldKey)\n    if (field) {\n      const value = formData[fieldKey]\n      let error = false\n      if (field.required && !value) {\n        error = true\n      }\n      if (field.length && field.length.length > 0 && value) {\n        if (field.length.length === 1 && value.length > field.length[0]) {\n          error = true\n        } else if (\n          field.length.length > 1 &&\n          (value.length < field.length[0] || value.length > field.length[1])\n        ) {\n          error = true\n        }\n      }\n      if (field.regExp && !field.regExp.test(value)) {\n        error = true\n      }\n      field.error = error\n    }\n    this.setState({ formData, formStatus }, () => this.checkCanSubmit())\n  }\n  checkCanSubmit = () => {\n    return new Promise((resolve) => {\n      this.setState({ canSubmit: !this.state.formStatus.some((field) => field.error) }, () =>\n        resolve(true)\n      )\n    })\n  }\n\n  openPic = (key) => {\n    const { additionData } = this.state\n    const picUrl = additionData[key]\n    this.setState({ picOpen: true, picUrl })\n  }\n\n  // 上傳照片\n  onPicUpload = (picEnum, file) => {\n    this.setState({ loading: true }, () => {\n      const data = new FormData()\n      data.append('file', file)\n      this.productAPI.uploadProductPic(this.props.seqNo, picEnum, data).then((response) => {\n        if (response.code === 0) {\n          message.success('照片上傳成功')\n          this.productAPI.getProductAdditionData(this.props.seqNo).then((response) => {\n            if (response.code === 0) {\n              this.setState({ loading: false, additionData: response.data })\n            } else {\n              this.setState({ loading: false })\n            }\n          })\n        } else {\n          message.error('照片上傳失敗')\n        }\n      })\n    })\n    return false\n  }\n\n  // 新增\n  handleCreate = (back) => {\n    this.setState({ loading: true }, () => {\n      this.productAPI\n        .addProductData(this.state.formData)\n        .then((response) => {\n          if (response.code === 0) {\n            message.success('成功新增資料')\n            if (back) {\n              if (this.props.isDrawMode) {\n                this.props.onClose()\n              } else {\n                this.history.push('/Products/List')\n              }\n            } else {\n              const drawerContent = document.querySelector('.ant-drawer-body')\n              const layoutContent = document.getElementById('layout-content-wrapper')\n              if (drawerContent) drawerContent.scrollTo({ top: 0, behavior: 'smooth' })\n              if (layoutContent) layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\n              this.setState({\n                loading: false,\n                formData: { ...initData },\n                formStatus: JSON.parse(JSON.stringify(formRules)),\n                search: {\n                  partId: '',\n                  customCode1: '',\n                  customCode2: '',\n                  customCode3: ''\n                },\n                canSubmit: false\n              })\n            }\n          } else {\n            Modal.error({\n              title: response.message,\n              icon: <ExclamationCircleOutlined />,\n              okText: '確認',\n              cancelText: null,\n              onOk: () => {\n                this.setState({ loading: false })\n              }\n            })\n          }\n        })\n        .catch((error) => {\n          message.error(error.response.data.message)\n          this.setState({ loading: false })\n        })\n    })\n  }\n  // 修改\n  handleSubmit = (back) => {\n    this.setState({ loading: true }, () => {\n      this.productAPI\n        .updateProductData(this.state.formData)\n        .then((response) => {\n          if (response.code === 0) {\n            message.success('成功更新資料')\n            if (back) {\n              if (this.props.isDrawMode) {\n                this.props.onClose()\n              } else {\n                this.history.push('/Products/List')\n              }\n            } else {\n              const drawerContent = document.querySelector('.ant-drawer-body')\n              const layoutContent = document.getElementById('layout-content-wrapper')\n              if (drawerContent) drawerContent.scrollTo({ top: 0, behavior: 'smooth' })\n              if (layoutContent) layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\n              this.getProductData()\n            }\n          } else {\n            Modal.error({\n              title: response.message,\n              icon: <ExclamationCircleOutlined />,\n              content: response.data.map((tip, index) => (\n                <>\n                  {index > 0 && <br />}\n                  {tip.split(': ')[1]}\n                </>\n              )),\n              okText: '確認',\n              cancelText: null,\n              onOk: () => {\n                this.setState({ loading: false })\n              }\n            })\n          }\n        })\n        .catch(() => {\n          message.error('資料更新失敗')\n          this.setState({ loading: false })\n        })\n    })\n  }\n\n  handleCancel = () => {\n    if (this.props.isDrawMode) {\n      this.props.onClose()\n    } else {\n      this.history.push('/Products/List')\n    }\n  }\n\n  render() {\n    const rowSetting = this.props.isDrawMode\n      ? {\n          gutter: [12, 12],\n          type: 'flex',\n          align: 'middle',\n          style: { marginBottom: 12, marginTop: 12 }\n        }\n      : {\n          gutter: [24, 24],\n          type: 'flex',\n          align: 'middle',\n          style: { marginBottom: 24, marginTop: 24 }\n        }\n    const colSetting1 = this.props.isDrawMode\n      ? {\n          span: 24\n        }\n      : {\n          xs: 24,\n          sm: 24,\n          md: 24,\n          lg: 8\n        }\n    const colSetting2 = this.props.isDrawMode\n      ? {\n          span: 24\n        }\n      : {\n          xs: 24,\n          sm: 24,\n          md: 24,\n          lg: 12\n        }\n    const colSetting3 = { span: 24 }\n    const codeColSetting = {\n      xs: 24,\n      sm: 24,\n      md: 12,\n      lg: 12\n    }\n    const picColSetting = this.props.isDrawMode\n      ? {\n          span: 12\n        }\n      : {\n          xs: 12,\n          sm: 12,\n          md: 6,\n          lg: 6\n        }\n    return (\n      <>\n        {!this.props.isDrawMode && (\n          <Breadcrumb style={{ marginBottom: 10 }}>\n            <Breadcrumb.Item>\n              <Link to='/Products/List'>商品</Link>\n            </Breadcrumb.Item>\n            <Breadcrumb.Item>{this.props.createFlag ? '新增商品' : '修改商品資料'}</Breadcrumb.Item>\n          </Breadcrumb>\n        )}\n        <Spin spinning={this.state.loading} className='product-spinning'>\n          {this.state.inited && (\n            <>\n              <Card className='form-detail-card'>\n                <Row {...rowSetting}>\n                  <Col {...colSetting3}>\n                    <FormItem\n                      required={false}\n                      title='商品編號'\n                      content={<Input value={this.state.formData.productId} disabled={true} />}\n                    />\n                  </Col>\n                  <Col {...colSetting3}>\n                    <FormItem\n                      required={true}\n                      title='商品種類'\n                      content={\n                        <Select\n                          value={this.state.formData.productType}\n                          onChange={this.onSelectChange.bind(this, 'productType')}\n                          // disabled={!this.props.createFlag}\n                          style={{ width: '100%' }}\n                        >\n                          {this.state.productType.map((type) => (\n                            <Select.Option key={type.productType} value={type.productType}>\n                              {type.desc}\n                            </Select.Option>\n                          ))}\n                        </Select>\n                      }\n                    />\n                  </Col>\n                  <Col {...colSetting3}>\n                    <FormItem\n                      required={true}\n                      title='代碼'\n                      align='flex-start'\n                      content={\n                        <Row gutter={[12]} className='product-code-row'>\n                          <Col {...codeColSetting}>\n                            <Select\n                              placeholder='零件編號'\n                              value={this.state.formData.partId}\n                              searchValue={this.state.search.partId}\n                              showSearch={true}\n                              showArrow={false}\n                              options={this.getPartOptions()}\n                              onSearch={this.onCodeSearch.bind(this, 'partId')}\n                              onSelect={this.onCodeSelect.bind(this, 'partId')}\n                              style={{ width: '100%' }}\n                              notFoundContent={null}\n                              disabled={!this.props.createFlag}\n                              className='product-search'\n                            />\n                          </Col>\n                          <Col {...codeColSetting}>\n                            <Select\n                              placeholder='車種或自訂代碼1'\n                              value={\n                                this.state.formData.customCode1 === ''\n                                  ? null\n                                  : this.state.formData.customCode1\n                              }\n                              showSearch={true}\n                              showArrow={false}\n                              allowClear={true}\n                              options={this.getKindOptions()}\n                              onSearch={this.onCodeSearch.bind(this, 'customCode1')}\n                              onSelect={this.onCodeSelect.bind(this, 'customCode1')}\n                              onClear={this.onCodeClear.bind(this, 'customCode1')}\n                              style={{ width: '100%' }}\n                              notFoundContent={null}\n                              disabled={!this.props.createFlag}\n                              className='product-search'\n                            />\n                          </Col>\n                          <Col {...codeColSetting}>\n                            <Select\n                              placeholder='等級或自訂代碼2'\n                              value={\n                                this.state.formData.customCode2 === ''\n                                  ? null\n                                  : this.state.formData.customCode2\n                              }\n                              showSearch={true}\n                              showArrow={false}\n                              allowClear={true}\n                              options={this.getGradeOptions()}\n                              onSearch={this.onCodeSearch.bind(this, 'customCode2')}\n                              onSelect={this.onCodeSelect.bind(this, 'customCode2')}\n                              onClear={this.onCodeClear.bind(this, 'customCode2')}\n                              style={{ width: '100%' }}\n                              notFoundContent={null}\n                              disabled={!this.props.createFlag}\n                              className='product-search'\n                            />\n                          </Col>\n                          <Col {...codeColSetting}>\n                            <Select\n                              placeholder='顏色或自訂代碼3'\n                              value={\n                                this.state.formData.customCode3 === ''\n                                  ? null\n                                  : this.state.formData.customCode3\n                              }\n                              showSearch={true}\n                              showArrow={false}\n                              allowClear={true}\n                              options={this.getColorOptions()}\n                              onSearch={this.onCodeSearch.bind(this, 'customCode3')}\n                              onSelect={this.onCodeSelect.bind(this, 'customCode3')}\n                              onClear={this.onCodeClear.bind(this, 'customCode3')}\n                              style={{ width: '100%' }}\n                              notFoundContent={null}\n                              disabled={!this.props.createFlag}\n                              className='product-search'\n                            />\n                          </Col>\n                        </Row>\n                      }\n                      message='零件編號為必填'\n                      error={this.getFormErrorStatus('partId')}\n                    />\n                  </Col>\n                  <Col {...colSetting2}>\n                    <FormItem\n                      required={false}\n                      title='車種'\n                      content={\n                        <Input\n                          onChange={this.onInputChange}\n                          value={this.state.formData.kindShortName}\n                          id='kindShortName'\n                        />\n                      }\n                    />\n                  </Col>\n                  <Col {...colSetting2}>\n                    <FormItem\n                      required={false}\n                      title='單位'\n                      content={\n                        <Select\n                          onChange={this.onSelectChange.bind(this, 'unit')}\n                          value={this.state.formData.unit}\n                          options={StaticStorage.unitList.map((unit) => {\n                            return {\n                              label: unit.desc,\n                              value: unit.unit\n                            }\n                          })}\n                          optionFilterProp='children'\n                          style={{ width: '100%' }}\n                        />\n                      }\n                    />\n                  </Col>\n                  <Col {...colSetting3}>\n                    <FormItem\n                      required={true}\n                      title='商品名稱'\n                      content={\n                        <Input\n                          onChange={this.onInputChange}\n                          value={this.state.formData.name}\n                          id='name'\n                        />\n                      }\n                      message='商品名稱為必填'\n                      error={this.getFormErrorStatus('name')}\n                    />\n                  </Col>\n                  {this.state.formData.productType === 'VIRTUAL' ? (\n                    <Col {...colSetting3}>\n                      <FormItem\n                        required={true}\n                        title='對應料號'\n                        content={\n                          <Spin spinning={this.state.productSearchLoading}>\n                            <Select\n                              showSearch={true}\n                              showArrow={false}\n                              value={this.state.formData.mappingProductId}\n                              searchValue={this.state.search.productId}\n                              onSearch={this.onMappingSearch}\n                              onSelect={this.onMappingSelect}\n                              optionFilterProp='children'\n                              style={{ width: '100%' }}\n                              notFoundContent={null}\n                              className='product-search'\n                            >\n                              {this.state.productList.map((product) => (\n                                <Select.Option key={product.data} value={product.data}>\n                                  {this.getMappingProductDisplay(product)}\n                                </Select.Option>\n                              ))}\n                            </Select>\n                          </Spin>\n                        }\n                        message='對應料號為必選'\n                        error={this.getFormErrorStatus('mappingProductId')}\n                      />\n                    </Col>\n                  ) : (\n                    <>\n                      <Col {...colSetting1}>\n                        <FormItem\n                          required={true}\n                          title='定價1'\n                          content={\n                            <InputNumber\n                              onChange={this.onNumberChange.bind(this, 'price1')}\n                              value={this.state.formData.price1}\n                              min={0}\n                              max={99999999}\n                              step={1}\n                              style={{ display: 'block', width: '100%' }}\n                            />\n                          }\n                        />\n                      </Col>\n                      <Col {...colSetting1}>\n                        <FormItem\n                          required={false}\n                          title='定價2'\n                          content={\n                            <InputNumber\n                              onChange={this.onNumberChange.bind(this, 'price2')}\n                              value={this.state.formData.price2}\n                              min={0}\n                              max={99999999}\n                              step={1}\n                              style={{ display: 'block', width: '100%' }}\n                            />\n                          }\n                        />\n                      </Col>\n                      <Col {...colSetting1}>\n                        <FormItem\n                          required={false}\n                          title='定價3'\n                          content={\n                            <InputNumber\n                              onChange={this.onNumberChange.bind(this, 'price3')}\n                              value={this.state.formData.price3}\n                              min={0}\n                              max={99999999}\n                              step={1}\n                              style={{ display: 'block', width: '100%' }}\n                            />\n                          }\n                        />\n                      </Col>\n                      <Col {...colSetting2}>\n                        <FormItem\n                          required={false}\n                          title='規格'\n                          content={\n                            <Input\n                              onChange={this.onInputChange}\n                              value={this.state.formData.norm}\n                              id='norm'\n                            />\n                          }\n                        />\n                      </Col>\n                    </>\n                  )}\n                  {this.state.formData.productType === 'REAL' && (\n                    <>\n                      <Col {...colSetting2}>\n                        <FormItem\n                          required={false}\n                          title='原廠料號'\n                          content={\n                            <Input\n                              onChange={this.onInputChange}\n                              value={this.state.formData.vendorProductId}\n                              id='vendorProductId'\n                            />\n                          }\n                        />\n                      </Col>\n                      <Col {...colSetting1}>\n                        <FormItem\n                          required={false}\n                          title='安全量'\n                          content={\n                            <InputNumber\n                              onChange={this.onNumberChange.bind(this, 'safetyStock')}\n                              value={this.state.formData.safetyStock}\n                              min={0}\n                              max={999999}\n                              step={1}\n                              style={{ display: 'block', width: '100%' }}\n                            />\n                          }\n                        />\n                      </Col>\n                      <Col {...colSetting1}>\n                        <FormItem\n                          required={false}\n                          title='庫存量'\n                          content={\n                            <InputNumber\n                              onChange={this.onNumberChange.bind(this, 'inventory')}\n                              value={this.state.formData.inventory}\n                              min={0}\n                              max={999999}\n                              step={1}\n                              style={{ display: 'block', width: '100%' }}\n                            />\n                          }\n                        />\n                      </Col>\n                      <Col {...colSetting1}>\n                        <FormItem\n                          required={false}\n                          title='庫存地點'\n                          content={\n                            <Input\n                              onChange={this.onInputChange}\n                              value={this.state.formData.storingPlace}\n                              id='storingPlace'\n                            />\n                          }\n                        />\n                      </Col>\n                    </>\n                  )}\n                </Row>\n              </Card>\n              <Card className='form-detail-card'>\n                <Row {...rowSetting}>\n                  <Col span={24}>\n                    <FormItem\n                      required={false}\n                      align='flex-start'\n                      title='備註'\n                      content={\n                        <Input.TextArea\n                          onChange={this.onInputChange}\n                          value={this.state.formData.note}\n                          id='note'\n                          autoSize={{ minRows: 4, maxRows: 4 }}\n                        />\n                      }\n                      message='長度需在255字內'\n                      error={this.getFormErrorStatus('note')}\n                    />\n                  </Col>\n                </Row>\n              </Card>\n              {this.state.formData.productType === 'REAL' && (\n                <Card className='form-detail-card'>\n                  <Row {...rowSetting}>\n                    <Col span={24}>\n                      <p className='product-real-pictitle'>商品照片</p>\n                    </Col>\n                    <Col {...picColSetting}>\n                      {this.state.additionData.pic1Url ? (\n                        <div className='product-real-pic'>\n                          <img src={this.state.additionData.pic1Url} alt='照片1' />\n                          <div className='product-real-pic-option'>\n                            <Button onClick={this.openPic.bind(this, 'pic1Url')}>\n                              <PhotoViewIcon />\n                            </Button>\n                            <Upload\n                              showUploadList={false}\n                              beforeUpload={this.onPicUpload.bind(this, 'PIC1')}\n                            >\n                              <Button>\n                                <PhotoUploadIcon />\n                              </Button>\n                            </Upload>\n                          </div>\n                        </div>\n                      ) : (\n                        <Upload\n                          className='product-real-upload-wrapper'\n                          showUploadList={false}\n                          beforeUpload={this.onPicUpload.bind(this, 'PIC1')}\n                        >\n                          <Button className='product-real-upload-btn'>\n                            <ListAddIcon />\n                            <span>上傳照片</span>\n                          </Button>\n                        </Upload>\n                      )}\n                    </Col>\n                    <Col {...picColSetting}>\n                      {this.state.additionData.pic2Url ? (\n                        <div className='product-real-pic'>\n                          <img src={this.state.additionData.pic2Url} alt='照片2' />\n                          <div className='product-real-pic-option'>\n                            <Button onClick={this.openPic.bind(this, 'pic2Url')}>\n                              <PhotoViewIcon />\n                            </Button>\n                            <Upload\n                              showUploadList={false}\n                              beforeUpload={this.onPicUpload.bind(this, 'PIC2')}\n                            >\n                              <Button>\n                                <PhotoUploadIcon />\n                              </Button>\n                            </Upload>\n                          </div>\n                        </div>\n                      ) : (\n                        <Upload\n                          className='product-real-upload-wrapper'\n                          showUploadList={false}\n                          beforeUpload={this.onPicUpload.bind(this, 'PIC2')}\n                        >\n                          <Button className='product-real-upload-btn'>\n                            <ListAddIcon />\n                            <span>上傳照片</span>\n                          </Button>\n                        </Upload>\n                      )}\n                    </Col>\n                    <Col {...picColSetting}>\n                      {this.state.additionData.pic3Url ? (\n                        <div className='product-real-pic'>\n                          <img src={this.state.additionData.pic3Url} alt='照片3' />\n                          <div className='product-real-pic-option'>\n                            <Button onClick={this.openPic.bind(this, 'pic3Url')}>\n                              <PhotoViewIcon />\n                            </Button>\n                            <Upload\n                              showUploadList={false}\n                              beforeUpload={this.onPicUpload.bind(this, 'PIC3')}\n                            >\n                              <Button>\n                                <PhotoUploadIcon />\n                              </Button>\n                            </Upload>\n                          </div>\n                        </div>\n                      ) : (\n                        <Upload\n                          className='product-real-upload-wrapper'\n                          showUploadList={false}\n                          beforeUpload={this.onPicUpload.bind(this, 'PIC3')}\n                        >\n                          <Button className='product-real-upload-btn'>\n                            <ListAddIcon />\n                            <span>上傳照片</span>\n                          </Button>\n                        </Upload>\n                      )}\n                    </Col>\n                    <Col {...picColSetting}>\n                      {this.state.additionData.pic4Url ? (\n                        <div className='product-real-pic'>\n                          <img src={this.state.additionData.pic4Url} alt='照片4' />\n                          <div className='product-real-pic-option'>\n                            <Button onClick={this.openPic.bind(this, 'pic4Url')}>\n                              <PhotoViewIcon />\n                            </Button>\n                            <Upload\n                              showUploadList={false}\n                              beforeUpload={this.onPicUpload.bind(this, 'PIC4')}\n                            >\n                              <Button>\n                                <PhotoUploadIcon />\n                              </Button>\n                            </Upload>\n                          </div>\n                        </div>\n                      ) : (\n                        <Upload\n                          className='product-real-upload-wrapper'\n                          showUploadList={false}\n                          beforeUpload={this.onPicUpload.bind(this, 'PIC4')}\n                        >\n                          <Button className='product-real-upload-btn'>\n                            <ListAddIcon />\n                            <span>上傳照片</span>\n                          </Button>\n                        </Upload>\n                      )}\n                    </Col>\n                  </Row>\n                  <Modal\n                    className='product-real-pic-modal'\n                    visible={this.state.picOpen}\n                    title={null}\n                    footer={null}\n                    onCancel={() => this.setState({ picOpen: false })}\n                  >\n                    <img src={this.state.picUrl} alt='照片放大' />\n                  </Modal>\n                </Card>\n              )}\n              <div style={{ margin: '20px', textAlign: 'center' }}>\n                <Space>\n                  {this.props.createFlag ? (\n                    <>\n                      <Button\n                        type='primary'\n                        icon={<CheckOutlined />}\n                        disabled={!this.state.canSubmit}\n                        onClick={this.handleCreate.bind(this, true)}\n                      >\n                        儲存\n                      </Button>\n                      <Button\n                        type='primary'\n                        icon={<CheckOutlined />}\n                        disabled={!this.state.canSubmit}\n                        onClick={this.handleCreate.bind(this, false)}\n                      >\n                        儲存並繼續新增\n                      </Button>\n                    </>\n                  ) : (\n                    <>\n                      <Button\n                        type='primary'\n                        icon={<CheckOutlined />}\n                        disabled={!this.state.canSubmit}\n                        onClick={this.handleSubmit.bind(this, false)}\n                      >\n                        儲存\n                      </Button>\n                      <Button\n                        type='primary'\n                        icon={<CheckOutlined />}\n                        disabled={!this.state.canSubmit}\n                        onClick={this.handleSubmit.bind(this, true)}\n                      >\n                        儲存並返回列表\n                      </Button>\n                    </>\n                  )}\n                  <Button danger icon={<CloseOutlined />} onClick={this.handleCancel}>\n                    取消\n                  </Button>\n                </Space>\n              </div>\n            </>\n          )}\n        </Spin>\n      </>\n    )\n  }\n}\n","import React from 'react'\nimport ProductForm from './ProductForm'\n\nexport default class ProductDetail extends React.Component {\n  render() {\n    const seqNo = this.props.seqNo !== undefined ? this.props.seqNo : this.props.match.params.seqNo\n    return (\n      <ProductForm\n        createFlag={this.props.createFlag}\n        isDrawMode={this.props.isDrawMode}\n        drawModeVisible={this.props.drawModeVisible}\n        seqNo={seqNo}\n        onClose={this.props.onClose}\n      />\n    )\n  }\n}\n","import React from 'react'\nimport { createHashHistory } from 'history'\nimport { Button, Col, Input, Row, Space, Table, Tooltip, Modal, Spin, message } from 'antd'\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\nimport {\n  ListAddIcon,\n  ListSearchIcon,\n  ListEditIcon,\n  ListDeleteIcon,\n  ListOpenIcon,\n  UtilCloseIcon,\n  ListImageIcon\n} from '../icon/Icon'\nimport { PageDrawer } from '../../component/PageDrawer'\nimport { getPaginationSetting } from '../../component/paginationSetting'\nimport { PhotoCarousel } from '../../component/PhotoCarousel'\nimport ProductDetail from './ProductDetail'\nimport StaticStorage from '../../model/storage/static'\nimport ProductAPI from '../../model/api/product'\n\nexport default class Product extends React.Component {\n  history = createHashHistory()\n  productAPI = new ProductAPI()\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: true,\n      search: {\n        productId: '',\n        customCode1: '',\n        name: ''\n      },\n      list: [],\n      pagination: {\n        current: 1,\n        total: 0,\n        pageSize: 50,\n        position: ['bottomLeft']\n      },\n      detailCreate: true,\n      detailSeqNo: 0,\n      detailVisible: false,\n      photoVisible: false,\n      photoLoading: true,\n      photoList: []\n    }\n    this.getList()\n  }\n\n  getList = () => {\n    const { search, pagination } = this.state\n    const requestData = {\n      pageNum: pagination.current,\n      pageSize: pagination.pageSize,\n      productId: `%${search.productId}%`,\n      name: `%${search.name}%`,\n      customCode1: `%${search.customCode1}%`\n    }\n    this.productAPI\n      .getProductList(requestData)\n      .then((response) => {\n        pagination.total = response.data.total\n        this.setState({ loading: false, list: response.data.list, pagination })\n      })\n      .catch(() => this.setState({ loading: false }))\n  }\n\n  // search\n  onInputChange = (key, e) => {\n    const { search } = this.state\n    search[key] = e.target.value\n    this.setState({ search })\n  }\n  handleSearch = () => {\n    const { pagination } = this.state\n    pagination.current = 1\n    this.setState({ loading: true, list: [], pagination }, () => this.getList())\n  }\n\n  getColumns = () => {\n    const _this = this\n    const { pagination } = this.state\n    return [\n      {\n        dataIndex: 'productType',\n        title: '',\n        width: 6,\n        fixed: 'left',\n        className: 'product-table-type',\n        render: (data) => {\n          return data === 'REAL' ? (\n            <span className='product-table-type-real' />\n          ) : data === 'VIRTUAL' ? (\n            <span className='product-table-type-virtual' />\n          ) : (\n            <span className='product-table-type-others' />\n          )\n        }\n      },\n      {\n        dataIndex: 'seqNo',\n        title: '執行',\n        width: 70,\n        render: (seqNo) => (\n          <Space className='list-table-option'>\n            <Tooltip title='編輯'>\n              <Button\n                className='list-table-option-edit'\n                size='small'\n                onClick={_this.onDetailOpen.bind(_this, false, seqNo)}\n              >\n                <ListEditIcon />\n              </Button>\n            </Tooltip>\n            <Tooltip title='刪除'>\n              <Button\n                className='list-table-option-delete'\n                size='small'\n                onClick={_this.handleDelete.bind(_this, seqNo)}\n              >\n                <ListDeleteIcon />\n              </Button>\n            </Tooltip>\n          </Space>\n        )\n      },\n      {\n        title: '序',\n        width: 80,\n        align: 'center',\n        render: (a, b, i) => (pagination.current - 1) * pagination.pageSize + i + 1\n      },\n      {\n        title: '商品編號',\n        dataIndex: 'productId',\n        width: 120\n      },\n      {\n        title: '車種名稱',\n        dataIndex: 'kindShortName',\n        width: 140\n      },\n      {\n        title: '商品名稱',\n        dataIndex: 'name',\n        width: 300\n      },\n      {\n        title: '單位',\n        dataIndex: 'unit',\n        width: 60,\n        render: (data) => {\n          const unit = StaticStorage.unitList.find((unit) => unit.unit === data)\n          return unit ? unit.desc : data\n        }\n      },\n      {\n        title: '規格',\n        dataIndex: 'norm',\n        width: 180\n      },\n      {\n        title: '額外資訊',\n        dataIndex: 'productType',\n        width: 300,\n        render: (data, row) => {\n          return data === 'REAL' ? (\n            <div className='list-table-addition'>\n              <Button type='link' onClick={_this.onPhotoOpen.bind(_this, row.seqNo)}>\n                <span>查看商品照片</span>\n                <ListImageIcon />\n              </Button>\n            </div>\n          ) : data === 'VIRTUAL' ? (\n            <div className='list-table-addition'>\n              <Button\n                type='link'\n                onClick={_this.onProductOpen.bind(_this, row.mappingProductSeqNo)}\n              >\n                <span>對應商品編號: {row.mappingProductId}</span>\n                <ListOpenIcon />\n              </Button>\n            </div>\n          ) : null\n        }\n      }\n    ]\n  }\n\n  handleDelete = (seqNo) => {\n    Modal.confirm({\n      title: '確定要刪除此筆資料嗎',\n      icon: <ExclamationCircleOutlined />,\n      okText: '確認',\n      cancelText: '取消',\n      onOk: () => {\n        console.log('delete: ' + seqNo)\n      }\n    })\n  }\n\n  onPageChange = (page, pageSize) => {\n    const { pagination } = this.state\n    pagination.current = page\n    pagination.pageSize = pageSize\n    this.setState({ loading: true, list: [], pagination }, () => this.getList())\n  }\n\n  onDetailOpen = (detailCreate, detailSeqNo) =>\n    this.setState({ detailCreate, detailSeqNo, detailVisible: true })\n  onDetailClose = () => this.setState({ detailVisible: false })\n\n  onPhotoOpen = (seqNo) => {\n    this.setState(\n      {\n        photoVisible: true,\n        photoLoading: true,\n        photoList: []\n      },\n      () => {\n        this.productAPI\n          .getProductAdditionData(seqNo)\n          .then((response) => {\n            if (response.code === 0) {\n              const photoList = []\n              if (response.data.pic1Url) photoList.push(response.data.pic1Url)\n              if (response.data.pic2Url) photoList.push(response.data.pic2Url)\n              if (response.data.pic3Url) photoList.push(response.data.pic3Url)\n              if (response.data.pic4Url) photoList.push(response.data.pic4Url)\n              this.setState({ photoLoading: false, photoList })\n            } else {\n              message.error('資料載入失敗')\n              this.setState({ photoVisible: false })\n            }\n          })\n          .catch(() => {\n            message.error('資料載入失敗')\n            this.setState({ photoVisible: false })\n          })\n      }\n    )\n  }\n\n  onProductOpen = (seqNo) => {\n    window.open(`${window.location.href.split('#')[0]}#/Products/Detail/${seqNo}`)\n  }\n\n  render() {\n    return (\n      <>\n        <div className='list-header'>\n          <Row type='flex' justify='space-between'>\n            <Col>\n              <Button\n                type='primary'\n                icon={<ListAddIcon />}\n                onClick={() => this.history.push('/Products/Add')}\n                className='list-header-add'\n              >\n                新增\n              </Button>\n            </Col>\n            <Col>\n              <Space>\n                <Input\n                  placeholder='商品編號'\n                  allowClear={true}\n                  onChange={this.onInputChange.bind(this, 'productId')}\n                  style={{ width: 100 }}\n                />\n                <Input\n                  placeholder='自訂碼1'\n                  allowClear={true}\n                  onChange={this.onInputChange.bind(this, 'customCode1')}\n                  style={{ width: 100 }}\n                />\n                <Input\n                  placeholder='商品名稱'\n                  allowClear={true}\n                  onChange={this.onInputChange.bind(this, 'name')}\n                  style={{ width: 140 }}\n                />\n                <Button\n                  type='primary'\n                  icon={<ListSearchIcon />}\n                  onClick={this.handleSearch}\n                  className='list-header-search'\n                >\n                  查詢\n                </Button>\n              </Space>\n            </Col>\n          </Row>\n        </div>\n        <Table\n          className='list-table-wrapper'\n          rowKey='seqNo'\n          size='small'\n          columns={this.getColumns()}\n          loading={this.state.loading}\n          dataSource={this.state.list}\n          rowClassName={(row) =>\n            row.productType === 'VIRTUAL'\n              ? 'product-virtual'\n              : row.productType === 'OTHERS'\n              ? 'product-others'\n              : ''\n          }\n          scroll={{ x: 1256 }}\n          pagination={getPaginationSetting(this.state.pagination, this.onPageChange)}\n        />\n        <PageDrawer\n          width={480}\n          placement='right'\n          closeIcon={<UtilCloseIcon />}\n          title={this.state.detailCreate ? '新增商品' : '編輯商品資料'}\n          visible={this.state.detailVisible}\n          onClose={this.onDetailClose}\n        >\n          <ProductDetail\n            createFlag={this.state.detailCreate}\n            isDrawMode={true}\n            drawModeVisible={this.state.detailVisible}\n            seqNo={this.state.detailSeqNo}\n            onClose={this.onDetailClose}\n          />\n        </PageDrawer>\n        <Modal\n          className='product-real-pic-modal'\n          visible={this.state.photoVisible}\n          title={null}\n          footer={null}\n          onCancel={() => this.setState({ photoVisible: false })}\n        >\n          <Spin spinning={this.state.photoLoading}>\n            <PhotoCarousel picList={this.state.photoList} />\n          </Spin>\n        </Modal>\n      </>\n    )\n  }\n}\n","import React from 'react'\nimport { createHashHistory } from 'history'\nimport { Row, Col, Space, Button, Input, InputNumber, Spin, Select, Table } from 'antd'\nimport { ListAddIcon, ListSearchIcon } from '../icon/Icon'\nimport { getPaginationSetting } from '../../component/paginationSetting'\nimport ProductAPI from '../../model/api/product'\nimport moment from 'moment'\n\nexport default class ProductQuickEdit extends React.Component {\n  history = createHashHistory()\n  productAPI = new ProductAPI()\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: true,\n      search: {\n        productId: '',\n        customCode1: '',\n        name: ''\n      },\n      list: [],\n      pagination: {\n        current: 1,\n        total: 0,\n        pageSize: 50,\n        position: ['bottomLeft']\n      },\n      mappingSearch: {}\n    }\n    this.getList()\n  }\n\n  getList = () => {\n    const { search, pagination } = this.state\n    const requestData = {\n      pageNum: pagination.current,\n      pageSize: pagination.pageSize,\n      productId: `%${search.productId}%`,\n      name: `%${search.name}%`,\n      customCode1: `%${search.customCode1}%`\n    }\n    this.productAPI\n      .getProductList(requestData)\n      .then((response) => {\n        pagination.total = response.data.total\n        const mappingSearch = {}\n        response.data.list.forEach((product) => {\n          if (product.productType === 'VIRTUAL') {\n            mappingSearch[product.seqNo] = {\n              loading: false,\n              value: product.mappingProductId,\n              search: '',\n              searchTime: 0,\n              list: [],\n              select: {}\n            }\n          }\n        })\n        if (Object.keys(mappingSearch).length > 0) {\n          this.setState({ list: response.data.list, pagination, mappingSearch }, () =>\n            this.getMappingProducts(mappingSearch).then((mappingSearch) =>\n              this.setState({ loading: false, mappingSearch })\n            )\n          )\n        } else {\n          this.setState({ loading: false, list: response.data.list, pagination, mappingSearch: {} })\n        }\n      })\n      .catch(() => this.setState({ loading: false }))\n  }\n  getMappingProducts = async (mappingSearch) => {\n    const seqNos = Object.keys(mappingSearch)\n    for (const seqNo of seqNos) {\n      await new Promise((resolve) => {\n        this.productAPI.searchProductMapping(true, mappingSearch[seqNo].value).then((response) => {\n          mappingSearch[seqNo].list = response.data\n          mappingSearch[seqNo].select = response.data[0]\n          resolve(true)\n        })\n      })\n    }\n    return Promise.resolve(mappingSearch)\n  }\n\n  // search\n  onInputChange = (key, e) => {\n    const { search } = this.state\n    search[key] = e.target.value\n    this.setState({ search })\n  }\n  handleSearch = () => {\n    const { pagination } = this.state\n    pagination.current = 1\n    this.setState({ loading: true, list: [], pagination, mappingSearch: {} }, () => this.getList())\n  }\n\n  getColumns = () => {\n    const _this = this\n    return [\n      {\n        dataIndex: 'productType',\n        title: '',\n        width: 6,\n        fixed: 'left',\n        className: 'product-table-type',\n        render: (data) => {\n          return data === 'REAL' ? (\n            <span className='product-table-type-real' />\n          ) : data === 'VIRTUAL' ? (\n            <span className='product-table-type-virtual' />\n          ) : (\n            <span className='product-table-type-others' />\n          )\n        }\n      },\n      {\n        dataIndex: 'productId',\n        title: '商品代號',\n        width: 120,\n        fixed: 'left'\n      },\n      {\n        dataIndex: 'kindShortName',\n        title: '車種簡稱',\n        width: 140,\n        fixed: 'left'\n      },\n      {\n        dataIndex: 'name',\n        title: '商品名稱',\n        width: 300,\n        fixed: 'left',\n        render: (data, row) => {\n          return (\n            <Input\n              value={data}\n              onChange={_this.onProductInputChange.bind(_this, row.seqNo, 'name')}\n            />\n          )\n        }\n      },\n      {\n        dataIndex: 'norm',\n        title: '規格',\n        width: 120,\n        render: (data, row) => {\n          return (\n            row.productType !== 'VIRTUAL' && (\n              <Input\n                value={data}\n                onChange={_this.onProductInputChange.bind(_this, row.seqNo, 'norm')}\n              />\n            )\n          )\n        }\n      },\n      {\n        dataIndex: 'price1',\n        title: '定價1',\n        width: 120,\n        render: (data, row) => {\n          return (\n            row.productType === 'REAL' && (\n              <InputNumber\n                value={data}\n                min={0}\n                max={99999999}\n                step={1}\n                onChange={_this.onProductValueChange.bind(_this, row.seqNo, 'price1')}\n              />\n            )\n          )\n        }\n      },\n      {\n        dataIndex: 'price2',\n        title: '定價2',\n        width: 120,\n        render: (data, row) => {\n          return (\n            row.productType === 'REAL' && (\n              <InputNumber\n                value={data}\n                min={0}\n                max={99999999}\n                step={1}\n                onChange={_this.onProductValueChange.bind(_this, row.seqNo, 'price2')}\n              />\n            )\n          )\n        }\n      },\n      {\n        dataIndex: 'price3',\n        title: '定價3',\n        width: 120,\n        render: (data, row) => {\n          return (\n            row.productType === 'REAL' && (\n              <InputNumber\n                value={data}\n                min={0}\n                max={99999999}\n                step={1}\n                onChange={_this.onProductValueChange.bind(_this, row.seqNo, 'price3')}\n              />\n            )\n          )\n        }\n      },\n      {\n        dataIndex: 'vendorProductId',\n        title: '原廠料號',\n        width: 200,\n        render: (data, row) => {\n          return (\n            row.productType === 'REAL' && (\n              <Input\n                value={data}\n                onChange={_this.onProductInputChange.bind(_this, row.seqNo, 'vendorProductId')}\n              />\n            )\n          )\n        }\n      },\n      {\n        dataIndex: 'safetyStock',\n        title: '安全量',\n        width: 120,\n        render: (data, row) => {\n          return (\n            row.productType === 'REAL' && (\n              <InputNumber\n                value={data}\n                min={0}\n                max={999999}\n                step={1}\n                onChange={_this.onProductValueChange.bind(_this, row.seqNo, 'safetyStock')}\n              />\n            )\n          )\n        }\n      },\n      {\n        dataIndex: 'inventory',\n        title: '庫存量',\n        width: 120,\n        render: (data, row) => {\n          return (\n            row.productType === 'REAL' && (\n              <InputNumber\n                value={data}\n                min={0}\n                max={999999}\n                step={1}\n                onChange={_this.onProductValueChange.bind(_this, row.seqNo, 'inventory')}\n              />\n            )\n          )\n        }\n      },\n      {\n        dataIndex: 'storingPlace',\n        title: '庫存地點',\n        width: 200,\n        render: (data, row) => {\n          return (\n            row.productType === 'REAL' && (\n              <Input\n                value={data}\n                onChange={_this.onProductInputChange.bind(_this, row.seqNo, 'storingPlace')}\n              />\n            )\n          )\n        }\n      },\n      {\n        dataIndex: 'note',\n        title: '備註',\n        width: 300,\n        render: (data, row) => {\n          return (\n            <Input.TextArea\n              value={data}\n              autoSize={{ minRows: 1, maxRows: 1 }}\n              onChange={_this.onProductInputChange.bind(_this, row.seqNo, 'note')}\n            />\n          )\n        }\n      },\n      {\n        dataIndex: 'mappingProductId',\n        title: '對應料號',\n        width: 420,\n        render: (data, row) => {\n          if (row.productType === 'VIRTUAL') {\n            const product = _this.state.mappingSearch[row.seqNo]\n            return (\n              product && (\n                <Spin spinning={product.loading}>\n                  <Select\n                    showSearch={true}\n                    showArrow={false}\n                    value={product.value}\n                    searchValue={product.search}\n                    onSearch={_this.onMappingSearch.bind(_this, row.seqNo)}\n                    onSelect={_this.onMappingSelect.bind(_this, row.seqNo)}\n                    optionFilterProp='children'\n                    style={{ width: '100%' }}\n                    notFoundContent={null}\n                    className='product-search'\n                  >\n                    {product.list.map((product) => (\n                      <Select.Option key={product.data} value={product.data}>\n                        {_this.getMappingProductDisplay(product)}\n                      </Select.Option>\n                    ))}\n                  </Select>\n                </Spin>\n                // <Input\n                //   value={data}\n                //   onChange={_this.onProductInputChange.bind(_this, row.seqNo, 'mappingProductId')}\n                // />\n              )\n            )\n          }\n          return null\n        }\n      }\n    ]\n  }\n\n  onProductInputChange = (seqNo, key, event) => {\n    const { list } = this.state\n    const product = list.find((product) => product.seqNo === seqNo)\n    if (product) {\n      product[key] = event.target.value\n      this.setState({ list }, () => this.updateProduct(product))\n    }\n  }\n\n  onProductValueChange = (seqNo, key, value) => {\n    const { list } = this.state\n    const product = list.find((product) => product.seqNo === seqNo)\n    if (product) {\n      product[key] = value\n      this.setState({ list }, () => this.updateProduct(product))\n    }\n  }\n\n  // mapping product search & select\n  getMappingProductDisplay = (product) => {\n    let display = product.desc1\n    if (product.desc2 || product.desc3 || product.desc4 || product.desc5) {\n      let additionDisplay = ''\n      additionDisplay += product.desc2 ? product.desc2 : ''\n      additionDisplay += product.desc3\n        ? additionDisplay !== ''\n          ? `, ${product.desc3}`\n          : product.desc3\n        : ''\n      additionDisplay += product.desc4\n        ? additionDisplay !== ''\n          ? `, ${product.desc4}`\n          : product.desc4\n        : ''\n      additionDisplay += product.desc5\n        ? additionDisplay !== ''\n          ? `, ${product.desc5}`\n          : product.desc5\n        : ''\n      display += ` [${additionDisplay}]`\n    }\n    return display\n  }\n  onMappingSearch = (seqNo, value) => {\n    const { mappingSearch } = this.state\n    mappingSearch[seqNo].search = value\n    mappingSearch[seqNo].searchTime = moment().valueOf()\n    this.setState({ mappingSearch }, () => {\n      setTimeout(() => {\n        if (moment().valueOf() - mappingSearch[seqNo].searchTime >= 1000 && value !== '') {\n          mappingSearch[seqNo].loading = true\n          this.setState({ mappingSearch }, () => {\n            this.productAPI\n              .searchProductMapping(true, value)\n              .then((response) => {\n                mappingSearch[seqNo].loading = false\n                mappingSearch[seqNo].list = response.data\n                this.setState({ mappingSearch })\n              })\n              .catch(() => {\n                mappingSearch[seqNo].loading = false\n                this.setState({ mappingSearch })\n              })\n          })\n        } else if (value === '') {\n          if (mappingSearch[seqNo].value !== '') {\n            mappingSearch[seqNo].list = [mappingSearch[seqNo].select]\n          } else {\n            mappingSearch[seqNo].list = []\n          }\n          this.setState({ mappingSearch })\n        }\n      }, 1000)\n    })\n  }\n  onMappingSelect = (seqNo, value) => {\n    const { list, mappingSearch } = this.state\n    const product = mappingSearch[seqNo].list.find((product) => product.data === value)\n    if (product) {\n      const row = list.find((row) => row.seqNo === seqNo)\n      if (product.finished) {\n        mappingSearch[seqNo].search = ''\n        mappingSearch[seqNo].value = product.data\n        mappingSearch[seqNo].list = [product]\n        mappingSearch[seqNo].select = product\n        row.mappingProductId = product.data\n        row.mappingProductSeqNo = product.productSeqNo\n        this.setState({ list, mappingSearch }, () => this.updateProduct(row))\n      } else {\n        mappingSearch[seqNo].search = value\n        mappingSearch[seqNo].value = product.data\n        mappingSearch[seqNo].list = [product]\n        mappingSearch[seqNo].select = product\n        row.mappingProductId = product.data\n        row.mappingProductSeqNo = null\n        this.setState({ list, mappingSearch }, () => {\n          this.updateProduct(row)\n        })\n      }\n    }\n  }\n\n  updateProduct = (product) => {\n    this.productAPI.updateProductData(product)\n  }\n\n  onPageChange = (page, pageSize) => {\n    const { pagination } = this.state\n    pagination.current = page\n    pagination.pageSize = pageSize\n    this.setState({ loading: true, list: [], pagination, mappingSearch: {} }, () => this.getList())\n  }\n\n  render() {\n    return (\n      <>\n        <div className='list-header'>\n          <Row type='flex' justify='space-between'>\n            <Col>\n              <Button\n                type='primary'\n                icon={<ListAddIcon />}\n                onClick={() => this.history.push('/Products/Add')}\n                className='list-header-add'\n              >\n                新增\n              </Button>\n            </Col>\n            <Col>\n              <Space>\n                <Input\n                  placeholder='商品編號'\n                  allowClear={true}\n                  onChange={this.onInputChange.bind(this, 'productId')}\n                  style={{ width: 100 }}\n                />\n                <Input\n                  placeholder='自訂碼1'\n                  allowClear={true}\n                  onChange={this.onInputChange.bind(this, 'customCode1')}\n                  style={{ width: 100 }}\n                />\n                <Input\n                  placeholder='商品名稱'\n                  allowClear={true}\n                  onChange={this.onInputChange.bind(this, 'name')}\n                  style={{ width: 140 }}\n                />\n                <Button\n                  type='primary'\n                  icon={<ListSearchIcon />}\n                  onClick={this.handleSearch}\n                  className='list-header-search'\n                >\n                  查詢\n                </Button>\n              </Space>\n            </Col>\n          </Row>\n        </div>\n        <Table\n          className='list-table-wrapper'\n          rowKey='seqNo'\n          size='small'\n          columns={this.getColumns()}\n          loading={this.state.loading}\n          dataSource={this.state.list}\n          rowClassName={(row) =>\n            row.productType === 'VIRTUAL'\n              ? 'product-virtual'\n              : row.productType === 'OTHERS'\n              ? 'product-others'\n              : ''\n          }\n          scroll={{ x: 2406 }}\n          pagination={getPaginationSetting(this.state.pagination, this.onPageChange)}\n        />\n      </>\n    )\n  }\n}\n","import moment from 'moment'\n\nexport const initData = {\n  purchaseId: 0,\n  accountDate: moment().startOf('day'),\n  vendorId: '',\n  note: '',\n  purchaseDetails: []\n}\n\nexport const formRules = []\n\nexport const recordRules = []\n","import { restInstance } from '../runner/rest'\n\nexport default class PurchaseAPI {\n  getPurchaseList = (data) => {\n    return restInstance('get', '/purchases', data).then((response) => response.data)\n  }\n\n  getPurchaseData = (purchaseId) => {\n    return restInstance('get', `/purchases/${purchaseId}`).then((response) => response.data)\n  }\n\n  addPurchaseData = (data) => {\n    return restInstance('post', '/purchases', data).then((response) => response.data)\n  }\n\n  updatePurchaseData = (data) => {\n    return restInstance('patch', `/purchases/${data.purchaseId}`, data).then(\n      (response) => response.data\n    )\n  }\n\n  searchProductMapping = (realProduct, queryString) => {\n    return restInstance('get', '/products/smartQuery', { realProduct, queryString }).then(\n      (response) => response.data\n    )\n  }\n\n  getProductData = (seqNo) => {\n    return restInstance('get', `/products/${seqNo}`).then((response) => response.data)\n  }\n\n  getProductHistoryPrice = (productSeqNo) => {\n    return restInstance('get', '/products/historyPurchasePrice', { productSeqNo }).then(\n      (response) => response.data\n    )\n  }\n\n  getVendorsList = () => {\n    return restInstance('get', '/vendor', {\n      pageNum: 1,\n      pageSize: 9999,\n      queryByEnum: 'VENDOR_ID',\n      queryKeyWord: ''\n    }).then((response) => response.data)\n  }\n\n  getColorsList = () => {\n    return restInstance('get', '/colors', {\n      pageNum: 1,\n      pageSize: 9999,\n      colorId: ''\n    }).then((response) => response.data)\n  }\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport {\n  Breadcrumb,\n  Spin,\n  Card,\n  Row,\n  Col,\n  Select,\n  DatePicker,\n  Input,\n  Popover,\n  Table,\n  Space,\n  Button,\n  Modal,\n  message,\n  InputNumber\n} from 'antd'\nimport { CheckOutlined, CloseOutlined, ExclamationCircleOutlined } from '@ant-design/icons'\nimport { ListDeleteIcon, ListSearchIcon } from '../icon/Icon'\nimport { FormItem } from '../../component/FormItem'\nimport { createHashHistory } from 'history'\nimport { initData, formRules } from './purchaseType'\nimport PurchaseAPI from '../../model/api/purchase'\nimport moment from 'moment'\n\nexport default class PurchaseForm extends React.Component {\n  history = createHashHistory()\n  purchaseAPI = new PurchaseAPI()\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: true,\n      formData: { ...initData },\n      formStatus: JSON.parse(JSON.stringify(formRules)),\n      recordStatus: {},\n      search: {\n        vendorId: ''\n      },\n      detailLoading: false,\n      mappingSearch: {},\n      vendorList: [],\n      colorList: [],\n      canSubmit: false\n    }\n    this.getInitData().then(() => {\n      if (!props.createFlag) {\n        this.getPurchaseData().then(() => this.setState({ loading: false }))\n      } else {\n        this.setState({ loading: false })\n      }\n    })\n  }\n\n  componentDidUpdate(prevProps) {\n    if (\n      (!prevProps.createFlag && this.props.createFlag) ||\n      (!prevProps.drawModeVisible && this.props.drawModeVisible) ||\n      (!this.props.createFlag && prevProps.purchaseId !== this.props.purchaseId)\n    ) {\n      this.setState(\n        {\n          loading: true,\n          formData: { ...initData },\n          formStatus: JSON.parse(JSON.stringify(formRules)),\n          recordStatus: {},\n          search: {\n            vendorId: ''\n          },\n          detailLoading: false,\n          mappingSearch: {},\n          canSubmit: false\n        },\n        () =>\n          this.getInitData().then(() => {\n            if (!this.props.createFlag) {\n              this.getPurchaseData().then(() => this.setState({ loading: false }))\n            } else {\n              this.setState({ loading: false })\n            }\n          })\n      )\n    }\n  }\n\n  getInitData = async () => {\n    await new Promise((resolve) => {\n      this.purchaseAPI.getVendorsList().then((response) => {\n        this.setState({ vendorList: response.data.list }, () => resolve(true))\n      })\n    })\n    await new Promise((resolve) => {\n      this.purchaseAPI.getColorsList().then((response) => {\n        this.setState({ colorList: response.data.list }, () => resolve(true))\n      })\n    })\n  }\n\n  getPurchaseData = () => {\n    return new Promise((resolve, reject) => {\n      this.purchaseAPI\n        .getPurchaseData(this.props.purchaseId)\n        .then((response) => {\n          if (response.code === 0) {\n            const recordStatus = {}\n            const mappingSearch = {}\n            response.data.purchaseDetails.forEach((record) => {\n              mappingSearch[record.detailNo] = {\n                loading: false,\n                value: record.productId,\n                seqNo: record.productSeqNo,\n                search: '',\n                searchTime: 0,\n                list: [],\n                select: {},\n                historyLoading: true,\n                historyList: []\n              }\n              recordStatus[record.detailNo] = JSON.parse(JSON.stringify(recordStatus))\n            })\n            this.setState(\n              {\n                loading: false,\n                formData: {\n                  ...response.data.purchaseMaster,\n                  accountDate: moment(\n                    response.data.purchaseMaster.accountDate,\n                    'YYYY-MM-DD'\n                  ).startOf('day'),\n                  purchaseDetails: response.data.purchaseDetails\n                },\n                recordStatus,\n                mappingSearch\n              },\n              () => {\n                this.getMappingProducts(mappingSearch).then((mappingSearch) =>\n                  this.setState({ mappingSearch }, () =>\n                    this.checkCanSubmit().then(() => resolve(true))\n                  )\n                )\n              }\n            )\n          } else {\n            reject(false)\n            message.error(response.message)\n            if (this.props.isDrawMode) {\n              this.props.onClose()\n            } else {\n              this.history.push('/Purchase/List')\n            }\n          }\n        })\n        .catch(() => {\n          reject(false)\n          message.error('Error!')\n          if (this.props.isDrawMode) {\n            this.props.onClose()\n          } else {\n            this.history.push('/Purchase/List')\n          }\n        })\n    })\n  }\n  getMappingProducts = async (mappingSearch) => {\n    const seqNos = Object.keys(mappingSearch)\n    for (const seqNo of seqNos) {\n      await new Promise((resolve) => {\n        this.purchaseAPI.searchProductMapping(true, mappingSearch[seqNo].value).then((response) => {\n          mappingSearch[seqNo].list = response.data\n          mappingSearch[seqNo].select = response.data[0]\n          resolve(true)\n        })\n      })\n    }\n    return Promise.resolve(mappingSearch)\n  }\n\n  getFormErrorStatus = (key) => {\n    const { formStatus } = this.state\n    const field = formStatus.find((field) => field.key === key)\n    return field ? field.error : false\n  }\n\n  onInputChange = (event) => {\n    const type = event.target.getAttribute('id')\n    const text = event.target.value\n    const { formData } = this.state\n    formData[type] = text\n    this.checkData(formData, type)\n  }\n  onSelectChange = (type, value) => {\n    const { formData } = this.state\n    formData[type] = value\n    this.checkData(formData, type)\n  }\n  onNumberChange = (type, value) => {\n    const { formData } = this.state\n    formData[type] = value\n    this.checkData(formData, type)\n  }\n  onDateChange = (type, date) => {\n    const { formData } = this.state\n    formData[type] = date\n    this.checkData(formData, type)\n  }\n\n  // code select\n  onCodeSearch = (key, value) => {\n    if (!value.includes(' ')) {\n      const { search } = this.state\n      search[key] = value.toUpperCase()\n      this.setState({ search })\n    }\n  }\n  onCodeSelect = (key, value) => {\n    const { formData, search, vendorList } = this.state\n    search[key] = ''\n    formData[key] = value\n    if (key === 'vendorId') {\n      const vendor = vendorList.find(\n        (vendor) => vendor.vendorId.toLowerCase() === value.toLowerCase()\n      )\n      if (vendor) formData.vendorName = vendor.name\n    }\n    this.setState({ search }, () => this.checkData(formData, key))\n  }\n  // get code options\n  getVendorOptions = () => {\n    const { formData, search, vendorList } = this.state\n    return vendorList\n      .filter(\n        (vendor) =>\n          formData.vendorId === vendor.vendorId ||\n          (search.vendorId && vendor.vendorId.toLowerCase().includes(search.vendorId.toLowerCase()))\n      )\n      .map((vendor) => {\n        return {\n          label: `${vendor.vendorId} - ${vendor.name}`,\n          value: vendor.vendorId\n        }\n      })\n  }\n\n  // purchase detail\n  getDetailColumns = () => {\n    const _this = this\n    return [\n      {\n        dataIndex: 'detailNo',\n        title: '刪除',\n        width: 60,\n        fixed: 'left',\n        render: (data) => (\n          <Space className='list-table-option'>\n            <Button\n              className='list-table-option-delete'\n              size='small'\n              onClick={_this.onProductDelete.bind(_this, data)}\n            >\n              <ListDeleteIcon />\n            </Button>\n          </Space>\n        )\n      },\n      {\n        dataIndex: 'productId',\n        title: '商品代號',\n        width: 400,\n        fixed: 'left',\n        render: (data, row) => {\n          const { mappingSearch } = this.state\n          const line = mappingSearch[row.detailNo]\n          // return data\n          return (\n            <Spin spinning={line.loading}>\n              <Select\n                showSearch={true}\n                showArrow={false}\n                value={line.value}\n                searchValue={line.search}\n                onSearch={_this.onMappingSearch.bind(_this, row.detailNo)}\n                onSelect={_this.onMappingSelect.bind(_this, row.detailNo)}\n                optionFilterProp='children'\n                style={{ width: '100%' }}\n                notFoundContent={null}\n                className='product-search'\n              >\n                {line.list.map((product) => (\n                  <Select.Option key={product.data} value={product.data}>\n                    {_this.getMappingProductDisplay(product)}\n                  </Select.Option>\n                ))}\n              </Select>\n            </Spin>\n          )\n        }\n      },\n      {\n        dataIndex: 'productName',\n        title: '商品名稱',\n        width: 240,\n        render: (data, row) => {\n          return row.productSeqNo && data\n        }\n      },\n      {\n        dataIndex: 'kindShortName',\n        title: '車種簡稱',\n        width: 160,\n        render: (data, row) => {\n          return row.productSeqNo && data\n        }\n      },\n      {\n        dataIndex: 'norm',\n        title: '規格',\n        width: 120,\n        render: (data, row) => {\n          return row.productSeqNo && data\n        }\n      },\n      {\n        dataIndex: 'quantity',\n        title: '進貨量',\n        width: 100,\n        render: (data, row) => {\n          return (\n            row.productSeqNo && (\n              <InputNumber\n                value={data}\n                min={1}\n                max={999999}\n                step={1}\n                onChange={_this.onDetailNumberChange.bind(_this, row.detailNo, 'quantity')}\n                style={{ width: '100%' }}\n              />\n            )\n          )\n        }\n      },\n      {\n        dataIndex: 'price',\n        title: '進貨價',\n        width: 140,\n        render: (data, row) => {\n          return (\n            <div className='purchase-price-row'>\n              <div className='purchase-price-input'>\n                <InputNumber\n                  value={data}\n                  min={0}\n                  max={99999999}\n                  step={1}\n                  onChange={_this.onDetailNumberChange.bind(_this, row.detailNo, 'price')}\n                  style={{ width: '100%' }}\n                />\n              </div>\n              <div className='purchase-price-view'>\n                <Popover\n                  title='歷史進價'\n                  content={_this.displayHistoryPrice(row.detailNo)}\n                  overlayClassName='purchase-history-price'\n                  onVisibleChange={_this.onVisibleChange.bind(_this, row.detailNo)}\n                >\n                  <Button>\n                    <ListSearchIcon />\n                  </Button>\n                </Popover>\n              </div>\n            </div>\n          )\n        }\n      },\n      {\n        dataIndex: 'amount',\n        title: '金額',\n        width: 140,\n        render: (data) => {\n          return `$ ${data}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n        }\n      },\n      {\n        dataIndex: 'remark',\n        title: '備註',\n        width: 300,\n        render: (data, row) => {\n          return (\n            row.productSeqNo && (\n              <Input\n                value={data}\n                onChange={_this.onDetailInputChange.bind(_this, row.detailNo, 'remark')}\n              />\n            )\n          )\n        }\n      },\n      {\n        dataIndex: 'color',\n        title: '顏色',\n        width: 140,\n        render: (data, row) => {\n          return (\n            row.productSeqNo && (\n              <Select\n                placeholder='選擇顏色'\n                value={data === '' ? null : data}\n                showSearch={true}\n                showArrow={false}\n                allowClear={true}\n                onChange={_this.onDetailSelectChange.bind(_this, row.detailNo, 'color')}\n                style={{ width: '100%' }}\n                notFoundContent={null}\n              >\n                {_this.state.colorList.map((color) => (\n                  <Select.Option key={color.colorId} value={color.name}>{color.name}</Select.Option>\n                ))}\n              </Select>\n            )\n          )\n        }\n      },\n      {\n        dataIndex: 'vendorProductId',\n        title: '原廠料號',\n        width: 200,\n        render: (data, row) => {\n          return (\n            row.productSeqNo && (\n              <Input\n                value={data}\n                onChange={_this.onDetailInputChange.bind(_this, row.detailNo, 'vendorProductId')}\n              />\n            )\n          )\n        }\n      }\n    ]\n  }\n\n  onDetailInputChange = (detailNo, key, event) => {\n    const { formData } = this.state\n    const record = formData.purchaseDetails.find((record) => record.detailNo === detailNo)\n    if (record) {\n      record[key] = event.target.value\n      this.setState({ formData }, () => this.checkRecordData(detailNo, record, key))\n    }\n  }\n  onDetailSelectChange = (detailNo, key, value) => {\n    const { formData } = this.state\n    const record = formData.purchaseDetails.find((record) => record.detailNo === detailNo)\n    if (record) {\n      record[key] = value\n      this.setState({ formData }, () => this.checkRecordData(detailNo, record, key))\n    }\n  }\n  onDetailNumberChange = (detailNo, key, value) => {\n    const { formData } = this.state\n    const record = formData.purchaseDetails.find((record) => record.detailNo === detailNo)\n    if (record) {\n      record[key] = value\n      record.amount = record.quantity * record.price\n      this.setState({ formData }, () => this.checkRecordData(detailNo, record, key))\n    }\n  }\n\n  onProductAdd = () => {\n    const { formData, recordStatus, mappingSearch } = this.state\n    const detailNo = formData.purchaseDetails.length + 1\n    formData.purchaseDetails.push({\n      detailNo,\n      productId: '',\n      productSeqNo: null,\n      productName: '',\n      kindShortName: '',\n      norm: '',\n      quantity: 1,\n      price: 0,\n      amount: 0,\n      remark: '',\n      color: '',\n      vendorProductId: ''\n    })\n    recordStatus[detailNo] = JSON.parse(JSON.stringify(recordStatus))\n    mappingSearch[detailNo] = {\n      loading: false,\n      value: '',\n      seqNo: null,\n      search: '',\n      searchTime: 0,\n      list: [],\n      select: {},\n      historyLoading: true,\n      historyList: []\n    }\n    this.setState({ formData, recordStatus, mappingSearch })\n  }\n  onProductDelete = (detailNo) => {\n    const { formData, recordStatus, mappingSearch } = this.state\n    const index = formData.purchaseDetails.findIndex((record) => record.detailNo === detailNo)\n    formData.purchaseDetails.splice(index, 1)\n    delete recordStatus[detailNo]\n    delete mappingSearch[detailNo]\n    // console.log(formData, recordStatus, mappingSearch)\n    this.setState({ formData, recordStatus, mappingSearch })\n  }\n\n  onVisibleChange = (detailNo, visible) => {\n    const { mappingSearch } = this.state\n    const row = mappingSearch[detailNo]\n    if (visible && row.seqNo && row.historyLoading) {\n      this.purchaseAPI\n        .getProductHistoryPrice(row.seqNo)\n        .then((response) => {\n          mappingSearch[detailNo].historyLoading = false\n          mappingSearch[detailNo].historyList = response.data.map((price, index) => {\n            return {\n              ...price,\n              index\n            }\n          })\n          this.setState({ mappingSearch })\n        })\n        .catch(() => {\n          mappingSearch[detailNo].historyLoading = false\n          this.setState({ mappingSearch })\n        })\n    }\n  }\n  displayHistoryPrice = (detailNo) => {\n    const { mappingSearch } = this.state\n    const row = mappingSearch[detailNo]\n    return (\n      <Table\n        className='purchase-history-list'\n        rowKey='index'\n        size='small'\n        columns={this.getHistoryColumns()}\n        dataSource={row.historyList}\n        scroll={{ y: 240 }}\n        loading={row.historyLoading}\n        pagination={false}\n      />\n    )\n  }\n  getHistoryColumns = () => [\n    {\n      dataIndex: 'accountDate',\n      title: '日期',\n      width: 100\n    },\n    {\n      dataIndex: 'vendorName',\n      title: '廠商名稱',\n      width: 180\n    },\n    {\n      dataIndex: 'amount',\n      title: '進價',\n      width: 100,\n      render: (data, row) => {\n        const price = data / row.quantity\n        return `$ ${price}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n      }\n    }\n  ]\n\n  // mapping product search & select\n  getMappingProductDisplay = (product) => {\n    let display = product.desc1\n    if (product.desc2 || product.desc3 || product.desc4 || product.desc5) {\n      let additionDisplay = ''\n      additionDisplay += product.desc2 ? product.desc2 : ''\n      additionDisplay += product.desc3\n        ? additionDisplay !== ''\n          ? `, ${product.desc3}`\n          : product.desc3\n        : ''\n      additionDisplay += product.desc4\n        ? additionDisplay !== ''\n          ? `, ${product.desc4}`\n          : product.desc4\n        : ''\n      additionDisplay += product.desc5\n        ? additionDisplay !== ''\n          ? `, ${product.desc5}`\n          : product.desc5\n        : ''\n      display += ` [${additionDisplay}]`\n    }\n    return display\n  }\n  onMappingSearch = (detailNo, value) => {\n    const { mappingSearch } = this.state\n    mappingSearch[detailNo].search = value\n    mappingSearch[detailNo].searchTime = moment().valueOf()\n    this.setState({ mappingSearch }, () => {\n      setTimeout(() => {\n        if (moment().valueOf() - mappingSearch[detailNo].searchTime >= 1000 && value !== '') {\n          mappingSearch[detailNo].loading = true\n          this.setState({ mappingSearch }, () => {\n            this.purchaseAPI\n              .searchProductMapping(true, value)\n              .then((response) => {\n                mappingSearch[detailNo].loading = false\n                mappingSearch[detailNo].list = response.data\n                this.setState({ mappingSearch })\n              })\n              .catch(() => {\n                mappingSearch[detailNo].loading = false\n                this.setState({ mappingSearch })\n              })\n          })\n        } else if (value === '') {\n          if (mappingSearch[detailNo].value !== '') {\n            mappingSearch[detailNo].list = [mappingSearch[detailNo].select]\n          } else {\n            mappingSearch[detailNo].list = []\n          }\n          this.setState({ mappingSearch })\n        }\n      }, 1000)\n    })\n  }\n  onMappingSelect = (detailNo, value) => {\n    const { formData, mappingSearch } = this.state\n    const product = mappingSearch[detailNo].list.find((product) => product.data === value)\n    if (product) {\n      const row = formData.purchaseDetails.find((row) => row.detailNo === detailNo)\n      if (product.finished) {\n        mappingSearch[detailNo].search = ''\n        mappingSearch[detailNo].value = product.data\n        mappingSearch[detailNo].seqNo = product.productSeqNo\n        mappingSearch[detailNo].list = [product]\n        mappingSearch[detailNo].select = product\n        this.setState({ mappingSearch, detailLoading: true }, () => {\n          this.purchaseAPI.getProductData(product.productSeqNo).then((response) => {\n            row.productId = product.data\n            row.productSeqNo = product.productSeqNo\n            row.productName = response.data.name\n            row.kindShortName = response.data.kindShortName\n            row.norm = response.data.norm\n            row.quantity = 1\n            row.price = 0\n            row.amount = 0\n            row.color = ''\n            row.unit = response.data.unit\n            row.vendorProductId = response.data.vendorProductId\n            this.setState({ formData, detailLoading: false })\n          })\n        })\n      } else {\n        mappingSearch[detailNo].search = value\n        mappingSearch[detailNo].value = product.data\n        mappingSearch[detailNo].seqNo = product.productSeqNo\n        mappingSearch[detailNo].list = [product]\n        mappingSearch[detailNo].select = product\n        row.productId = product.data\n        row.productSeqNo = null\n        row.productName = ''\n        row.kindShortName = ''\n        row.norm = ''\n        row.quantity = 1\n        row.price = 0\n        row.amount = 0\n        row.color = ''\n        row.unit = ''\n        row.vendorProductId = ''\n        this.setState({ formData, mappingSearch })\n      }\n    }\n  }\n\n  // field validator\n  checkData = (formData, fieldKey) => {\n    const { formStatus } = this.state\n    const field = formStatus.find((field) => field.key === fieldKey)\n    if (field) {\n      const value = formData[fieldKey]\n      let error = false\n      if (field.required && !value) {\n        error = true\n      }\n      if (field.length && field.length.length > 0 && value) {\n        if (field.length.length === 1 && value.length > field.length[0]) {\n          error = true\n        } else if (\n          field.length.length > 1 &&\n          (value.length < field.length[0] || value.length > field.length[1])\n        ) {\n          error = true\n        }\n      }\n      if (field.regExp && !field.regExp.test(value)) {\n        error = true\n      }\n      field.error = error\n    }\n    this.setState({ formData, formStatus }, () => this.checkCanSubmit())\n  }\n  checkRecordData = (detailNo, record, fieldKey) => {\n    const { recordStatus } = this.state\n    const status = recordStatus[detailNo]\n    if (status) {\n    }\n    this.setState({ recordStatus }, () => this.checkCanSubmit())\n  }\n  checkCanSubmit = () => {\n    return new Promise((resolve) => {\n      let recordError = false\n      const keys = Object.keys(this.state.recordStatus)\n      for (const key of keys) {\n        if (this.state.recordStatus[key].error) {\n          recordError = true\n          break\n        }\n      }\n      this.setState(\n        {\n          canSubmit: !this.state.formStatus.some((field) => field.error) && !recordError\n        },\n        () => resolve(true)\n      )\n    })\n  }\n\n  // 新增\n  handleCreate = (back) => {\n    this.setState({ loading: true }, () => {\n      const { formData } = this.state\n      formData.purchaseDetails = formData.purchaseDetails.filter((record) => record.productSeqNo !== null)\n      this.purchaseAPI\n        .addPurchaseData(formData)\n        .then((response) => {\n          if (response.code === 0) {\n            message.success('成功新增資料')\n            if (back) {\n              if (this.props.isDrawMode) {\n                this.props.onClose()\n              } else {\n                this.history.push('/Purchase/List')\n              }\n            } else {\n              const drawerContent = document.querySelector('.ant-drawer-body')\n              const layoutContent = document.getElementById('layout-content-wrapper')\n              if (drawerContent) drawerContent.scrollTo({ top: 0, behavior: 'smooth' })\n              if (layoutContent) layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\n              this.setState({\n                loading: false,\n                formData: { ...initData },\n                formStatus: JSON.parse(JSON.stringify(formRules)),\n                search: {\n                  vendorId: ''\n                },\n                canSubmit: false\n              })\n            }\n          } else {\n            Modal.error({\n              title: response.message,\n              icon: <ExclamationCircleOutlined />,\n              okText: '確認',\n              cancelText: null,\n              onOk: () => {\n                this.setState({ loading: false })\n              }\n            })\n          }\n        })\n        .catch((error) => {\n          message.error(error.response.data.message)\n          this.setState({ loading: false })\n        })\n    })\n  }\n  // 修改\n  handleSubmit = (back) => {\n    this.setState({ loading: true }, () => {\n      const { formData } = this.state\n      formData.purchaseDetails = formData.purchaseDetails.filter((record) => record.productSeqNo !== null)\n      this.purchaseAPI\n        .updatePurchaseData(this.state.formData)\n        .then((response) => {\n          if (response.code === 0) {\n            message.success('成功更新資料')\n            if (back) {\n              if (this.props.isDrawMode) {\n                this.props.onClose()\n              } else {\n                this.history.push('/Purchase/List')\n              }\n            } else {\n              const drawerContent = document.querySelector('.ant-drawer-body')\n              const layoutContent = document.getElementById('layout-content-wrapper')\n              if (drawerContent) drawerContent.scrollTo({ top: 0, behavior: 'smooth' })\n              if (layoutContent) layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\n              this.getPurchaseData()\n            }\n          } else {\n            Modal.error({\n              title: response.message,\n              icon: <ExclamationCircleOutlined />,\n              content: response.data.map((tip, index) => (\n                <>\n                  {index > 0 && <br />}\n                  {tip.split(': ')[1]}\n                </>\n              )),\n              okText: '確認',\n              cancelText: null,\n              onOk: () => {\n                this.setState({ loading: false })\n              }\n            })\n          }\n        })\n        .catch(() => {\n          message.error('資料更新失敗')\n          this.setState({ loading: false })\n        })\n    })\n  }\n\n  handleCancel = () => {\n    if (this.props.isDrawMode) {\n      this.props.onClose()\n    } else {\n      this.history.push('/Purchase/List')\n    }\n  }\n\n  render() {\n    const rowSetting = this.props.isDrawMode\n      ? {\n          gutter: [12, 12],\n          type: 'flex',\n          align: 'middle',\n          style: { marginBottom: 12, marginTop: 12 }\n        }\n      : {\n          gutter: [24, 24],\n          type: 'flex',\n          align: 'middle',\n          style: { marginBottom: 24, marginTop: 24 }\n        }\n    const colSetting1 = this.props.isDrawMode\n      ? {\n          span: 24\n        }\n      : {\n          xs: 24,\n          sm: 24,\n          md: 24,\n          lg: 8\n        }\n    const colSetting2 = this.props.isDrawMode\n      ? {\n          span: 24\n        }\n      : {\n          xs: 24,\n          sm: 24,\n          md: 24,\n          lg: 16\n        }\n    return (\n      <>\n        {!this.props.isDrawMode && (\n          <Breadcrumb style={{ marginBottom: 10 }}>\n            <Breadcrumb.Item>\n              <Link to='/Purchase/List'>進貨單</Link>\n            </Breadcrumb.Item>\n            <Breadcrumb.Item>\n              {this.props.createFlag ? '新增進貨單' : '修改進貨單資料'}\n            </Breadcrumb.Item>\n          </Breadcrumb>\n        )}\n        <Spin spinning={this.state.loading}>\n          <Card className='form-detail-card'>\n            <Row {...rowSetting}>\n              <Col {...colSetting1}>\n                <FormItem\n                  required={true}\n                  title='進貨日期'\n                  content={\n                    <DatePicker\n                      value={this.state.formData.accountDate}\n                      allowClear={false}\n                      disabled={!this.props.createFlag}\n                      onChange={this.onDateChange.bind(this, 'accountDate')}\n                      style={{ width: '100%' }}\n                    />\n                  }\n                />\n              </Col>\n              <Col {...colSetting2}>\n                <FormItem\n                  required={true}\n                  title='廠商'\n                  content={\n                    <Select\n                      placeholder='搜尋廠商代號'\n                      value={this.state.formData.vendorId}\n                      searchValue={this.state.search.vendorId}\n                      showSearch={true}\n                      showArrow={false}\n                      options={this.getVendorOptions()}\n                      onSearch={this.onCodeSearch.bind(this, 'vendorId')}\n                      onSelect={this.onCodeSelect.bind(this, 'vendorId')}\n                      style={{ width: '100%' }}\n                      notFoundContent={null}\n                      disabled={!this.props.createFlag}\n                    />\n                  }\n                />\n              </Col>\n              <Col span={24}>\n                <FormItem\n                  required={false}\n                  title='備註'\n                  align='flex-start'\n                  content={\n                    <Input.TextArea\n                      onChange={this.onInputChange}\n                      value={this.state.formData.note}\n                      id='note'\n                      autoSize={{ minRows: 4, maxRows: 4 }}\n                    />\n                  }\n                  message='長度需在255字內'\n                  error={this.getFormErrorStatus('note')}\n                />\n              </Col>\n            </Row>\n          </Card>\n          <Card className='form-detail-card purchase-detail-card'>\n            <Table\n              className='purchase-detail-table'\n              rowKey='detailNo'\n              size='small'\n              columns={this.getDetailColumns()}\n              dataSource={JSON.parse(JSON.stringify(this.state.formData.purchaseDetails))}\n              footer={() => <Button onClick={this.onProductAdd}>新增商品</Button>}\n              scroll={{ x: 1900 }}\n              loading={this.state.detailLoading}\n              pagination={false}\n            />\n          </Card>\n          <div style={{ margin: '20px', textAlign: 'center' }}>\n            <Space>\n              {this.props.createFlag ? (\n                <>\n                  <Button\n                    type='primary'\n                    icon={<CheckOutlined />}\n                    disabled={!this.state.canSubmit}\n                    onClick={this.handleCreate.bind(this, true)}\n                  >\n                    儲存\n                  </Button>\n                  <Button\n                    type='primary'\n                    icon={<CheckOutlined />}\n                    disabled={!this.state.canSubmit}\n                    onClick={this.handleCreate.bind(this, false)}\n                  >\n                    儲存並繼續新增\n                  </Button>\n                </>\n              ) : (\n                <>\n                  <Button\n                    type='primary'\n                    icon={<CheckOutlined />}\n                    disabled={!this.state.canSubmit}\n                    onClick={this.handleSubmit.bind(this, false)}\n                  >\n                    儲存\n                  </Button>\n                  <Button\n                    type='primary'\n                    icon={<CheckOutlined />}\n                    disabled={!this.state.canSubmit}\n                    onClick={this.handleSubmit.bind(this, true)}\n                  >\n                    儲存並返回列表\n                  </Button>\n                </>\n              )}\n              <Button danger icon={<CloseOutlined />} onClick={this.handleCancel}>\n                取消\n              </Button>\n            </Space>\n          </div>\n        </Spin>\n      </>\n    )\n  }\n}\n","import React from 'react'\nimport PurchaseForm from './PurchaseForm'\n\nexport default class PurchaseDetail extends React.Component {\n  render() {\n    const purchaseId =\n      this.props.purchaseId !== undefined\n        ? this.props.purchaseId\n        : this.props.match.params.purchaseId\n    return (\n      <PurchaseForm\n        createFlag={this.props.createFlag}\n        isDrawMode={this.props.isDrawMode}\n        drawModeVisible={this.props.drawModeVisible}\n        purchaseId={purchaseId}\n        onClose={this.props.onClose}\n      />\n    )\n  }\n}\n","import React from 'react'\nimport { createHashHistory } from 'history'\nimport {\n  Button,\n  Col,\n  Input,\n  Select,\n  DatePicker,\n  Row,\n  Space,\n  Table,\n  Tooltip,\n  Modal\n} from 'antd'\nimport moment from 'moment'\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\nimport {\n  ListAddIcon,\n  ListSearchIcon,\n  ListEditIcon,\n  ListDeleteIcon,\n  UtilCloseIcon\n} from '../icon/Icon'\nimport { PageDrawer } from '../../component/PageDrawer'\nimport { getPaginationSetting } from '../../component/paginationSetting'\nimport PurchaseDetail from './PurchaseDetail'\nimport PurchaseAPI from '../../model/api/purchase'\n\nexport default class Purchase extends React.Component {\n  history = createHashHistory()\n  purchaseAPI = new PurchaseAPI()\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: true,\n      search: {\n        date: [\n          moment().startOf('month').startOf('day'),\n          moment().endOf('month').startOf('day')\n        ],\n        id: undefined,\n        keyword: ''\n      },\n      list: [],\n      pagination: {\n        current: 1,\n        total: 0,\n        pageSize: 10,\n        position: ['bottomLeft']\n      },\n      detailPurchaseId: 0,\n      detailVisible: false\n    }\n    this.getList()\n  }\n\n  getList = () => {\n    const { search, pagination } = this.state\n    const requestData = {\n      pageNum: pagination.current,\n      pageSize: pagination.pageSize\n    }\n    if (search.id) {\n      requestData.queryBy = search.id\n      requestData.condition = search.keyword\n    }\n    if (search.date) {\n      requestData.beginDate = search.date[0].format('YYYY-MM-DD')\n      requestData.endDate = search.date[1].format('YYYY-MM-DD')\n    }\n    this.purchaseAPI\n      .getPurchaseList(requestData)\n      .then(response => {\n        pagination.total = response.data.total\n        this.setState({ loading: false, list: response.data.list, pagination })\n      })\n      .catch(() => this.setState({ loading: false }))\n  }\n\n  // search\n  onDateChange = date => {\n    const { search } = this.state\n    search.date = date\n    this.setState({ search, loading: true, list: [] }, () => this.getList())\n  }\n  onSelectChange = value => {\n    const { search } = this.state\n    search.id = value\n    if (!value) search.keyword = ''\n    this.setState({ search })\n  }\n  onInputChange = e => {\n    const { search } = this.state\n    search.keyword = e.target.value\n    this.setState({ search })\n  }\n  handleSearch = () => {\n    const { pagination } = this.state\n    pagination.current = 1\n    this.setState({ loading: true, list: [], pagination }, () => this.getList())\n  }\n\n  getColumns = () => {\n    const _this = this\n    const { pagination } = this.state\n    return [\n      {\n        dataIndex: 'purchaseId',\n        title: '執行',\n        width: 50,\n        render: (purchaseId) => (\n          <Space className='list-table-option'>\n            <Tooltip title='編輯'>\n              <Button\n                className='list-table-option-edit'\n                size='small'\n                onClick={_this.onDetailOpen.bind(_this, purchaseId)}\n              >\n                <ListEditIcon />\n              </Button>\n            </Tooltip>\n          </Space>\n        )\n      },\n      {\n        title: '序',\n        width: 30,\n        align: 'center',\n        render: (a, b, i) => (pagination.current - 1) * pagination.pageSize + i + 1\n      },\n      {\n        title: '日期',\n        dataIndex: 'accountDate'\n      },\n      {\n        title: '進貨編號',\n        dataIndex: 'purchaseId'\n      },\n      {\n        title: '廠商代號',\n        dataIndex: 'vendorId'\n      },\n      {\n        title: '廠商名稱',\n        dataIndex: 'vendorName'\n      },\n      {\n        title: '總金額',\n        dataIndex: 'totalAmount',\n        align: 'right',\n        render: (data) => {\n          return `$ ${data}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n        }\n      }\n    ]\n  }\n\n  handleDelete = (seqNo) => {\n    Modal.confirm({\n      title: '確定要刪除此筆資料嗎',\n      icon: <ExclamationCircleOutlined />,\n      okText: '確認',\n      cancelText: '取消',\n      onOk: () => {\n        console.log('delete: ' + seqNo)\n      }\n    })\n  }\n\n  onPageChange = (page, pageSize) => {\n    const { pagination } = this.state\n    pagination.current = page\n    pagination.pageSize = pageSize\n    this.setState({ loading: true, list: [], pagination }, () => this.getList())\n  }\n\n  onDetailOpen = (purchaseId) => this.history.push(`/Purchase/Detail/${purchaseId}`)\n  // onDetailOpen = (detailPurchaseId) =>\n  //   this.setState({ detailPurchaseId, detailVisible: true })\n  // onDetailClose = () => this.setState({ detailVisible: false })\n\n  render() {\n    return (\n      <>\n        <div className='list-header'>\n          <Row type='flex' justify='space-between'>\n            <Col>\n              <Space>\n                <Button\n                  type='primary'\n                  icon={<ListAddIcon />}\n                  onClick={() => this.history.push('/Purchase/Add')}\n                  className='list-header-add'\n                >\n                  新增\n                </Button>\n                <DatePicker.RangePicker\n                  defaultValue={this.state.search.date}\n                  allowClear={false}\n                  onChange={this.onDateChange}\n                />\n              </Space>\n            </Col>\n            <Col>\n              <Space>\n                <Select\n                  placeholder='搜尋欄位'\n                  value={this.state.search.id}\n                  allowClear={true}\n                  onChange={this.onSelectChange}\n                >\n                  <Select.Option value='PURCHASE_ID'>進貨單號</Select.Option>\n                  <Select.Option value='VENDOR_ID'>廠商代號</Select.Option>\n                  <Select.Option value='NOTE'>備註</Select.Option>\n                </Select>\n                <Input\n                  placeholder='搜尋內容'\n                  allowClear={true}\n                  onChange={this.onInputChange}\n                />\n                <Button\n                  type='primary'\n                  icon={<ListSearchIcon />}\n                  onClick={this.handleSearch}\n                  className='list-header-search'\n                >\n                  查詢\n                </Button>\n              </Space>\n            </Col>\n          </Row>\n        </div>\n        <Table\n          className='list-table-wrapper'\n          rowKey='purchaseId'\n          size='small'\n          columns={this.getColumns()}\n          loading={this.state.loading}\n          dataSource={this.state.list}\n          pagination={getPaginationSetting(\n            this.state.pagination,\n            this.onPageChange\n          )}\n        />\n        {/* <PageDrawer\n          width={480}\n          placement='right'\n          closeIcon={<UtilCloseIcon />}\n          title={this.state.detailCreate ? '新增商品' : '編輯商品資料'}\n          visible={this.state.detailVisible}\n          onClose={this.onDetailClose}\n        >\n          <PurchaseDetail\n            createFlag={false}\n            isDrawMode={true}\n            drawModeVisible={this.state.detailVisible}\n            purchaseId={this.state.detailPurchaseId}\n            onClose={this.onDetailClose}\n          />\n        </PageDrawer> */}\n      </>\n    )\n  }\n}\n","import { restInstance } from '../runner/rest'\n\nexport default class GlobalAPI {\n  getUnitList = () => {\n    return restInstance('get', '/common/units').then((response) => response.data)\n  }\n}\n","import React from 'react'\nimport { Switch, Route } from 'react-router-dom'\nimport { ConfigProvider, Layout, message } from 'antd'\nimport zhTW from 'antd/lib/locale/zh_TW'\nimport moment from 'moment'\nimport 'moment/locale/zh-tw'\nimport { SiderSwitchIcon } from './icon/Icon'\nimport { Login } from './Login'\nimport { LayoutSider } from './layout/Sider'\nimport { LayoutHeader } from './layout/Header'\nimport Dashboard from './dashboard/Dashboard'\nimport Supplier from './supplier/Supplier'\nimport SupplierDetail from './supplier/SupplierDetail'\nimport Customer from './customer/Customer'\nimport CustomerDetail from './customer/CustomerDetail'\nimport Employee from './employee/Employee'\nimport EmployeeDetail from './employee/EmployeeDetail'\nimport Vehicle from './vehicle/Vehicle'\nimport VehicleDetail from './vehicle/VehicleDetail'\nimport Level from './level/Level'\nimport LevelDetail from './level/LevelDetail'\nimport Colour from './colour/Colour'\nimport ColourDetail from './colour/ColourDetail'\nimport Component from './component/Component'\nimport ComponentDetail from './component/ComponentDetail'\nimport Product from './product/Product'\nimport ProductQuickEdit from './product/ProductQuickEdit'\nimport ProductDetail from './product/ProductDetail'\nimport Purchase from './purchase/Purchase'\nimport PurchaseDetail from './purchase/PurchaseDetail'\nimport StaticStorage from '../model/storage/static'\nimport GlobalAPI from '../model/api/global'\nimport { testRestInstance } from '../model/runner/rest'\n\nmoment.locale('zh-tw')\n\nexport default class LayoutPage extends React.Component {\n  staticStorage = new StaticStorage()\n  globalAPI = new GlobalAPI()\n\n  constructor(props) {\n    super(props)\n    const cookies = document.cookie.split(';')\n    this.state = {\n      isLand: !cookies.find((cookie) => cookie.includes('MOTOBUY_AUTH')),\n      isAuth: false,\n      siderCollapsed: false\n    }\n    if (cookies.find((cookie) => cookie.includes('MOTOBUY_AUTH'))) {\n      testRestInstance('get', '/auth')\n        .then((response) => {\n          if (response.data.code === 0) {\n            this.getGlobalData().then(() => {\n              this.setState({ isLand: true, isAuth: true })\n            })\n          } else {\n            this.setState({ isLand: true })\n          }\n        })\n        .catch(() => this.setState({ isLand: true }))\n    }\n  }\n\n  componentDidMount() {\n    window.addEventListener('beforeunload', this.clearCookie)\n  }\n  componentWillUnmount() {\n    this.clearCookie()\n  }\n\n  getGlobalData = async () => {\n    await new Promise((resolve) => {\n      this.globalAPI.getUnitList().then((response) => {\n        this.staticStorage.setUnitList(response.data)\n        resolve(true)\n      })\n    })\n  }\n\n  clearCookie = () => {\n    const cookies = document.cookie.split(';')\n    if (\n      !(\n        cookies.find((cookie) => cookie.includes('MOTOBUY_KEEP_LOGIN')) &&\n        cookies.find((cookie) => cookie.includes('MOTOBUY_KEEP_LOGIN')).split('=')[1] === 'true'\n      )\n    ) {\n      document.cookie = 'MOTOBUY_AUTH=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT'\n    }\n  }\n\n  onLogin = () => {\n    this.getGlobalData().then(() => this.setState({ isAuth: true }))\n  }\n  onLogout = () => {\n    message.success('已成功登出')\n    document.cookie = 'MOTOBUY_AUTH=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT'\n    this.setState({ isAuth: false })\n  }\n\n  render() {\n    return this.state.isLand ? (\n      this.state.isAuth ? (\n        <ConfigProvider locale={zhTW}>\n          <Layout className='layout-wrapper'>\n            <Layout.Sider\n              collapsible\n              collapsed={this.state.siderCollapsed}\n              onCollapse={(siderCollapsed) => this.setState({ siderCollapsed })}\n              trigger={<SiderSwitchIcon />}\n              className='layout-sider-wrapper'\n            >\n              <Route path='/:type?/:page?' component={LayoutSider} />\n            </Layout.Sider>\n            <Layout className='layout-main'>\n              <Layout.Header className='layout-header'>\n                <LayoutHeader onLogout={this.onLogout} />\n              </Layout.Header>\n              <Layout.Content id='layout-content-wrapper' className='layout-content-wrapper'>\n                <Switch>\n                  {/* Basic */}\n                  {/* Supplier */}\n                  <Route\n                    exact\n                    path='/Basic/Supplier/Add'\n                    render={(props) => <SupplierDetail {...props} createFlag={true} />}\n                  />\n                  <Route\n                    exact\n                    path='/Basic/Supplier/:vendorId'\n                    render={(props) => <SupplierDetail {...props} createFlag={false} />}\n                  />\n                  <Route exact path='/Basic/Supplier' component={Supplier} />\n                  {/* Customer */}\n                  <Route\n                    exact\n                    path='/Basic/Customer/Add'\n                    render={(props) => <CustomerDetail {...props} createFlag={true} />}\n                  />\n                  <Route\n                    exact\n                    path='/Basic/Customer/:customerId'\n                    render={(props) => <CustomerDetail {...props} createFlag={false} />}\n                  />\n                  <Route exact path='/Basic/Customer' component={Customer} />\n                  {/* Employee */}\n                  <Route\n                    exact\n                    path='/Basic/Employee/Add'\n                    render={(props) => <EmployeeDetail {...props} createFlag={true} />}\n                  />\n                  <Route\n                    exact\n                    path='/Basic/Employee/:employeeId'\n                    render={(props) => <EmployeeDetail {...props} createFlag={false} />}\n                  />\n                  <Route exact path='/Basic/Employee' component={Employee} />\n                  {/* Vehicle */}\n                  <Route\n                    exact\n                    path='/Parts/Vehicle/Add'\n                    render={(props) => <VehicleDetail {...props} createFlag={true} />}\n                  />\n                  <Route\n                    exact\n                    path='/Parts/Vehicle/:kindId'\n                    render={(props) => <VehicleDetail {...props} createFlag={false} />}\n                  />\n                  <Route exact path='/Parts/Vehicle' component={Vehicle} />\n                  {/* Level */}\n                  <Route\n                    exact\n                    path='/Parts/Level/Add'\n                    render={(props) => <LevelDetail {...props} createFlag={true} />}\n                  />\n                  <Route\n                    exact\n                    path='/Parts/Level/:gradeId'\n                    render={(props) => <LevelDetail {...props} createFlag={false} />}\n                  />\n                  <Route exact path='/Parts/Level' component={Level} />\n                  {/* Colour */}\n                  <Route\n                    exact\n                    path='/Parts/Colour/Add'\n                    render={(props) => <ColourDetail {...props} createFlag={true} />}\n                  />\n                  <Route\n                    exact\n                    path='/Parts/Colour/:colorId'\n                    render={(props) => <ColourDetail {...props} createFlag={false} />}\n                  />\n                  <Route exact path='/Parts/Colour' component={Colour} />\n                  {/* Component */}\n                  <Route\n                    exact\n                    path='/Parts/Component/Add'\n                    render={(props) => <ComponentDetail {...props} createFlag={true} />}\n                  />\n                  <Route\n                    exact\n                    path='/Parts/Component/:partId'\n                    render={(props) => <ComponentDetail {...props} createFlag={false} />}\n                  />\n                  <Route exact path='/Parts/Component' component={Component} />\n                  {/* Product */}\n                  <Route\n                    exact\n                    path='/Products/Add'\n                    render={(props) => <ProductDetail {...props} createFlag={true} />}\n                  />\n                  <Route\n                    exact\n                    path='/Products/Detail/:seqNo'\n                    render={(props) => <ProductDetail {...props} createFlag={false} />}\n                  />\n                  <Route exact path='/Products/QuickEdit' component={ProductQuickEdit} />\n                  <Route exact path='/Products/List' component={Product} />\n                  {/* Purchase */}\n                  <Route\n                    exact\n                    path='/Purchase/Add'\n                    render={(props) => <PurchaseDetail {...props} createFlag={true} />}\n                  />\n                  <Route\n                    exact\n                    path='/Purchase/Detail/:purchaseId'\n                    render={(props) => <PurchaseDetail {...props} createFlag={false} />}\n                  />\n                  <Route exact path='/Purchase/List' component={Purchase} />\n                  <Route path='/' component={Dashboard} />\n                </Switch>\n              </Layout.Content>\n              <Layout.Footer className='layout-footer'>2021 &copy; Copyright</Layout.Footer>\n            </Layout>\n          </Layout>\n        </ConfigProvider>\n      ) : (\n        <ConfigProvider locale={zhTW}>\n          <Login onLogin={this.onLogin} />\n        </ConfigProvider>\n      )\n    ) : null\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { HashRouter as Router, Route } from 'react-router-dom'\nimport reportWebVitals from './reportWebVitals'\nimport LayoutPage from './view/LayoutPage'\n\nimport 'antd/dist/antd.css'\nimport './style/index.sass'\nimport './style/login.sass'\nimport './style/sider.sass'\nimport './style/list.sass'\nimport './style/form.sass'\nimport './style/drawer.sass'\n\nReactDOM.render(\n  <Router>\n    <Route path='/:type?/:page?/:id?' component={LayoutPage} />\n  </Router>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}