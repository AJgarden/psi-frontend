(this["webpackJsonppsi-frontend"]=this["webpackJsonppsi-frontend"]||[]).push([[0],{287:function(e,t,a){},288:function(e,t,a){},289:function(e,t,a){},290:function(e,t,a){},291:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(30),s=a.n(c),i=a(53),o=a(31),l=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,304)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))},h=a(7),j=a(27),d=a(32),u=a(34),b=a(33),p=a(294),O=a(293),m=a(3),g=function(){return Object(m.jsxs)("svg",{height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#ffffff",children:[Object(m.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(m.jsx)("path",{d:"M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z"})]})},x=function(e){return Object(m.jsx)(O.a,Object(h.a)({component:g},e))},f=function(){return Object(m.jsxs)("svg",{height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#ffffff",children:[Object(m.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(m.jsx)("path",{d:"M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"})]})},y=function(e){return Object(m.jsx)(O.a,Object(h.a)({component:f},e))},v=function(){return Object(m.jsxs)("svg",{height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#ffffff",children:[Object(m.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(m.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})]})},C=function(e){return Object(m.jsx)(O.a,Object(h.a)({component:v},e))},S=function(){return Object(m.jsxs)("svg",{height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#ffffff",children:[Object(m.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(m.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})]})},I=function(e){return Object(m.jsx)(O.a,Object(h.a)({component:S},e))},k=function(){return Object(m.jsxs)("svg",{height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#ffffff",children:[Object(m.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(m.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"})]})},D=function(e){return Object(m.jsx)(O.a,Object(h.a)({component:k},e))},E=function(){return Object(m.jsxs)("svg",{enableBackground:"new 0 0 24 24",height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#ffffff",children:[Object(m.jsx)("g",{children:Object(m.jsx)("path",{d:"M0,0h24v24H0V0z",fill:"none"})}),Object(m.jsx)("g",{children:Object(m.jsx)("path",{d:"M17,8l-1.41,1.41L17.17,11H9v2h8.17l-1.58,1.58L17,16l4-4L17,8z M5,5h7V3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h7v-2H5V5z"})})]})},F=function(e){return Object(m.jsx)(O.a,Object(h.a)({component:E},e))},w=function(){return Object(m.jsxs)("svg",{height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#ffffff",children:[Object(m.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(m.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.07 18.28c.43-.9 3.05-1.78 4.93-1.78s4.51.88 4.93 1.78C15.57 19.36 13.86 20 12 20s-3.57-.64-4.93-1.72zm11.29-1.45c-1.43-1.74-4.9-2.33-6.36-2.33s-4.93.59-6.36 2.33C4.62 15.49 4 13.82 4 12c0-4.41 3.59-8 8-8s8 3.59 8 8c0 1.82-.62 3.49-1.64 4.83zM12 6c-1.94 0-3.5 1.56-3.5 3.5S10.06 13 12 13s3.5-1.56 3.5-3.5S13.94 6 12 6zm0 5c-.83 0-1.5-.67-1.5-1.5S11.17 8 12 8s1.5.67 1.5 1.5S12.83 11 12 11z"})]})},N=function(e){return Object(m.jsx)(O.a,Object(h.a)({component:w},e))},z=function(){return Object(m.jsxs)("svg",{height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#000000",children:[Object(m.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(m.jsx)("path",{d:"M9 13.75c-2.34 0-7 1.17-7 3.5V19h14v-1.75c0-2.33-4.66-3.5-7-3.5zM4.34 17c.84-.58 2.87-1.25 4.66-1.25s3.82.67 4.66 1.25H4.34zM9 12c1.93 0 3.5-1.57 3.5-3.5S10.93 5 9 5 5.5 6.57 5.5 8.5 7.07 12 9 12zm0-5c.83 0 1.5.67 1.5 1.5S9.83 10 9 10s-1.5-.67-1.5-1.5S8.17 7 9 7zm7.04 6.81c1.16.84 1.96 1.96 1.96 3.44V19h4v-1.75c0-2.02-3.5-3.17-5.96-3.44zM15 12c1.93 0 3.5-1.57 3.5-3.5S16.93 5 15 5c-.54 0-1.04.13-1.5.35.63.89 1 1.98 1 3.15s-.37 2.26-1 3.15c.46.22.96.35 1.5.35z"})]})},B=function(e){return Object(m.jsx)(O.a,Object(h.a)({component:z},e))},q=function(){return Object(m.jsxs)("svg",{height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#000000",children:[Object(m.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(m.jsx)("path",{d:"M19 5v2h-4V5h4M9 5v6H5V5h4m10 8v6h-4v-6h4M9 17v2H5v-2h4M21 3h-8v6h8V3zM11 3H3v10h8V3zm10 8h-8v10h8V11zm-10 4H3v6h8v-6z"})]})},P=function(e){return Object(m.jsx)(O.a,Object(h.a)({component:q},e))},M=function(){return Object(m.jsxs)("svg",{height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#000000",children:[Object(m.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(m.jsx)("path",{d:"M12 5.69l5 4.5V18h-2v-6H9v6H7v-7.81l5-4.5M12 3L2 12h3v8h6v-6h2v6h6v-8h3L12 3z"})]})},T=function(e){return Object(m.jsx)(O.a,Object(h.a)({component:M},e))},A=function(){return Object(m.jsxs)("svg",{height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#ffffff",children:[Object(m.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(m.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})]})},H=function(e){return Object(m.jsx)(O.a,Object(h.a)({component:A},e))},L=a(180),V=a(28),R=a(60),_=[{key:"Home",routes:[""],icon:Object(m.jsx)(T,{}),title:"\u9996\u9801",accessRoles:[]},{key:"Dashboard",routes:["Dashboard"],icon:Object(m.jsx)(P,{}),title:"\u5100\u8868\u677f",accessRoles:[]},{key:"Basic",routes:["Basic"],icon:Object(m.jsx)(B,{}),title:"\u57fa\u672c\u8cc7\u6599",accessRoles:[],children:[{key:"Supplier",routes:["Basic","Supplier"],title:"\u5ee0\u5546",accessRoles:[]},{key:"Customer",routes:["Basic","Customer"],title:"\u5ba2\u6236",accessRoles:[]},{key:"Employee",routes:["Basic","Employee"],title:"\u54e1\u5de5",accessRoles:[]}]}],Y=function(e){var t=Object(n.useState)([]),a=Object(L.a)(t,2),r=a[0],c=a[1];Object(n.useEffect)((function(){void 0!==e.match.params.page?c([e.match.params.page]):void 0!==e.match.params.type?c([e.match.params.type]):c(["Home"])}),[e.match.params.type,e.match.params.page]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{className:"layout-sider-logo",children:Object(m.jsxs)(i.b,{to:"/",children:[Object(m.jsxs)("span",{className:"layout-sider-logo-f",children:["MOTOBUY",Object(m.jsx)("br",{}),"PSI"]}),Object(m.jsx)("span",{className:"layout-sider-logo-s",children:"M"})]})}),Object(m.jsx)(R.a,{className:"layout-sider-menu",selectedKeys:r,onClick:function(e){var t=e.item,a=Object(V.b)(),n=t.props.data.routes.map((function(e){return"/".concat(e)})).join("");a.push(n),c(""===t.props.data.routes[0]?["Home"]:t.props.data.routes)},children:_.map((function(e){return e.children&&e.children.length>0?Object(m.jsx)(R.a.SubMenu,{icon:e.icon,title:e.title,popupClassName:"layout-sider-popup",children:e.children.map((function(e){return Object(m.jsx)(R.a.Item,{data:e,children:e.title},e.key)}))},e.key):Object(m.jsx)(R.a.Item,{icon:e.icon,data:e,children:e.title},e.key)}))})]})},K=a(300),U=a(43),W=function(e){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"layout-header-left",children:Object(m.jsx)(K.a.Search,{placeholder:"\u5168\u57df\u641c\u5c0b",enterButton:!0})}),Object(m.jsxs)("div",{className:"layout-header-right",children:[Object(m.jsx)(U.a,{children:Object(m.jsx)(D,{})}),Object(m.jsx)(U.a,{children:Object(m.jsx)(F,{})}),Object(m.jsx)(U.a,{className:"layout-header-account",children:Object(m.jsx)(N,{})})]})]})},J=function(e){return"Dashboard"},G=a(70),Q=a(303),X=a(77),Z=a(301),$=a(100),ee=a(55),te=a(108),ae=a(295),ne=a(109),re=a(168),ce=a.n(re),se=Object({NODE_ENV:"production",PUBLIC_URL:"/psi-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_HOST,ie=function(e,t,a){var n={url:se+t,method:e,timeout:6e4,headers:{}};return"get"===e&&a&&Object.keys(a).length>0?n.params=a:a&&Object.keys(a).length>0&&(n.data=a),new Promise((function(e,t){ce()(n).then((function(t){return e(t)})).catch((function(e){t(!1),console.log(e.response)}))}))},oe=function e(){Object(j.a)(this,e),this.getSupplierList=function(e){return ie("get","/vendor",e).then((function(e){return e.data}))},this.getSupplierData=function(e){return ie("get","/vendor/".concat(e)).then((function(e){return e.data}))}},le=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).history=Object(V.b)(),n.supplierAPI=new oe,n.getList=function(){var e=n.state,t=e.search,a=e.pagination,r={pageNum:a.current,pageSize:a.pageSize,queryByEnum:t.id,queryKeyWord:t.keyword};n.supplierAPI.getSupplierList(r).then((function(e){a.total=e.data.total,n.setState({loading:!1,list:e.data.list,pagination:a})})).catch((function(){return n.setState({loading:!1})}))},n.onSelectChange=function(e){var t=n.state.search;t.id=e,n.setState({search:t})},n.onInputChange=function(e){var t=n.state.search;t.keyword=e.target.value,n.setState({search:t})},n.handleSearch=function(){n.setState({loading:!0},(function(){return n.getList()}))},n.getColumns=function(){var e=Object(G.a)(n),t=n.state.pagination;return[{dataIndex:"vendorId",title:"\u57f7\u884c",width:50,render:function(t){return Object(m.jsxs)(Q.b,{className:"list-table-option",children:[Object(m.jsx)(X.a,{title:"\u7de8\u8f2f",children:Object(m.jsx)(U.a,{className:"list-table-option-edit",size:"small",onClick:e.onEdit.bind(e,t),children:Object(m.jsx)(y,{})})}),Object(m.jsx)(X.a,{title:"\u522a\u9664",children:Object(m.jsx)(U.a,{className:"list-table-option-delete",size:"small",onClick:e.handleDelete.bind(e,t),children:Object(m.jsx)(x,{})})})]})}},{title:"\u5e8f",width:30,align:"center",render:function(e,a,n){return(t.current-1)*t.pageSize+n+1}},{title:"\u5ee0\u5546\u4ee3\u865f",dataIndex:"vendorId"},{title:"\u5ee0\u5546\u7c21\u7a31",dataIndex:"shortName"},{title:"\u806f\u7d61\u4eba",dataIndex:"contactPerson"},{title:"\u5730\u5740",dataIndex:"address"},{title:"\u96fb\u8a711",dataIndex:"phone1"},{title:"\u50b3\u771f\u865f\u78bc",dataIndex:"faxNumber"},{title:"\u884c\u52d5\u96fb\u8a71",dataIndex:"cellPhone"}]},n.onEdit=function(e){n.history.push("/Basic/Supplier/".concat(e))},n.handleDelete=function(e){Z.a.confirm({title:"\u78ba\u5b9a\u8981\u522a\u9664\u6b64\u7b46\u8cc7\u6599\u55ce",icon:Object(m.jsx)(ne.a,{}),okText:"\u78ba\u8a8d",cancelText:"\u53d6\u6d88",onOk:function(){console.log("delete: "+e)}})},n.onPageChange=function(e,t){var a=n.state.pagination;a.current=e,a.pageSize=t,n.setState({loading:!0},(function(){return n.getList()}))},n.state={loading:!0,search:{id:"VENDOR_ID",keyword:""},list:[],pagination:{current:1,total:0,pageSize:10,position:["bottomLeft"]}},n.getList(),n}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"",style:{marginBottom:10},children:Object(m.jsxs)($.a,{type:"flex",justify:"space-between",children:[Object(m.jsx)(ee.a,{children:Object(m.jsx)(U.a,{type:"primary",icon:Object(m.jsx)(I,{}),onClick:function(){return e.history.push("/Basic/Supplier/Add")},className:"list-header-add",children:"\u65b0\u589e"})}),Object(m.jsx)(ee.a,{children:Object(m.jsxs)(Q.b,{children:[Object(m.jsxs)(te.a,{placeholder:"\u641c\u5c0b\u6b04\u4f4d",value:this.state.search.id,onChange:this.onSelectChange,children:[Object(m.jsx)(te.a.Option,{value:"VENDOR_ID",children:"\u5ee0\u5546\u4ee3\u865f"}),Object(m.jsx)(te.a.Option,{value:"NAME",children:"\u5ee0\u5546\u540d\u7a31"})]}),Object(m.jsx)(K.a,{placeholder:"\u641c\u5c0b\u5167\u5bb9",onChange:this.onInputChange}),Object(m.jsx)(U.a,{type:"primary",icon:Object(m.jsx)(C,{}),onClick:this.handleSearch,className:"list-header-search",children:"\u67e5\u8a62"})]})})]})}),Object(m.jsx)(ae.a,{className:"list-table-wrapper",rowKey:"vendorId",size:"small",columns:this.getColumns(),loading:this.state.loading,dataSource:this.state.list,pagination:Object(h.a)(Object(h.a)({},this.state.pagination),{},{showTotal:function(e,t){return"".concat(t[0]," - ").concat(t[1]," \u5171 ").concat(e," \u7b46")},showSizeChanger:!0,onChange:this.onPageChange})})]})}}]),a}(r.a.Component),he=a(178),je=a(302),de=a(173),ue=a(297),be=a(298),pe=function(e){var t=e.required,a=e.align,n=void 0===a?"center":a,r=e.title,c=e.content,s=e.message,i=e.error;return Object(m.jsxs)("div",{style:{display:"flex",alignItems:n},children:[Object(m.jsxs)("div",{style:{marginRight:8,width:80,textAlign:"right"},children:[t&&Object(m.jsx)(be.a.Text,{type:"danger",style:{marginRight:5},children:"*"}),Object(m.jsx)(be.a.Text,{children:r})]}),Object(m.jsxs)("div",{style:{width:"calc(100% - 80px)",position:"relative"},children:[c,i&&Object(m.jsx)("span",{style:{color:"red",position:"absolute",width:"100%",left:0,top:"100%",fontSize:"12px"},children:s})]})]})},Oe=a(131),me=a(58),ge={vendorId:"",name:"",shortName:"",principal:"",contactPerson:"",postCode:"",address:"",phone1:"",phone2:"",faxNumber:"",cellPhone:"",note1:"",note2:""},xe=[{key:"vendorId",required:!0,length:[0,10]},{key:"name",required:!0,length:[0,30]},{key:"shortName",length:[2,10]},{key:"principal",length:[2,10]},{key:"contactPerson",length:[2,10]},{key:"address",required:!0,length:[0,100]},{key:"phone1",required:!0,length:[10]},{key:"phone2",length:[10]},{key:"faxNumber",length:[10]},{key:"cellPhone",length:[10]},{key:"note1",length:[255]},{key:"note2",length:[255]}],fe=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).history=Object(V.b)(),n.supplierAPI=new oe,n.getSupplierData=function(){n.supplierAPI.getSupplierData(n.props.vendorId).then((function(e){0===e.code?n.setState({loading:!1,formData:e.data},(function(){return n.checkCanSubmit()})):(he.b.error(e.message),n.history.push("/Basic/Supplier"))})).catch((function(){he.b.error("Error!"),n.history.push("/Basic/Supplier")}))},n.getFormErrorStatus=function(e){var t=n.state.formStatus.find((function(t){return t.key===e}));return!!t&&t.error},n.onInputChange=function(e){var t=e.target.getAttribute("id"),a=e.target.value,r=n.state.formData;r[t]=a,n.checkData(r,t)},n.checkData=function(e,t){var a=n.state.formStatus,r=a.find((function(e){return e.key===t}));if(r){var c=e[t],s=!1;r.required&&!c&&(s=!0),r.length&&r.length.length>0&&c&&(1===r.length.length&&c.length>r.length[0]||c.length<r.length[0]||c.length>r.length[1])&&(s=!0),r.regExp&&!r.regExp.test(c)&&(s=!0),r.error=s}n.setState({formData:e,formStatus:a},(function(){return n.checkCanSubmit()}))},n.checkCanSubmit=function(){n.setState({canSubmit:!n.state.formStatus.some((function(e){return e.error}))})},n.handleCreate=function(){n.setState({loading:!0},(function(){setTimeout((function(){he.b.success("\u6210\u529f\u65b0\u589e\u8cc7\u6599"),n.history.push("/Basic/Supplier")}),1e3)}))},n.handleSubmit=function(){n.setState({loading:!0},(function(){setTimeout((function(){he.b.success("\u6210\u529f\u66f4\u65b0\u8cc7\u6599"),n.history.push("/Basic/Supplier")}),1e3)}))},n.handleCancel=function(){Z.a.confirm({title:"\u8b8a\u66f4\u5c1a\u672a\u5132\u5b58\uff0c\u78ba\u5b9a\u8981\u96e2\u958b\u55ce",icon:Object(m.jsx)(ne.a,{}),okText:"\u78ba\u8a8d",cancelText:"\u53d6\u6d88",onOk:function(){n.history.push("/Basic/Supplier")}})},n.state={loading:!e.createFlag,formData:Object(h.a)({},ge),formStatus:xe,canSubmit:!1},e.createFlag||n.getSupplierData(),n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this;!e.createFlag&&this.props.createFlag?this.setState({formData:Object(h.a)({},ge)}):this.props.createFlag||e.vendorId===this.props.vendorId||this.setState({loading:!0,formData:Object(h.a)({},ge)},(function(){return t.getSupplierData()}))}},{key:"render",value:function(){var e={gutter:[24,24],type:"flex",align:"middle",style:{marginBottom:24,marginTop:24}},t={xs:24,sm:24,md:24,lg:8};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(je.a,{style:{marginBottom:10},children:[Object(m.jsx)(je.a.Item,{children:Object(m.jsx)(i.b,{to:"/Basic/Supplier",children:"\u5ee0\u5546"})}),Object(m.jsx)(je.a.Item,{children:this.props.createFlag?"\u65b0\u589e\u5ee0\u5546":"\u4fee\u6539\u5ee0\u5546\u8cc7\u6599"})]}),Object(m.jsxs)(de.a,{spinning:this.state.loading,children:[Object(m.jsx)(ue.a,{className:"form-detail-card",children:Object(m.jsxs)($.a,Object(h.a)(Object(h.a)({},e),{},{children:[Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!0,title:"\u5ee0\u5546\u4ee3\u865f",content:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.vendorId,id:"vendorId",disabled:!this.props.createFlag}),message:"\u8acb\u8f38\u5165\u5ee0\u5546\u4ee3\u865f",error:this.getFormErrorStatus("vendorId")})})),Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!0,title:"\u5ee0\u5546\u540d\u7a31",content:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.name,id:"name"}),message:"\u8acb\u8f38\u5165\u5ee0\u5546\u540d\u7a31",error:this.getFormErrorStatus("name")})})),Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!1,title:"\u5ee0\u5546\u7c21\u7a31",content:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.shortName,id:"shortName"}),message:"\u9577\u5ea6\u9700\u57282~10\u5b57",error:this.getFormErrorStatus("shortName")})})),Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!1,title:"\u8ca0\u8cac\u4eba",content:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.principal,id:"principal"}),message:"\u9577\u5ea6\u9700\u57282~10\u5b57",error:this.getFormErrorStatus("principal")})})),Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!1,title:"\u806f\u7d61\u4eba",content:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.contactPerson,id:"contactPerson"}),message:"\u9577\u5ea6\u9700\u57282~10\u5b57",error:this.getFormErrorStatus("contactPerson")})})),Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!1,title:"\u50b3\u771f\u865f\u78bc",content:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.faxNumber,id:"faxNumber"}),message:"\u9577\u5ea6\u9700\u572810\u5b57\u4ee5\u5167",error:this.getFormErrorStatus("faxNumber")})})),Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!1,title:"\u96fb\u8a711",content:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.phone1,id:"phone1"}),message:"\u8acb\u8f38\u5165\u96fb\u8a711",error:this.getFormErrorStatus("phone1")})})),Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!1,title:"\u96fb\u8a712",content:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.phone2,id:"phone2"}),message:"\u9577\u5ea6\u9700\u572810\u5b57\u4ee5\u5167",error:this.getFormErrorStatus("phone2")})})),Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!1,title:"\u884c\u52d5\u96fb\u8a71",content:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.cellPhone,id:"cellPhone"}),message:"\u9577\u5ea6\u9700\u572810\u5b57\u4ee5\u5167",error:this.getFormErrorStatus("cellPhone")})}))]}))}),Object(m.jsx)(ue.a,{className:"form-detail-card",children:Object(m.jsx)($.a,Object(h.a)(Object(h.a)({},e),{},{children:Object(m.jsx)(ee.a,{span:24,children:Object(m.jsx)(pe,{required:!1,title:"\u5730\u5740",content:Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)($.a,{type:"flex",gutter:[10],children:[Object(m.jsx)(ee.a,{style:{width:120},children:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.postCode,id:"postCode",placeholder:"\u90f5\u905e\u5340\u865f"})}),Object(m.jsx)(ee.a,{style:{width:"calc(100% - 120px)"},children:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.address,id:"address",placeholder:"\u5730\u5740"})})]})}),message:"\u9577\u5ea6\u9700\u5728255\u5b57\u4ee5\u5167",error:this.getFormErrorStatus("address")})})}))}),Object(m.jsx)(ue.a,{className:"form-detail-card",children:Object(m.jsxs)($.a,Object(h.a)(Object(h.a)({},e),{},{align:"top",children:[Object(m.jsx)(ee.a,{span:24,children:Object(m.jsx)(pe,{required:!1,align:"flex-start",title:"\u5099\u8a3b1",content:Object(m.jsx)(K.a.TextArea,{onChange:this.onInputChange,value:this.state.formData.note1,id:"note1",autoSize:{minRows:4,maxRows:4}}),message:"\u9577\u5ea6\u9700\u5728255\u5b57\u4ee5\u5167",error:this.getFormErrorStatus("note1")})}),Object(m.jsx)(ee.a,{span:24,children:Object(m.jsx)(pe,{required:!1,align:"flex-start",title:"\u5099\u8a3b2",content:Object(m.jsx)(K.a.TextArea,{onChange:this.onInputChange,value:this.state.formData.note2,id:"note2",autoSize:{minRows:4,maxRows:4}}),message:"\u9577\u5ea6\u9700\u5728255\u5b57\u4ee5\u5167",error:this.getFormErrorStatus("note2")})})]}))}),Object(m.jsx)("div",{style:{margin:"20px",textAlign:"center"},children:Object(m.jsxs)(Q.b,{children:[this.props.createFlag?Object(m.jsx)(U.a,{type:"primary",icon:Object(m.jsx)(Oe.a,{}),onClick:this.handleCreate,children:"\u65b0\u589e"}):Object(m.jsx)(U.a,{type:"primary",icon:Object(m.jsx)(Oe.a,{}),onClick:this.handleSubmit,children:"\u5132\u5b58"}),Object(m.jsx)(U.a,{danger:!0,icon:Object(m.jsx)(me.a,{}),onClick:this.handleCancel,children:"\u53d6\u6d88"})]})})]})]})}}]),a}(r.a.Component),ye=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(m.jsx)(fe,{createFlag:this.props.createFlag,vendorId:this.props.match.params.vendorId})}}]),a}(r.a.Component),ve=function e(){Object(j.a)(this,e),this.getCustomerList=function(e){return ie("get","/customers",e).then((function(e){return e.data}))},this.getCustomerData=function(e){return ie("get","/customers/".concat(e)).then((function(e){return e.data}))}},Ce=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).history=Object(V.b)(),n.customerAPI=new ve,n.getList=function(){var e=n.state,t=e.search,a=e.pagination,r={pageNum:a.current,pageSize:a.pageSize,queryByEnum:t.id,queryKeyWord:t.keyword};n.customerAPI.getCustomerList(r).then((function(e){a.total=e.data.total,n.setState({loading:!1,list:e.data.list,pagination:a})})).catch((function(){return n.setState({loading:!1})}))},n.onSelectChange=function(e){var t=n.state.search;t.id=e,n.setState({search:t})},n.onInputChange=function(e){var t=n.state.search;t.keyword=e.target.value,n.setState({search:t})},n.handleSearch=function(){n.setState({loading:!0},(function(){return n.getList()}))},n.getColumns=function(){var e=Object(G.a)(n),t=n.state.pagination;return[{dataIndex:"customerId",title:"\u57f7\u884c",width:50,render:function(t){return Object(m.jsxs)(Q.b,{className:"list-table-option",children:[Object(m.jsx)(X.a,{title:"\u7de8\u8f2f",children:Object(m.jsx)(U.a,{className:"list-table-option-edit",size:"small",onClick:e.onEdit.bind(e,t),children:Object(m.jsx)(y,{})})}),Object(m.jsx)(X.a,{title:"\u522a\u9664",children:Object(m.jsx)(U.a,{className:"list-table-option-delete",size:"small",onClick:e.handleDelete.bind(e,t),children:Object(m.jsx)(x,{})})})]})}},{title:"\u5e8f",width:30,align:"center",render:function(e,a,n){return(t.current-1)*t.pageSize+n+1}},{title:"\u5ba2\u6236\u4ee3\u865f",dataIndex:"customerId"},{title:"\u5ba2\u6236\u7c21\u7a31",dataIndex:"shortName"},{title:"\u806f\u7d61\u4eba",dataIndex:"contactPerson"},{title:"\u5730\u5740",dataIndex:"address"},{title:"\u96fb\u8a711",dataIndex:"phone1"},{title:"\u50b3\u771f\u865f\u78bc",dataIndex:"faxNumber"},{title:"\u884c\u52d5\u96fb\u8a71",dataIndex:"cellPhone"}]},n.onEdit=function(e){n.history.push("/Basic/Customer/".concat(e))},n.handleDelete=function(e){Z.a.confirm({title:"\u78ba\u5b9a\u8981\u522a\u9664\u6b64\u7b46\u8cc7\u6599\u55ce",icon:Object(m.jsx)(ne.a,{}),okText:"\u78ba\u8a8d",cancelText:"\u53d6\u6d88",onOk:function(){console.log("delete: "+e)}})},n.onPageChange=function(e,t){var a=n.state.pagination;a.current=e,a.pageSize=t,n.setState({loading:!0},(function(){return n.getList()}))},n.state={loading:!0,search:{id:"CUSTOMER_ID",keyword:""},list:[],pagination:{current:1,total:0,pageSize:10,position:["bottomLeft"]}},n.getList(),n}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"",style:{marginBottom:10},children:Object(m.jsxs)($.a,{type:"flex",justify:"space-between",children:[Object(m.jsx)(ee.a,{children:Object(m.jsx)(U.a,{type:"primary",icon:Object(m.jsx)(I,{}),onClick:function(){return e.history.push("/Basic/Customer/Add")},className:"list-header-add",children:"\u65b0\u589e"})}),Object(m.jsx)(ee.a,{children:Object(m.jsxs)(Q.b,{children:[Object(m.jsxs)(te.a,{placeholder:"\u641c\u5c0b\u6b04\u4f4d",value:this.state.search.id,onChange:this.onSelectChange,children:[Object(m.jsx)(te.a.Option,{value:"CUSTOMER_ID",children:"\u5ba2\u6236\u4ee3\u865f"}),Object(m.jsx)(te.a.Option,{value:"NAME",children:"\u5ba2\u6236\u540d\u7a31"})]}),Object(m.jsx)(K.a,{placeholder:"\u641c\u5c0b\u5167\u5bb9",onChange:this.onInputChange}),Object(m.jsx)(U.a,{type:"primary",icon:Object(m.jsx)(C,{}),onClick:this.handleSearch,className:"list-header-search",children:"\u67e5\u8a62"})]})})]})}),Object(m.jsx)(ae.a,{className:"list-table-wrapper",rowKey:"customerId",size:"small",columns:this.getColumns(),loading:this.state.loading,dataSource:this.state.list,pagination:Object(h.a)(Object(h.a)({},this.state.pagination),{},{showTotal:function(e,t){return"".concat(t[0]," - ").concat(t[1]," \u5171 ").concat(e," \u7b46")},showSizeChanger:!0,onChange:this.onPageChange})})]})}}]),a}(r.a.Component),Se={customerId:"",name:"",shortName:"",principal:"",contactPerson:"",postCode:"",address:"",phone1:"",phone2:"",faxNumber:"",cellPhone:"",note1:"",note2:""},Ie=[{key:"customerId",required:!0,length:[0,10]},{key:"name",required:!0,length:[0,30]},{key:"shortName",length:[2,10]},{key:"principal",length:[2,10]},{key:"contactPerson",length:[2,10]},{key:"address",required:!0,length:[0,100]},{key:"phone1",required:!0,length:[10]},{key:"phone2",length:[10]},{key:"faxNumber",length:[10]},{key:"cellPhone",length:[10]},{key:"note1",length:[255]},{key:"note2",length:[255]}],ke=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).history=Object(V.b)(),n.customerAPI=new ve,n.getCustomerData=function(){n.customerAPI.getCustomerData(n.props.customerId).then((function(e){0===e.code?n.setState({loading:!1,formData:e.data},(function(){return n.checkCanSubmit()})):(he.b.error(e.message),n.history.push("/Basic/Customer"))})).catch((function(){he.b.error("Error!"),n.history.push("/Basic/Customer")}))},n.getFormErrorStatus=function(e){var t=n.state.formStatus.find((function(t){return t.key===e}));return!!t&&t.error},n.onInputChange=function(e){var t=e.target.getAttribute("id"),a=e.target.value,r=n.state.formData;r[t]=a,n.checkData(r,t)},n.checkData=function(e,t){var a=n.state.formStatus,r=a.find((function(e){return e.key===t}));if(r){var c=e[t],s=!1;r.required&&!c&&(s=!0),r.length&&r.length.length>0&&c&&(1===r.length.length&&c.length>r.length[0]||c.length<r.length[0]||c.length>r.length[1])&&(s=!0),r.regExp&&!r.regExp.test(c)&&(s=!0),r.error=s}n.setState({formData:e,formStatus:a},(function(){return n.checkCanSubmit()}))},n.checkCanSubmit=function(){n.setState({canSubmit:!n.state.formStatus.some((function(e){return e.error}))})},n.handleCreate=function(){n.setState({loading:!0},(function(){setTimeout((function(){he.b.success("\u6210\u529f\u65b0\u589e\u8cc7\u6599"),n.history.push("/Basic/Customer")}),1e3)}))},n.handleSubmit=function(){n.setState({loading:!0},(function(){setTimeout((function(){he.b.success("\u6210\u529f\u66f4\u65b0\u8cc7\u6599"),n.history.push("/Basic/Customer")}),1e3)}))},n.handleCancel=function(){Z.a.confirm({title:"\u8b8a\u66f4\u5c1a\u672a\u5132\u5b58\uff0c\u78ba\u5b9a\u8981\u96e2\u958b\u55ce",icon:Object(m.jsx)(ne.a,{}),okText:"\u78ba\u8a8d",cancelText:"\u53d6\u6d88",onOk:function(){n.history.push("/Basic/Customer")}})},n.state={loading:!e.createFlag,formData:Object(h.a)({},Se),formStatus:Ie,canSubmit:!1},e.createFlag||n.getCustomerData(),n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this;!e.createFlag&&this.props.createFlag?this.setState({formData:Object(h.a)({},Se)}):this.props.createFlag||e.customerId===this.props.customerId||this.setState({loading:!0,formData:Object(h.a)({},Se)},(function(){return t.getCustomerData()}))}},{key:"render",value:function(){var e={gutter:[24,24],type:"flex",align:"middle",style:{marginBottom:24,marginTop:24}},t={xs:24,sm:24,md:24,lg:8};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(je.a,{style:{marginBottom:10},children:[Object(m.jsx)(je.a.Item,{children:Object(m.jsx)(i.b,{to:"/Basic/Customer",children:"\u5ba2\u6236"})}),Object(m.jsx)(je.a.Item,{children:this.props.createFlag?"\u65b0\u589e\u5ba2\u6236":"\u4fee\u6539\u5ba2\u6236\u8cc7\u6599"})]}),Object(m.jsxs)(de.a,{spinning:this.state.loading,children:[Object(m.jsx)(ue.a,{className:"form-detail-card",children:Object(m.jsxs)($.a,Object(h.a)(Object(h.a)({},e),{},{children:[Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!0,title:"\u5ba2\u6236\u4ee3\u865f",content:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.customerId,id:"customerId",disabled:!this.props.createFlag}),message:"\u8acb\u8f38\u5165\u5ba2\u6236\u4ee3\u865f",error:this.getFormErrorStatus("customerId")})})),Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!0,title:"\u5ba2\u6236\u540d\u7a31",content:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.name,id:"name"}),message:"\u8acb\u8f38\u5165\u5ba2\u6236\u540d\u7a31",error:this.getFormErrorStatus("name")})})),Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!1,title:"\u5ba2\u6236\u7c21\u7a31",content:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.shortName,id:"shortName"}),message:"\u9577\u5ea6\u9700\u57282~10\u5b57",error:this.getFormErrorStatus("shortName")})})),Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!1,title:"\u8ca0\u8cac\u4eba",content:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.principal,id:"principal"}),message:"\u9577\u5ea6\u9700\u57282~10\u5b57",error:this.getFormErrorStatus("principal")})})),Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!1,title:"\u806f\u7d61\u4eba",content:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.contactPerson,id:"contactPerson"}),message:"\u9577\u5ea6\u9700\u57282~10\u5b57",error:this.getFormErrorStatus("contactPerson")})})),Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!1,title:"\u50b3\u771f\u865f\u78bc",content:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.faxNumber,id:"faxNumber"}),message:"\u9577\u5ea6\u9700\u572810\u5b57\u4ee5\u5167",error:this.getFormErrorStatus("faxNumber")})})),Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!1,title:"\u96fb\u8a711",content:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.phone1,id:"phone1"}),message:"\u8acb\u8f38\u5165\u96fb\u8a711",error:this.getFormErrorStatus("phone1")})})),Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!1,title:"\u96fb\u8a712",content:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.phone2,id:"phone2"}),message:"\u9577\u5ea6\u9700\u572810\u5b57\u4ee5\u5167",error:this.getFormErrorStatus("phone2")})})),Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!1,title:"\u884c\u52d5\u96fb\u8a71",content:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.cellPhone,id:"cellPhone"}),message:"\u9577\u5ea6\u9700\u572810\u5b57\u4ee5\u5167",error:this.getFormErrorStatus("cellPhone")})}))]}))}),Object(m.jsx)(ue.a,{className:"form-detail-card",children:Object(m.jsx)($.a,Object(h.a)(Object(h.a)({},e),{},{children:Object(m.jsx)(ee.a,{span:24,children:Object(m.jsx)(pe,{required:!1,title:"\u5730\u5740",content:Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)($.a,{type:"flex",gutter:[10],children:[Object(m.jsx)(ee.a,{style:{width:120},children:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.postCode,id:"postCode",placeholder:"\u90f5\u905e\u5340\u865f"})}),Object(m.jsx)(ee.a,{style:{width:"calc(100% - 120px)"},children:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.address,id:"address",placeholder:"\u5730\u5740"})})]})}),message:"\u9577\u5ea6\u9700\u5728255\u5b57\u4ee5\u5167",error:this.getFormErrorStatus("address")})})}))}),Object(m.jsxs)(ue.a,{className:"form-detail-card",children:[Object(m.jsx)($.a,Object(h.a)(Object(h.a)({},e),{},{align:"top",children:Object(m.jsx)(ee.a,{span:24,children:Object(m.jsx)(pe,{required:!1,align:"flex-start",title:"\u5099\u8a3b1",content:Object(m.jsx)(K.a.TextArea,{onChange:this.onInputChange,value:this.state.formData.note1,id:"note1",autoSize:{minRows:4,maxRows:4}}),message:"\u9577\u5ea6\u9700\u5728255\u5b57\u4ee5\u5167",error:this.getFormErrorStatus("note1")})})})),Object(m.jsx)($.a,Object(h.a)(Object(h.a)({},e),{},{children:Object(m.jsx)(ee.a,{span:24,children:Object(m.jsx)(pe,{required:!1,align:"flex-start",title:"\u5099\u8a3b2",content:Object(m.jsx)(K.a.TextArea,{onChange:this.onInputChange,value:this.state.formData.note2,id:"note2",autoSize:{minRows:4,maxRows:4}}),message:"\u9577\u5ea6\u9700\u5728255\u5b57\u4ee5\u5167",error:this.getFormErrorStatus("note2")})})}))]}),Object(m.jsx)("div",{style:{margin:"20px",textAlign:"center"},children:Object(m.jsxs)(Q.b,{children:[this.props.createFlag?Object(m.jsx)(U.a,{type:"primary",icon:Object(m.jsx)(Oe.a,{}),onClick:this.handleCreate,children:"\u65b0\u589e"}):Object(m.jsx)(U.a,{type:"primary",icon:Object(m.jsx)(Oe.a,{}),onClick:this.handleSubmit,children:"\u5132\u5b58"}),Object(m.jsx)(U.a,{danger:!0,icon:Object(m.jsx)(me.a,{}),onClick:this.handleCancel,children:"\u53d6\u6d88"})]})})]})]})}}]),a}(r.a.Component),De=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(m.jsx)(ke,{createFlag:this.props.createFlag,customerId:this.props.match.params.customerId})}}]),a}(r.a.Component),Ee=function e(){Object(j.a)(this,e),this.getEmployeeList=function(e){return ie("get","/employees",e).then((function(e){return e.data}))},this.getEmployeeData=function(e){return ie("get","/employees/".concat(e)).then((function(e){return e.data}))}},Fe=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).history=Object(V.b)(),n.employeeAPI=new Ee,n.getList=function(){var e=n.state,t=e.search,a=e.pagination,r={pageNum:a.current,pageSize:a.pageSize,queryByEnum:t.id,queryKeyWord:t.keyword};n.employeeAPI.getEmployeeList(r).then((function(e){a.total=e.data.total,n.setState({loading:!1,list:e.data.list,pagination:a})})).catch((function(){return n.setState({loading:!1})}))},n.onSelectChange=function(e){var t=n.state.search;t.id=e,n.setState({search:t})},n.onInputChange=function(e){var t=n.state.search;t.keyword=e.target.value,n.setState({search:t})},n.handleSearch=function(){n.setState({loading:!0},(function(){return n.getList()}))},n.getColumns=function(){var e=Object(G.a)(n),t=n.state.pagination;return[{dataIndex:"employeeId",title:"\u57f7\u884c",width:50,render:function(t){return Object(m.jsxs)(Q.b,{className:"list-table-option",children:[Object(m.jsx)(X.a,{title:"\u7de8\u8f2f",children:Object(m.jsx)(U.a,{className:"list-table-option-edit",size:"small",onClick:e.onEdit.bind(e,t),children:Object(m.jsx)(y,{})})}),Object(m.jsx)(X.a,{title:"\u522a\u9664",children:Object(m.jsx)(U.a,{className:"list-table-option-delete",size:"small",onClick:e.handleDelete.bind(e,t),children:Object(m.jsx)(x,{})})})]})}},{title:"\u5e8f",width:30,align:"center",render:function(e,a,n){return(t.current-1)*t.pageSize+n+1}},{title:"\u54e1\u5de5\u7de8\u865f",dataIndex:"employeeId"},{title:"\u59d3\u540d",dataIndex:"name"},{title:"\u624b\u6a5f\u865f\u78bc",dataIndex:"cellPhone"},{title:"\u5e02\u5167\u96fb\u8a71",dataIndex:"phone"}]},n.onEdit=function(e){n.history.push("/Basic/Employee/".concat(e))},n.handleDelete=function(e){Z.a.confirm({title:"\u78ba\u5b9a\u8981\u522a\u9664\u6b64\u7b46\u8cc7\u6599\u55ce",icon:Object(m.jsx)(ne.a,{}),okText:"\u78ba\u8a8d",cancelText:"\u53d6\u6d88",onOk:function(){console.log("delete: "+e)}})},n.onPageChange=function(e,t){var a=n.state.pagination;a.current=e,a.pageSize=t,n.setState({loading:!0},(function(){return n.getList()}))},n.state={loading:!0,search:{id:"EMPLOYEE_ID",keyword:""},list:[],pagination:{current:1,total:0,pageSize:10,position:["bottomLeft"]}},n.getList(),n}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"",style:{marginBottom:10},children:Object(m.jsxs)($.a,{type:"flex",justify:"space-between",children:[Object(m.jsx)(ee.a,{children:Object(m.jsx)(U.a,{type:"primary",icon:Object(m.jsx)(I,{}),onClick:function(){return e.history.push("/Basic/Employee/Add")},className:"list-header-add",children:"\u65b0\u589e"})}),Object(m.jsx)(ee.a,{children:Object(m.jsxs)(Q.b,{children:[Object(m.jsxs)(te.a,{placeholder:"\u641c\u5c0b\u6b04\u4f4d",value:this.state.search.id,onChange:this.onSelectChange,children:[Object(m.jsx)(te.a.Option,{value:"EMPLOYEE_ID",children:"\u54e1\u5de5\u7de8\u865f"}),Object(m.jsx)(te.a.Option,{value:"NAME",children:"\u59d3\u540d"})]}),Object(m.jsx)(K.a,{placeholder:"\u641c\u5c0b\u5167\u5bb9",onChange:this.onInputChange}),Object(m.jsx)(U.a,{type:"primary",icon:Object(m.jsx)(C,{}),onClick:this.handleSearch,className:"list-header-search",children:"\u67e5\u8a62"})]})})]})}),Object(m.jsx)(ae.a,{className:"list-table-wrapper",rowKey:"employeeId",size:"small",columns:this.getColumns(),loading:this.state.loading,dataSource:this.state.list,pagination:Object(h.a)(Object(h.a)({},this.state.pagination),{},{showTotal:function(e,t){return"".concat(t[0]," - ").concat(t[1]," \u5171 ").concat(e," \u7b46")},showSizeChanger:!0,onChange:this.onPageChange})})]})}}]),a}(r.a.Component),we=a(296),Ne=a(299),ze=a(52),Be=a.n(ze),qe={employeeId:"",identityCardNumber:"",name:"",birthday:null,address:"",cellPhone:"",phone:"",takeOfficeDay:null,education:"",experience:"",note:"",salary:null,extraBonus:null,fullAttendanceBonus:null},Pe=[{key:"employeeId",required:!0,length:[10]},{key:"identityCardNumber",required:!0,length:[10]},{key:"name",required:!0,length:[0,30]},{key:"address",required:!0,length:[0,100]},{key:"cellPhone",required:!0,length:[10]},{key:"phone",length:[10]},{key:"education",length:[10]},{key:"experience",length:[10]},{key:"note",length:[255]}],Me=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).history=Object(V.b)(),n.employeeAPI=new Ee,n.getEmployeeData=function(){n.employeeAPI.getEmployeeData(n.props.employeeId).then((function(e){0===e.code?n.setState({loading:!1,formData:e.data},(function(){return n.checkCanSubmit()})):(he.b.error(e.message),n.history.push("/Basic/Employee"))})).catch((function(){he.b.error("Error!"),n.history.push("/Basic/Employee")}))},n.getFormErrorStatus=function(e){var t=n.state.formStatus.find((function(t){return t.key===e}));return!!t&&t.error},n.onInputChange=function(e){var t=e.target.getAttribute("id"),a=e.target.value,r=n.state.formData;r[t]=a,n.checkData(r,t)},n.onDateChange=function(e,t){var a=n.state.formData;a[e]=Be()(t).valueOf(),n.checkData(a,e)},n.onNumberChange=function(e,t){var a=n.state.formData;a[e]=t,n.checkData(a,e)},n.checkData=function(e,t){var a=n.state.formStatus,r=a.find((function(e){return e.key===t}));if(r){var c=e[t],s=!1;r.required&&!c&&(s=!0),r.length&&r.length.length>0&&c&&(1===r.length.length&&c.length>r.length[0]||c.length<r.length[0]||c.length>r.length[1])&&(s=!0),r.regExp&&!r.regExp.test(c)&&(s=!0),r.error=s}n.setState({formData:e,formStatus:a},(function(){return n.checkCanSubmit()}))},n.checkCanSubmit=function(){n.setState({canSubmit:!n.state.formStatus.some((function(e){return e.error}))})},n.handleCreate=function(){n.setState({loading:!0},(function(){setTimeout((function(){he.b.success("\u6210\u529f\u65b0\u589e\u8cc7\u6599"),n.history.push("/Basic/Employee")}),1e3)}))},n.handleSubmit=function(){n.setState({loading:!0},(function(){setTimeout((function(){he.b.success("\u6210\u529f\u66f4\u65b0\u8cc7\u6599"),n.history.push("/Basic/Employee")}),1e3)}))},n.handleCancel=function(){Z.a.confirm({title:"\u8b8a\u66f4\u5c1a\u672a\u5132\u5b58\uff0c\u78ba\u5b9a\u8981\u96e2\u958b\u55ce",icon:Object(m.jsx)(ne.a,{}),okText:"\u78ba\u8a8d",cancelText:"\u53d6\u6d88",onOk:function(){n.history.push("/Basic/Employee")}})},n.state={loading:!e.createFlag,formData:Object(h.a)({},qe),formStatus:Pe,canSubmit:!1},e.createFlag||n.getEmployeeData(),n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this;!e.createFlag&&this.props.createFlag?this.setState({formData:Object(h.a)({},qe)}):this.props.createFlag||e.employeeId===this.props.employeeId||this.setState({loading:!0,formData:Object(h.a)({},qe)},(function(){return t.getEmployeeData()}))}},{key:"render",value:function(){var e={gutter:[24,24],type:"flex",align:"middle",style:{marginBottom:24,marginTop:24}},t={xs:24,sm:24,md:24,lg:8};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(je.a,{style:{marginBottom:10},children:[Object(m.jsx)(je.a.Item,{children:Object(m.jsx)(i.b,{to:"/Basic/Employee",children:"\u54e1\u5de5"})}),Object(m.jsx)(je.a.Item,{children:this.props.createFlag?"\u65b0\u589e\u54e1\u5de5":"\u4fee\u6539\u54e1\u5de5\u8cc7\u6599"})]}),Object(m.jsxs)(de.a,{spinning:this.state.loading,children:[Object(m.jsx)(ue.a,{className:"form-detail-card",children:Object(m.jsxs)($.a,Object(h.a)(Object(h.a)({},e),{},{children:[Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!0,title:"\u54e1\u5de5\u7de8\u865f",content:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.employeeId,id:"employeeId",disabled:!this.props.createFlag}),message:"\u8acb\u8f38\u5165\u54e1\u5de5\u7de8\u865f",error:this.getFormErrorStatus("employeeId")})})),Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!0,title:"\u8eab\u5206\u8b49\u865f",content:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.identityCardNumber,id:"identityCardNumber"}),message:"\u8acb\u8f38\u5165\u8eab\u5206\u8b49\u5b57\u865f",error:this.getFormErrorStatus("identityCardNumber")})})),Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!0,title:"\u59d3\u540d",content:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.name,id:"name"}),message:"\u8acb\u8f38\u5165\u59d3\u540d",error:this.getFormErrorStatus("name")})})),Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!1,title:"\u51fa\u751f\u5e74\u6708\u65e5",content:Object(m.jsx)(we.a,{onChange:this.onDateChange.bind(this,"birthday"),value:this.state.formData.birthday?Be()(this.state.formData.birthday):void 0,format:"YYYY-MM-DD",placeholder:"",style:{display:"block"}})})})),Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!1,title:"\u624b\u6a5f\u865f\u78bc",content:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.cellPhone,id:"cellPhone"}),message:"\u9577\u5ea6\u9700\u572810\u5b57\u4ee5\u5167",error:this.getFormErrorStatus("cellPhone")})})),Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!1,title:"\u5e02\u5167\u96fb\u8a71",content:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.phone,id:"phone"}),message:"\u9577\u5ea6\u9700\u572810\u5b57\u4ee5\u5167",error:this.getFormErrorStatus("phone")})})),Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!1,title:"\u5c31\u8077\u65e5\u671f",content:Object(m.jsx)(we.a,{onChange:this.onDateChange.bind(this,"takeOfficeDay"),value:this.state.formData.takeOfficeDay?Be()(this.state.formData.takeOfficeDay):void 0,format:"YYYY-MM-DD",placeholder:"",style:{display:"block"}})})})),Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!1,title:"\u5b78\u6b77",content:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.education,id:"education"}),message:"\u9577\u5ea6\u9700\u572810\u5b57\u4ee5\u5167",error:this.getFormErrorStatus("education")})})),Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!1,title:"\u85aa\u8cc7",content:Object(m.jsx)(Ne.a,{onChange:this.onNumberChange.bind(this,"salary"),value:this.state.formData.salary,min:0,max:999999,step:1,style:{display:"block",width:"100%"}})})})),Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!1,title:"\u8077\u52d9\u6d25\u8cbc",content:Object(m.jsx)(Ne.a,{onChange:this.onNumberChange.bind(this,"extraBonus"),value:this.state.formData.extraBonus,min:0,max:999999,step:1,style:{display:"block",width:"100%"}})})})),Object(m.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(m.jsx)(pe,{required:!1,title:"\u5168\u52e4\u6d25\u8cbc",content:Object(m.jsx)(Ne.a,{onChange:this.onNumberChange.bind(this,"fullAttendanceBonus"),value:this.state.formData.fullAttendanceBonus,min:0,max:999999,step:1,style:{display:"block",width:"100%"}})})}))]}))}),Object(m.jsx)(ue.a,{className:"form-detail-card",children:Object(m.jsx)($.a,Object(h.a)(Object(h.a)({},e),{},{children:Object(m.jsx)(ee.a,{span:24,children:Object(m.jsx)(pe,{required:!1,title:"\u5730\u5740",content:Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)($.a,{type:"flex",gutter:[10],children:[Object(m.jsx)(ee.a,{style:{width:120},children:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.postCode,id:"postCode",placeholder:"\u90f5\u905e\u5340\u865f"})}),Object(m.jsx)(ee.a,{style:{width:"calc(100% - 120px)"},children:Object(m.jsx)(K.a,{onChange:this.onInputChange,value:this.state.formData.address,id:"address",placeholder:"\u5730\u5740"})})]})}),message:"\u9577\u5ea6\u9700\u5728255\u5b57\u4ee5\u5167",error:this.getFormErrorStatus("address")})})}))}),Object(m.jsxs)(ue.a,{className:"form-detail-card",children:[Object(m.jsx)($.a,Object(h.a)(Object(h.a)({},e),{},{align:"top",children:Object(m.jsx)(ee.a,{span:24,children:Object(m.jsx)(pe,{required:!1,align:"flex-start",title:"\u7d93\u6b77",content:Object(m.jsx)(K.a.TextArea,{onChange:this.onInputChange,value:this.state.formData.experience,id:"experience",autoSize:{minRows:4,maxRows:4}}),message:"\u9577\u5ea6\u9700\u5728255\u5b57\u4ee5\u5167",error:this.getFormErrorStatus("experience")})})})),Object(m.jsx)($.a,Object(h.a)(Object(h.a)({},e),{},{children:Object(m.jsx)(ee.a,{span:24,children:Object(m.jsx)(pe,{required:!1,align:"flex-start",title:"\u5099\u8a3b",content:Object(m.jsx)(K.a.TextArea,{onChange:this.onInputChange,value:this.state.formData.note,id:"note",autoSize:{minRows:4,maxRows:4}}),message:"\u9577\u5ea6\u9700\u5728255\u5b57\u4ee5\u5167",error:this.getFormErrorStatus("note")})})}))]}),Object(m.jsx)("div",{style:{margin:"20px",textAlign:"center"},children:Object(m.jsxs)(Q.b,{children:[this.props.createFlag?Object(m.jsx)(U.a,{type:"primary",icon:Object(m.jsx)(Oe.a,{}),onClick:this.handleCreate,children:"\u65b0\u589e"}):Object(m.jsx)(U.a,{type:"primary",icon:Object(m.jsx)(Oe.a,{}),onClick:this.handleSubmit,children:"\u5132\u5b58"}),Object(m.jsx)(U.a,{danger:!0,icon:Object(m.jsx)(me.a,{}),onClick:this.handleCancel,children:"\u53d6\u6d88"})]})})]})]})}}]),a}(r.a.Component),Te=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(m.jsx)(Me,{createFlag:this.props.createFlag,employeeId:this.props.match.params.employeeId})}}]),a}(r.a.Component),Ae=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).state={siderCollapsed:!1},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(m.jsxs)(p.a,{className:"layout-wrapper",children:[Object(m.jsx)(p.a.Sider,{collapsible:!0,collapsed:this.state.siderCollapsed,onCollapse:function(t){return e.setState({siderCollapsed:t})},trigger:Object(m.jsx)(H,{}),className:"layout-sider-wrapper",children:Object(m.jsx)(o.a,{path:"/:type?/:page?",component:Y})}),Object(m.jsxs)(p.a,{className:"layout-main",children:[Object(m.jsx)(p.a.Header,{className:"layout-header",children:Object(m.jsx)(W,{})}),Object(m.jsx)(p.a.Content,{className:"layout-content-wrapper",children:Object(m.jsxs)(o.c,{children:[Object(m.jsx)(o.a,{exact:!0,path:"/Basic/Supplier/Add",render:function(e){return Object(m.jsx)(ye,Object(h.a)(Object(h.a)({},e),{},{createFlag:!0}))}}),Object(m.jsx)(o.a,{exact:!0,path:"/Basic/Supplier/:vendorId",render:function(e){return Object(m.jsx)(ye,Object(h.a)(Object(h.a)({},e),{},{createFlag:!1}))}}),Object(m.jsx)(o.a,{exact:!0,path:"/Basic/Supplier",component:le}),Object(m.jsx)(o.a,{exact:!0,path:"/Basic/Customer/Add",render:function(e){return Object(m.jsx)(De,Object(h.a)(Object(h.a)({},e),{},{createFlag:!0}))}}),Object(m.jsx)(o.a,{exact:!0,path:"/Basic/Customer/:customerId",render:function(e){return Object(m.jsx)(De,Object(h.a)(Object(h.a)({},e),{},{createFlag:!1}))}}),Object(m.jsx)(o.a,{exact:!0,path:"/Basic/Customer",component:Ce}),Object(m.jsx)(o.a,{exact:!0,path:"/Basic/Employee/Add",render:function(e){return Object(m.jsx)(Te,Object(h.a)(Object(h.a)({},e),{},{createFlag:!0}))}}),Object(m.jsx)(o.a,{exact:!0,path:"/Basic/Employee/:employeeId",render:function(e){return Object(m.jsx)(Te,Object(h.a)(Object(h.a)({},e),{},{createFlag:!1}))}}),Object(m.jsx)(o.a,{exact:!0,path:"/Basic/Employee",component:Fe}),Object(m.jsx)(o.a,{path:"/",component:J})]})}),Object(m.jsx)(p.a.Footer,{className:"layout-footer",children:"2021 \xa9 Copyright"})]})]})}}]),a}(r.a.Component);a(286),a(287),a(288),a(289),a(290);s.a.render(Object(m.jsx)(i.a,{children:Object(m.jsx)(o.a,{path:"/:type?/:page?/:id?",component:Ae})}),document.getElementById("root")),l()}},[[291,1,2]]]);
//# sourceMappingURL=main.aa0c3769.chunk.js.map