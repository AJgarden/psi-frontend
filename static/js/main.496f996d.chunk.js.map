{"version":3,"sources":["reportWebVitals.js","view/icon/Icon.jsx","model/runner/rest.js","view/Login.jsx","view/layout/menuType.js","view/layout/Sider.jsx","view/layout/Header.jsx","view/dashboard/Dashboard.jsx","component/paginationSetting.js","model/api/supplier.js","view/supplier/Supplier.jsx","component/FormItem.jsx","view/supplier/supplierType.js","view/supplier/SupplierForm.jsx","view/supplier/SupplierDetail.jsx","model/api/customer.js","view/customer/Customer.jsx","view/customer/customerType.js","view/customer/CustomerForm.jsx","view/customer/CustomerDetail.jsx","model/api/employee.js","view/employee/Employee.jsx","view/employee/employeeType.js","view/employee/EmployeeForm.jsx","view/employee/EmployeeDetail.jsx","model/api/vehicle.js","view/vehicle/Vehicle.jsx","view/vehicle/vehicleType.js","view/vehicle/VehicleForm.jsx","view/vehicle/VehicleDetail.jsx","model/api/level.js","view/level/Level.jsx","view/level/levelType.js","view/level/LevelForm.jsx","view/level/LevelDetail.jsx","model/api/colour.js","view/colour/Colour.jsx","view/colour/colourType.js","view/colour/ColourForm.jsx","view/colour/ColourDetail.jsx","model/api/component.js","view/component/Component.jsx","view/component/componentType.js","view/component/ComponentForm.jsx","view/component/ComponentDetail.jsx","component/PageDrawer.jsx","model/storage/static.js","view/product/productType.js","model/api/product.js","view/product/ProductForm.jsx","view/product/ProductDetail.jsx","view/product/Product.jsx","model/api/purchase.js","view/purchase/Purchase.jsx","model/api/global.js","view/LayoutPage.jsx","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ListDeleteSvg","height","viewBox","width","fill","d","ListDeleteIcon","props","Icon","component","ListEditSvg","ListEditIcon","ListSearchSvg","ListSearchIcon","ListAddSvg","ListAddIcon","HeaderNotifyEmptySvg","HeaderNotifyEmptyIcon","HeaderLogoutSvg","enableBackground","HeaderLogoutIcon","HeaderAccountSvg","HeaderAccountIcon","SiderMenuPurchaseSvg","points","SiderMenuPurchaseIcon","SiderMenuProductSvg","SiderMenuProductIcon","SiderMenuWidgetSvg","SiderMenuWidgetIcon","SiderMenuBasicSvg","SiderMenuBasicIcon","SiderMenuDashboardSvg","x","y","SiderMenuDashboardIcon","SiderSwitchSvg","SiderSwitchIcon","LoginPasswordOffSvg","LoginPasswordOffIcon","LoginPasswordOnSvg","LoginPasswordOnIcon","LoginPasswordSvg","LoginPasswordIcon","LoginAccountSvg","LoginAccountIcon","UtilCloseSvg","UtilCloseIcon","baseUrl","process","getAuth","auth","document","cookie","split","find","includes","restInstance","method","requestUrl","data","config","url","timeout","headers","Authorization","Object","keys","length","params","Promise","resolve","reject","axios","response","catch","error","console","log","Login","cookies","keepLogin","useState","isLogin","setIsLogin","userId","password","loginData","setLoginData","useEffect","title","createHashHistory","replace","onInputChange","key","e","target","value","className","placeholder","prefix","onChange","Password","iconRender","visible","defaultChecked","checked","onClick","restInstanceWithoutAuth","code","message","success","Buffer","toString","localStorage","setItem","JSON","stringify","authorities","map","role","authority","setTimeout","onLogin","loading","routes","path","menuType","icon","accessRoles","children","LayoutSider","selectedKeys","setSelectedKeys","changeTitle","match","unlisten","history","listen","location","pathname","undefined","page","type","route","RegExp","test","to","item","join","push","menu","roles","parse","getItem","filter","SubMenu","popupClassName","Item","LayoutHeader","Search","enterButton","onLogout","Dashboard","getPaginationSetting","pager","showTotal","total","range","showSizeChanger","showQuickJumper","SupplierAPI","getSupplierList","getSupplierData","vendorId","addSupplierData","updateSupplierData","Supplier","supplierAPI","getList","state","search","pagination","requestData","pageNum","current","pageSize","queryByEnum","id","queryKeyWord","keyword","setState","list","onSelectChange","handleSearch","getColumns","_this","dataIndex","render","size","onEdit","bind","handleDelete","align","a","b","i","Modal","confirm","ExclamationCircleOutlined","okText","cancelText","onOk","onPageChange","position","justify","this","Option","allowClear","rowKey","columns","dataSource","React","Component","FormItem","required","content","style","display","alignItems","marginRight","textAlign","Text","color","left","top","fontSize","initData","name","shortName","principal","contactPerson","postCode","address","phone1","phone2","faxNumber","cellphone","note1","note2","formRules","SupplierForm","formData","checkCanSubmit","getFormErrorStatus","field","formStatus","event","getAttribute","text","toUpperCase","checkData","fieldKey","regExp","canSubmit","forEach","handleCreate","back","getElementById","scrollTo","behavior","handleSubmit","tip","index","handleCancel","createFlag","prevProps","rowSetting","gutter","marginBottom","marginTop","colSetting","xs","sm","md","lg","spinning","disabled","span","TextArea","autoSize","minRows","maxRows","margin","CheckOutlined","danger","CloseOutlined","SupplierDetail","CustomerAPI","getCustomerList","getCustomerData","customerId","addCustomerData","updateCustomerData","Customer","customerAPI","CustomerForm","some","CustomerDetail","EmployeeAPI","getEmployeeList","getEmployeeData","employeeId","addEmployeeData","updateEmployeeData","employeeAPI","identityCardNumber","birthday","phone","takeOfficeDay","education","experience","note","salary","extraBonus","fullAttendanceBonus","EmployeeForm","moment","valueOf","onDateChange","date","onNumberChange","format","min","max","step","EmployeeDetail","VehicleAPI","getVehicleList","getVehicleData","kindId","addVehicleData","updateVehicleData","Vehicle","vehicleAPI","kindIdLike","factory","VehicleForm","VehicleDetail","LevelAPI","getLevelList","getLevelData","gradeId","addLevelData","updateLevelData","Level","levelAPI","LevelForm","LevelDetail","ColourAPI","getColourList","getColourData","colorId","addColourData","updateColourData","Colour","colourAPI","ColourForm","ColourDetail","ComponentAPI","getComponentList","getComponentData","partId","addComponentData","updateComponentData","componentAPI","ComponentForm","ComponentDetail","PageDrawer","StaticStorage","setRoles","setUnitList","unitList","seqNo","productId","productType","customCode1","customCode2","customCode3","kindShortName","unit","StatisStorage","price1","price2","price3","norm","vendorProductId","safetyStock","inventory","storingPlace","ProductAPI","getProductList","getProductType","getProductData","addProductData","updateProductData","getPartsList","getKindsList","getGradesList","getColorsList","ProductForm","productAPI","getInitData","partsList","kindsList","gradesList","colorsList","isDrawMode","onClose","onCodeSearch","onCodeSelect","kind","toLowerCase","getPartOptions","part","label","getKindOptions","kinds","unshift","getGradeOptions","grades","grade","getColorOptions","colors","drawerContent","querySelector","layoutContent","drawModeVisible","colSetting1","colSetting2","colSetting3","codeColSetting","desc","searchValue","showSearch","showArrow","options","onSearch","onSelect","notFoundContent","optionFilterProp","ProductDetail","Product","onDetailOpen","detailCreate","detailSeqNo","detailVisible","onDetailClose","placement","closeIcon","PurchaseAPI","getPurchaseList","Purchase","purchaseAPI","queryBy","condition","beginDate","endDate","purchaseId","subtract","startOf","RangePicker","defaultValue","GlobalAPI","getUnitList","locale","LayoutPage","staticStorage","globalAPI","getGlobalData","clearCookie","isAuth","isLand","siderCollapsed","testRestInstance","window","addEventListener","zhTW","Sider","collapsible","collapsed","onCollapse","trigger","Header","Content","exact","Employee","Footer","ReactDOM"],"mappings":"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","file":"static/js/main.496f996d.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react'\r\nimport Icon from '@ant-design/icons'\r\n\r\nconst ListDeleteSvg = () => (\r\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#ffffff'>\r\n    <path d='M0 0h24v24H0V0z' fill='none' />\r\n    <path d='M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z' />\r\n  </svg>\r\n)\r\nexport const ListDeleteIcon = props => (\r\n  <Icon component={ListDeleteSvg} {...props} />\r\n)\r\nconst ListEditSvg = () => (\r\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#ffffff'>\r\n    <path d='M0 0h24v24H0V0z' fill='none' />\r\n    <path d='M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z' />\r\n  </svg>\r\n)\r\nexport const ListEditIcon = props => <Icon component={ListEditSvg} {...props} />\r\nconst ListSearchSvg = () => (\r\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#ffffff'>\r\n    <path d='M0 0h24v24H0V0z' fill='none' />\r\n    <path d='M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z' />\r\n  </svg>\r\n)\r\nexport const ListSearchIcon = props => (\r\n  <Icon component={ListSearchSvg} {...props} />\r\n)\r\nconst ListAddSvg = () => (\r\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#ffffff'>\r\n    <path d='M0 0h24v24H0V0z' fill='none' />\r\n    <path d='M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z' />\r\n  </svg>\r\n)\r\nexport const ListAddIcon = props => <Icon component={ListAddSvg} {...props} />\r\n\r\nconst HeaderNotifyExistSvg = () => (\r\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#ffffff'>\r\n    <path d='M0 0h24v24H0V0z' fill='none' />\r\n    <path d='M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6zM7.58 4.08L6.15 2.65C3.75 4.48 2.17 7.3 2.03 10.5h2c.15-2.65 1.51-4.97 3.55-6.42zm12.39 6.42h2c-.15-3.2-1.73-6.02-4.12-7.85l-1.42 1.43c2.02 1.45 3.39 3.77 3.54 6.42z' />\r\n  </svg>\r\n)\r\nexport const HeaderNotifyExistIcon = props => (\r\n  <Icon component={HeaderNotifyExistSvg} {...props} />\r\n)\r\nconst HeaderNotifyEmptySvg = () => (\r\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#ffffff'>\r\n    <path d='M0 0h24v24H0V0z' fill='none' />\r\n    <path d='M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z' />\r\n  </svg>\r\n)\r\nexport const HeaderNotifyEmptyIcon = props => (\r\n  <Icon component={HeaderNotifyEmptySvg} {...props} />\r\n)\r\nconst HeaderLogoutSvg = () => (\r\n  <svg\r\n    enableBackground='new 0 0 24 24'\r\n    height='36px'\r\n    viewBox='0 0 24 24'\r\n    width='36px'\r\n    fill='#ffffff'\r\n  >\r\n    <g>\r\n      <path d='M0,0h24v24H0V0z' fill='none' />\r\n    </g>\r\n    <g>\r\n      <path d='M17,8l-1.41,1.41L17.17,11H9v2h8.17l-1.58,1.58L17,16l4-4L17,8z M5,5h7V3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h7v-2H5V5z' />\r\n    </g>\r\n  </svg>\r\n)\r\nexport const HeaderLogoutIcon = props => (\r\n  <Icon component={HeaderLogoutSvg} {...props} />\r\n)\r\nconst HeaderAccountSvg = () => (\r\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#ffffff'>\r\n    <path d='M0 0h24v24H0V0z' fill='none' />\r\n    <path d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.07 18.28c.43-.9 3.05-1.78 4.93-1.78s4.51.88 4.93 1.78C15.57 19.36 13.86 20 12 20s-3.57-.64-4.93-1.72zm11.29-1.45c-1.43-1.74-4.9-2.33-6.36-2.33s-4.93.59-6.36 2.33C4.62 15.49 4 13.82 4 12c0-4.41 3.59-8 8-8s8 3.59 8 8c0 1.82-.62 3.49-1.64 4.83zM12 6c-1.94 0-3.5 1.56-3.5 3.5S10.06 13 12 13s3.5-1.56 3.5-3.5S13.94 6 12 6zm0 5c-.83 0-1.5-.67-1.5-1.5S11.17 8 12 8s1.5.67 1.5 1.5S12.83 11 12 11z' />\r\n  </svg>\r\n)\r\nexport const HeaderAccountIcon = props => (\r\n  <Icon component={HeaderAccountSvg} {...props} />\r\n)\r\n\r\nconst SiderMenuPurchaseSvg = () => (\r\n  <svg\r\n    enableBackground='new 0 0 24 24'\r\n    height='36px'\r\n    viewBox='0 0 24 24'\r\n    width='36px'\r\n    fill='#000000'\r\n  >\r\n    <g>\r\n      <rect fill='none' height='24' width='24' />\r\n    </g>\r\n    <g>\r\n      <g>\r\n        <path d='M5,5h2v3h10V5h2v5h2V5c0-1.1-0.9-2-2-2h-4.18C14.4,1.84,13.3,1,12,1S9.6,1.84,9.18,3H5C3.9,3,3,3.9,3,5v14 c0,1.1,0.9,2,2,2h6v-2H5V5z M12,3c0.55,0,1,0.45,1,1s-0.45,1-1,1s-1-0.45-1-1S11.45,3,12,3z' />\r\n        <polygon points='21,11.5 15.51,17 12.5,14 11,15.5 15.51,20 22.5,13' />\r\n      </g>\r\n    </g>\r\n  </svg>\r\n)\r\nexport const SiderMenuPurchaseIcon = props => (\r\n  <Icon component={SiderMenuPurchaseSvg} {...props} />\r\n)\r\nconst SiderMenuProductSvg = () => (\r\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#000000'>\r\n    <path d='M0 0h24v24H0V0z' fill='none' />\r\n    <path d='M12 2l-5.5 9h11L12 2zm0 3.84L13.93 9h-3.87L12 5.84zM17.5 13c-2.49 0-4.5 2.01-4.5 4.5s2.01 4.5 4.5 4.5 4.5-2.01 4.5-4.5-2.01-4.5-4.5-4.5zm0 7c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5zM3 21.5h8v-8H3v8zm2-6h4v4H5v-4z' />\r\n  </svg>\r\n)\r\nexport const SiderMenuProductIcon = props => (\r\n  <Icon component={SiderMenuProductSvg} {...props} />\r\n)\r\nconst SiderMenuWidgetSvg = () => (\r\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#000000'>\r\n    <path d='M0 0h24v24H0V0z' fill='none' />\r\n    <path d='M16.66 4.52l2.83 2.83-2.83 2.83-2.83-2.83 2.83-2.83M9 5v4H5V5h4m10 10v4h-4v-4h4M9 15v4H5v-4h4m7.66-13.31L11 7.34 16.66 13l5.66-5.66-5.66-5.65zM11 3H3v8h8V3zm10 10h-8v8h8v-8zm-10 0H3v8h8v-8z' />\r\n  </svg>\r\n)\r\nexport const SiderMenuWidgetIcon = props => (\r\n  <Icon component={SiderMenuWidgetSvg} {...props} />\r\n)\r\nconst SiderMenuBasicSvg = () => (\r\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#000000'>\r\n    <path d='M0 0h24v24H0V0z' fill='none' />\r\n    <path d='M9 13.75c-2.34 0-7 1.17-7 3.5V19h14v-1.75c0-2.33-4.66-3.5-7-3.5zM4.34 17c.84-.58 2.87-1.25 4.66-1.25s3.82.67 4.66 1.25H4.34zM9 12c1.93 0 3.5-1.57 3.5-3.5S10.93 5 9 5 5.5 6.57 5.5 8.5 7.07 12 9 12zm0-5c.83 0 1.5.67 1.5 1.5S9.83 10 9 10s-1.5-.67-1.5-1.5S8.17 7 9 7zm7.04 6.81c1.16.84 1.96 1.96 1.96 3.44V19h4v-1.75c0-2.02-3.5-3.17-5.96-3.44zM15 12c1.93 0 3.5-1.57 3.5-3.5S16.93 5 15 5c-.54 0-1.04.13-1.5.35.63.89 1 1.98 1 3.15s-.37 2.26-1 3.15c.46.22.96.35 1.5.35z' />\r\n  </svg>\r\n)\r\nexport const SiderMenuBasicIcon = props => (\r\n  <Icon component={SiderMenuBasicSvg} {...props} />\r\n)\r\nconst SiderMenuDashboardSvg = () => (\r\n  <svg\r\n    enableBackground='new 0 0 24 24'\r\n    height='36px'\r\n    viewBox='0 0 24 24'\r\n    width='36px'\r\n    fill='#000000'\r\n  >\r\n    <g>\r\n      <rect fill='none' height='24' width='24' />\r\n      <g>\r\n        <path d='M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M19,19H5V5h14V19z' />\r\n        <rect height='5' width='2' x='7' y='12' />\r\n        <rect height='10' width='2' x='15' y='7' />\r\n        <rect height='3' width='2' x='11' y='14' />\r\n        <rect height='2' width='2' x='11' y='10' />\r\n      </g>\r\n    </g>\r\n  </svg>\r\n)\r\nexport const SiderMenuDashboardIcon = props => (\r\n  <Icon component={SiderMenuDashboardSvg} {...props} />\r\n)\r\nconst SiderMenuHomeSvg = () => (\r\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#000000'>\r\n    <path d='M0 0h24v24H0V0z' fill='none' />\r\n    <path d='M12 5.69l5 4.5V18h-2v-6H9v6H7v-7.81l5-4.5M12 3L2 12h3v8h6v-6h2v6h6v-8h3L12 3z' />\r\n  </svg>\r\n)\r\nexport const SiderMenuHomeIcon = props => (\r\n  <Icon component={SiderMenuHomeSvg} {...props} />\r\n)\r\n\r\nconst SiderSwitchSvg = () => (\r\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#ffffff'>\r\n    <path d='M0 0h24v24H0V0z' fill='none' />\r\n    <path d='M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z' />\r\n  </svg>\r\n)\r\nexport const SiderSwitchIcon = props => (\r\n  <Icon component={SiderSwitchSvg} {...props} />\r\n)\r\n\r\nconst LoginPasswordOffSvg = () => (\r\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#000000'>\r\n    <path\r\n      d='M0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0z'\r\n      fill='none'\r\n    />\r\n    <path d='M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z' />\r\n  </svg>\r\n)\r\nexport const LoginPasswordOffIcon = props => (\r\n  <Icon component={LoginPasswordOffSvg} {...props} />\r\n)\r\nconst LoginPasswordOnSvg = () => (\r\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#000000'>\r\n    <path d='M0 0h24v24H0z' fill='none' />\r\n    <path d='M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z' />\r\n  </svg>\r\n)\r\nexport const LoginPasswordOnIcon = props => (\r\n  <Icon component={LoginPasswordOnSvg} {...props} />\r\n)\r\nconst LoginPasswordSvg = () => (\r\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#000000'>\r\n    <path d='M0 0h24v24H0z' fill='none' />\r\n    <path d='M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z' />\r\n  </svg>\r\n)\r\nexport const LoginPasswordIcon = props => (\r\n  <Icon component={LoginPasswordSvg} {...props} />\r\n)\r\nconst LoginAccountSvg = () => (\r\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#000000'>\r\n    <path d='M0 0h24v24H0z' fill='none' />\r\n    <path d='M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z' />\r\n  </svg>\r\n)\r\nexport const LoginAccountIcon = props => (\r\n  <Icon component={LoginAccountSvg} {...props} />\r\n)\r\n\r\nconst UtilCloseSvg = () => (\r\n  <svg height='36px' viewBox='0 0 24 24' width='36px' fill='#000000'>\r\n    <path d='M0 0h24v24H0V0z' fill='none' />\r\n    <path d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z' />\r\n  </svg>\r\n)\r\nexport const UtilCloseIcon = props => (\r\n  <Icon component={UtilCloseSvg} {...props} />\r\n)\r\n","import axios from 'axios'\r\n\r\nconst baseUrl = process.env.REACT_APP_API_HOST\r\nconst testBaseUrl = process.env.REACT_APP_TESTAPI_HOST\r\n\r\nconst getAuth = () => {\r\n  const cookies = document.cookie.split(';')\r\n  const auth = cookies.find((cookie) => cookie.includes('MOTOBUY_AUTH'))\r\n  return auth ? auth.split('=')[1] : ''\r\n}\r\n\r\nexport const restInstanceWithoutAuth = (method, requestUrl, data) => {\r\n  const url = baseUrl + requestUrl\r\n  const config = {\r\n    url,\r\n    method,\r\n    timeout: 60000\r\n  }\r\n  if (method === 'get' && data && Object.keys(data).length > 0) {\r\n    config.params = data\r\n  } else if (data && Object.keys(data).length > 0) {\r\n    config.data = data\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    axios(config)\r\n      .then((response) => resolve(response))\r\n      .catch((error) => {\r\n        reject(error)\r\n        console.log(error.response)\r\n      })\r\n  })\r\n}\r\n\r\nexport const restInstance = (method, requestUrl, data) => {\r\n  const url = baseUrl + requestUrl\r\n  const config = {\r\n    url,\r\n    method,\r\n    timeout: 60000,\r\n    headers: {\r\n      Authorization: 'Basic ' + getAuth()\r\n    }\r\n  }\r\n  if (method === 'get' && data && Object.keys(data).length > 0) {\r\n    config.params = data\r\n  } else if (data && Object.keys(data).length > 0) {\r\n    config.data = data\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    axios(config)\r\n      .then((response) => resolve(response))\r\n      .catch((error) => {\r\n        reject(error)\r\n        console.log(error.response)\r\n      })\r\n  })\r\n}\r\n\r\nexport const testRestInstance = (method, requestUrl, data) => {\r\n  const url = testBaseUrl + requestUrl\r\n  const config = {\r\n    url,\r\n    method,\r\n    timeout: 60000,\r\n    headers: {\r\n      Authorization: 'Basic ' + getAuth()\r\n    }\r\n  }\r\n  if (method === 'get' && data && Object.keys(data).length > 0) {\r\n    config.params = data\r\n  } else if (data && Object.keys(data).length > 0) {\r\n    config.data = data\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    axios(config)\r\n      .then((response) => resolve(response))\r\n      .catch((error) => {\r\n        reject(error)\r\n        console.log(error.response)\r\n      })\r\n  })\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { createHashHistory } from 'history'\r\nimport { Buffer } from 'buffer'\r\nimport { Input, Checkbox, Button, message } from 'antd'\r\nimport {\r\n  LoginAccountIcon,\r\n  LoginPasswordIcon,\r\n  LoginPasswordOnIcon,\r\n  LoginPasswordOffIcon\r\n} from './icon/Icon'\r\nimport { restInstanceWithoutAuth } from '../model/runner/rest'\r\n\r\nexport const Login = (props) => {\r\n  const cookies = document.cookie.split(';')\r\n  let keepLogin =\r\n    cookies.find((cookie) => cookie.includes('MOTOBUY_KEEP_LOGIN')) &&\r\n    cookies.find((cookie) => cookie.includes('MOTOBUY_KEEP_LOGIN')).split('=')[1] === 'true'\r\n  const [isLogin, setIsLogin] = useState(false)\r\n  const [loginData, setLoginData] = useState({\r\n    userId: '',\r\n    password: ''\r\n  })\r\n\r\n  useEffect(() => {\r\n    document.title = '登入 - MOTOBUY PSI'\r\n    const history = createHashHistory()\r\n    history.replace('/')\r\n  }, [loginData])\r\n\r\n  const onInputChange = (key, e) => {\r\n    loginData[key] = e.target.value\r\n    setLoginData(loginData)\r\n  }\r\n\r\n  const onLogin = () => {\r\n    setIsLogin(true)\r\n    if (keepLogin) {\r\n      document.cookie = `MOTOBUY_KEEP_LOGIN=${keepLogin}; path=/; max-age=86400`\r\n    }\r\n    restInstanceWithoutAuth('post', '/author/login', loginData)\r\n      .then((response) => {\r\n        const data = response.data\r\n        if (data.code === 0) {\r\n          message.success('登入成功')\r\n          // save auth cookie\r\n          const auth = new Buffer(`${loginData.userId}:${loginData.password}`).toString('base64')\r\n          document.cookie = `MOTOBUY_AUTH=${auth}; path=/; max-age=86400`\r\n          // save permission roles\r\n          localStorage.setItem(\r\n            'MOTOBUY_ROLES',\r\n            JSON.stringify(data.data.authorities.map((role) => role.authority))\r\n          )\r\n          setTimeout(() => props.onLogin(), 200)\r\n        } else {\r\n          message.error('登入失敗')\r\n          setIsLogin(false)\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        message.error('登入失敗')\r\n        setIsLogin(false)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div className='login-wrapper'>\r\n      <div className='login-board'>\r\n        <div className='login-board-header'>\r\n          <div className='login-board-logo'>M</div>\r\n          <h1 className='login-board-title'>MOTOBUY PSI</h1>\r\n        </div>\r\n        <div className='login-board-form'>\r\n          <Input\r\n            placeholder='User ID'\r\n            prefix={<LoginAccountIcon />}\r\n            onChange={(e) => onInputChange('userId', e)}\r\n          />\r\n          <Input.Password\r\n            placeholder='Password'\r\n            prefix={<LoginPasswordIcon />}\r\n            iconRender={(visible) => (visible ? <LoginPasswordOnIcon /> : <LoginPasswordOffIcon />)}\r\n            onChange={(e) => onInputChange('password', e)}\r\n          />\r\n          <Checkbox defaultChecked={keepLogin} onChange={(e) => (keepLogin = e.target.checked)}>\r\n            Keep me logged.\r\n          </Checkbox>\r\n        </div>\r\n        <div className='login-board-footer'>\r\n          <Button onClick={onLogin} loading={isLogin}>\r\n            LOGIN\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport {\r\n  SiderMenuHomeIcon,\r\n  SiderMenuDashboardIcon,\r\n  SiderMenuBasicIcon,\r\n  SiderMenuWidgetIcon,\r\n  SiderMenuProductIcon,\r\n  SiderMenuPurchaseIcon\r\n} from '../icon/Icon'\r\n\r\nexport const routes = [\r\n  {\r\n    path: '/Dashboard',\r\n    title: '儀表板'\r\n  },\r\n  {\r\n    path: '/Basic/Supplier',\r\n    title: '廠商 - 基本資料'\r\n  },\r\n  {\r\n    path: '/Basic/Customer',\r\n    title: '客戶 - 基本資料'\r\n  },\r\n  {\r\n    path: '/Basic/Employee',\r\n    title: '員工 - 基本資料'\r\n  },\r\n  {\r\n    path: '/Basic',\r\n    title: '基本資料'\r\n  },\r\n  {\r\n    path: '/Parts/Vehicle',\r\n    title: '車種 - 零件管理'\r\n  },\r\n  {\r\n    path: '/Parts/Level',\r\n    title: '等級 - 零件管理'\r\n  },\r\n  {\r\n    path: '/Parts/Colour',\r\n    title: '顏色 - 零件管理'\r\n  },\r\n  {\r\n    path: '/Parts/Component',\r\n    title: '零件 - 零件管理'\r\n  },\r\n  {\r\n    path: '/Parts',\r\n    title: '零件管理'\r\n  },\r\n  {\r\n    path: '/Products/List',\r\n    title: '列表 - 商品管理'\r\n  },\r\n  {\r\n    path: '/Products',\r\n    title: '商品管理'\r\n  },\r\n  {\r\n    path: '/Purchase/List',\r\n    title: '列表 - 進貨單'\r\n  },\r\n  {\r\n    path: '/Purchase',\r\n    title: '進貨單'\r\n  },\r\n  {\r\n    path: '/',\r\n    title: '首頁'\r\n  }\r\n]\r\n\r\nexport const menuType = [\r\n  // {\r\n  //   key: 'Home',\r\n  //   routes: [''],\r\n  //   icon: <SiderMenuHomeIcon />,\r\n  //   title: '首頁',\r\n  //   accessRoles: []\r\n  // },\r\n  {\r\n    key: 'Dashboard',\r\n    routes: ['Dashboard'],\r\n    icon: <SiderMenuDashboardIcon />,\r\n    title: '儀表板',\r\n    accessRoles: []\r\n  },\r\n  {\r\n    key: 'Basic',\r\n    routes: ['Basic'],\r\n    icon: <SiderMenuBasicIcon />,\r\n    title: '基本資料',\r\n    accessRoles: ['ROLE_BASIC_MENU'],\r\n    children: [\r\n      {\r\n        key: 'BasicSupplier',\r\n        routes: ['Basic', 'Supplier'],\r\n        title: '廠商',\r\n        accessRoles: ['ROLE_VENDOR']\r\n      },\r\n      {\r\n        key: 'BasicCustomer',\r\n        routes: ['Basic', 'Customer'],\r\n        title: '客戶',\r\n        accessRoles: ['ROLE_CUSTOMER']\r\n      },\r\n      {\r\n        key: 'BasicEmployee',\r\n        routes: ['Basic', 'Employee'],\r\n        title: '員工',\r\n        accessRoles: ['ROLE_EMPLOYEE']\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    key: 'Parts',\r\n    routes: ['Parts'],\r\n    icon: <SiderMenuWidgetIcon />,\r\n    title: '零件管理',\r\n    accessRoles: ['ROLE_PART_MENU'],\r\n    children: [\r\n      {\r\n        key: 'PartsVehicle',\r\n        routes: ['Parts', 'Vehicle'],\r\n        title: '車種',\r\n        accessRoles: ['ROLE_KIND']\r\n      },\r\n      {\r\n        key: 'PartsLevel',\r\n        routes: ['Parts', 'Level'],\r\n        title: '等級',\r\n        accessRoles: ['ROLE_GRADE']\r\n      },\r\n      {\r\n        key: 'PartsColour',\r\n        routes: ['Parts', 'Colour'],\r\n        title: '顏色',\r\n        accessRoles: ['ROLE_COLOR']\r\n      },\r\n      {\r\n        key: 'PartsComponent',\r\n        routes: ['Parts', 'Component'],\r\n        title: '零件',\r\n        accessRoles: ['ROLE_PART']\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    key: 'Products',\r\n    routes: ['Products'],\r\n    icon: <SiderMenuProductIcon />,\r\n    title: '商品管理',\r\n    accessRoles: ['ROLE_PRODUCT_MENU'],\r\n    children: [\r\n      {\r\n        key: 'ProductsList',\r\n        routes: ['Products', 'List'],\r\n        title: '列表',\r\n        accessRoles: ['ROLE_PRODUCT']\r\n      },\r\n      {\r\n        key: 'ProductsImport',\r\n        routes: ['Products', 'Import'],\r\n        title: '匯入',\r\n        accessRoles: ['ROLE_PRODUCT_IMPORT']\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    key: 'PurchaseL',\r\n    routes: ['Purchase', 'List'],\r\n    icon: <SiderMenuPurchaseIcon />,\r\n    title: '進貨',\r\n    accessRoles: ['ROLE_PURCHASE_MENU']\r\n  }\r\n]\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { createHashHistory } from 'history'\r\nimport { Menu } from 'antd'\r\nimport { routes, menuType } from './menuType'\r\n\r\nexport const LayoutSider = (props) => {\r\n  const [selectedKeys, setSelectedKeys] = useState([])\r\n  useEffect(() => {\r\n    changeTitle(props.match.url)\r\n    const unlisten = props.history.listen((location) => {\r\n      changeTitle(location.pathname)\r\n    })\r\n    return () => {\r\n      unlisten()\r\n    }\r\n  }, [])\r\n  useEffect(() => {\r\n    if (props.match.params.page !== undefined) {\r\n      setSelectedKeys([props.match.params.type + props.match.params.page])\r\n    } else if (props.match.params.type !== undefined) {\r\n      setSelectedKeys([props.match.params.type])\r\n    } else {\r\n      setSelectedKeys(['Home'])\r\n    }\r\n  }, [props.match.params.type, props.match.params.page])\r\n\r\n  const changeTitle = (url) => {\r\n    const route = routes.find((route) => new RegExp(`^(${route.path})`).test(url))\r\n    if (route) document.title = `${route.title} - MOTOBUY PSI`\r\n  }\r\n\r\n  const onMenuClick = ({ item }) => {\r\n    const history = createHashHistory()\r\n    const path = item.props.data.routes.map((route) => `/${route}`).join('')\r\n    history.push(path)\r\n    setSelectedKeys(item.props.data.routes[0] === '' ? ['Home'] : item.props.data.routes)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <h1 className='layout-sider-logo'>\r\n        <Link to='/'>\r\n          <span className='layout-sider-logo-f'>\r\n            MOTOBUY\r\n            <br />\r\n            PSI\r\n          </span>\r\n          <span className='layout-sider-logo-s'>M</span>\r\n        </Link>\r\n      </h1>\r\n      <Menu className='layout-sider-menu' selectedKeys={selectedKeys} onClick={onMenuClick}>\r\n        {menuType.map((menu) => {\r\n          const roles = JSON.parse(localStorage.getItem('MOTOBUY_ROLES'))\r\n          if (\r\n            menu.accessRoles.length < 1 ||\r\n            menu.accessRoles.filter((role) => roles.includes(role)).length > 0\r\n          ) {\r\n            return menu.children && menu.children.length > 0 ? (\r\n              <Menu.SubMenu\r\n                key={menu.key}\r\n                icon={menu.icon}\r\n                title={menu.title}\r\n                popupClassName='layout-sider-popup'\r\n              >\r\n                {menu.children.map((children) => {\r\n                  if (\r\n                    children.accessRoles.length < 1 ||\r\n                    children.accessRoles.filter((role) => roles.includes(role)).length > 0\r\n                  ) {\r\n                    return (\r\n                      <Menu.Item key={children.key} data={children}>\r\n                        {children.title}\r\n                      </Menu.Item>\r\n                    )\r\n                  }\r\n                  return null\r\n                })}\r\n              </Menu.SubMenu>\r\n            ) : (\r\n              <Menu.Item key={menu.key} icon={menu.icon} data={menu}>\r\n                {menu.title}\r\n              </Menu.Item>\r\n            )\r\n          }\r\n          return null\r\n        })}\r\n      </Menu>\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Input, Button } from 'antd'\r\nimport {\r\n  HeaderNotifyEmptyIcon,\r\n  HeaderNotifyExistIcon,\r\n  HeaderLogoutIcon,\r\n  HeaderAccountIcon\r\n} from '../icon/Icon'\r\n\r\nexport const LayoutHeader = (props) => {\r\n  return (\r\n    <>\r\n      <div className='layout-header-left'>\r\n        <Input.Search placeholder='全域搜尋' enterButton />\r\n      </div>\r\n      <div className='layout-header-right'>\r\n        <Button>\r\n          <HeaderNotifyEmptyIcon />\r\n        </Button>\r\n        <Button onClick={props.onLogout}>\r\n          <HeaderLogoutIcon />\r\n        </Button>\r\n        <Button className='layout-header-account'>\r\n          <HeaderAccountIcon />\r\n        </Button>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { createHashHistory } from 'history'\r\n\r\nexport const Dashboard = (props) => {\r\n  useEffect(() => {\r\n    const history = createHashHistory()\r\n    history.replace('/Dashboard')\r\n  })\r\n\r\n  return 'Dashboard'\r\n}\r\n","export const getPaginationSetting = (pager, onChange) => {\r\n  return {\r\n    ...pager,\r\n    showTotal: (total, range) => `${range[0]} - ${range[1]} 共 ${total} 筆`,\r\n    showSizeChanger: true,\r\n    showQuickJumper: true,\r\n    onChange\r\n  }\r\n}\r\n","import { restInstance } from '../runner/rest'\r\n\r\nexport default class SupplierAPI {\r\n  getSupplierList = (data) => {\r\n    return restInstance('get', '/vendor', data).then((response) => response.data)\r\n  }\r\n\r\n  getSupplierData = (vendorId) => {\r\n    return restInstance('get', `/vendor/${vendorId}`).then((response) => response.data)\r\n  }\r\n\r\n  addSupplierData = (data) => {\r\n    return restInstance('post', `/vendor/${data.vendorId}`, data).then((response) => response.data)\r\n  }\r\n\r\n  updateSupplierData = (vendorId, data) => {\r\n    return restInstance('patch', `/vendor/${vendorId}`, data).then((response) => response.data)\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { createHashHistory } from 'history'\r\nimport { Button, Col, Input, Row, Select, Space, Table, Tooltip, Modal } from 'antd'\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\r\nimport { ListAddIcon, ListSearchIcon, ListEditIcon, ListDeleteIcon } from '../icon/Icon'\r\nimport { getPaginationSetting } from '../../component/paginationSetting'\r\nimport SupplierAPI from '../../model/api/supplier'\r\n\r\nexport default class Supplier extends React.Component {\r\n  history = createHashHistory()\r\n  supplierAPI = new SupplierAPI()\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      search: {\r\n        id: 'VENDOR_ID',\r\n        keyword: ''\r\n      },\r\n      list: [],\r\n      pagination: {\r\n        current: 1,\r\n        total: 0,\r\n        pageSize: 10,\r\n        position: ['bottomLeft']\r\n      }\r\n    }\r\n    this.getList()\r\n  }\r\n\r\n  getList = () => {\r\n    const { search, pagination } = this.state\r\n    const requestData = {\r\n      pageNum: pagination.current,\r\n      pageSize: pagination.pageSize,\r\n      queryByEnum: search.id,\r\n      queryKeyWord: `%${search.keyword}%`\r\n    }\r\n    this.supplierAPI\r\n      .getSupplierList(requestData)\r\n      .then((response) => {\r\n        pagination.total = response.data.total\r\n        this.setState({ loading: false, list: response.data.list, pagination })\r\n      })\r\n      .catch(() => this.setState({ loading: false }))\r\n  }\r\n\r\n  // search\r\n  onSelectChange = (value) => {\r\n    const { search } = this.state\r\n    search.id = value\r\n    this.setState({ search })\r\n  }\r\n  onInputChange = (e) => {\r\n    const { search } = this.state\r\n    search.keyword = e.target.value\r\n    this.setState({ search })\r\n  }\r\n  handleSearch = () => {\r\n    this.setState({ loading: true, list: [] }, () => this.getList())\r\n  }\r\n\r\n  getColumns = () => {\r\n    const _this = this\r\n    const { pagination } = this.state\r\n    return [\r\n      {\r\n        dataIndex: 'vendorId',\r\n        title: '執行',\r\n        width: 50,\r\n        render: (vendorId) => (\r\n          <Space className='list-table-option'>\r\n            <Tooltip title='編輯'>\r\n              <Button\r\n                className='list-table-option-edit'\r\n                size='small'\r\n                onClick={_this.onEdit.bind(_this, vendorId)}\r\n              >\r\n                <ListEditIcon />\r\n              </Button>\r\n            </Tooltip>\r\n            <Tooltip title='刪除'>\r\n              <Button\r\n                className='list-table-option-delete'\r\n                size='small'\r\n                onClick={_this.handleDelete.bind(_this, vendorId)}\r\n              >\r\n                <ListDeleteIcon />\r\n              </Button>\r\n            </Tooltip>\r\n          </Space>\r\n        )\r\n      },\r\n      {\r\n        title: '序',\r\n        width: 30,\r\n        align: 'center',\r\n        render: (a, b, i) => (pagination.current - 1) * pagination.pageSize + i + 1\r\n      },\r\n      {\r\n        title: '廠商代號',\r\n        dataIndex: 'vendorId'\r\n      },\r\n      {\r\n        title: '廠商簡稱',\r\n        dataIndex: 'shortName'\r\n      },\r\n      {\r\n        title: '聯絡人',\r\n        dataIndex: 'contactPerson'\r\n      },\r\n      {\r\n        title: '地址',\r\n        dataIndex: 'address'\r\n      },\r\n      {\r\n        title: '電話1',\r\n        dataIndex: 'phone1'\r\n      },\r\n      {\r\n        title: '傳真號碼',\r\n        dataIndex: 'faxNumber'\r\n      },\r\n      {\r\n        title: '行動電話',\r\n        dataIndex: 'cellPhone'\r\n      }\r\n    ]\r\n  }\r\n\r\n  onEdit = (vendorId) => {\r\n    this.history.push(`/Basic/Supplier/${vendorId}`)\r\n  }\r\n\r\n  handleDelete = (vendorId) => {\r\n    Modal.confirm({\r\n      title: '確定要刪除此筆資料嗎',\r\n      icon: <ExclamationCircleOutlined />,\r\n      okText: '確認',\r\n      cancelText: '取消',\r\n      onOk: () => {\r\n        console.log('delete: ' + vendorId)\r\n      }\r\n    })\r\n  }\r\n\r\n  onPageChange = (page, pageSize) => {\r\n    const { pagination } = this.state\r\n    pagination.current = page\r\n    pagination.pageSize = pageSize\r\n    this.setState({ loading: true, list: [] }, () => this.getList())\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className='list-header'>\r\n          <Row type='flex' justify='space-between'>\r\n            <Col>\r\n              <Button\r\n                type='primary'\r\n                icon={<ListAddIcon />}\r\n                onClick={() => this.history.push('/Basic/Supplier/Add')}\r\n                className='list-header-add'\r\n              >\r\n                新增\r\n              </Button>\r\n            </Col>\r\n            <Col>\r\n              <Space>\r\n                <Select\r\n                  placeholder='搜尋欄位'\r\n                  value={this.state.search.id}\r\n                  onChange={this.onSelectChange}\r\n                >\r\n                  <Select.Option value='VENDOR_ID'>廠商代號</Select.Option>\r\n                  <Select.Option value='NAME'>廠商名稱</Select.Option>\r\n                </Select>\r\n                <Input placeholder='搜尋內容' allowClear={true} onChange={this.onInputChange} />\r\n                <Button\r\n                  type='primary'\r\n                  icon={<ListSearchIcon />}\r\n                  onClick={this.handleSearch}\r\n                  className='list-header-search'\r\n                >\r\n                  查詢\r\n                </Button>\r\n              </Space>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        <Table\r\n          className='list-table-wrapper'\r\n          rowKey='vendorId'\r\n          size='small'\r\n          columns={this.getColumns()}\r\n          loading={this.state.loading}\r\n          dataSource={this.state.list}\r\n          pagination={getPaginationSetting(this.state.pagination, this.onPageChange)}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Typography } from 'antd'\r\n\r\nexport const FormItem = ({ required, align = 'center', title, content, message, error }) => {\r\n  return (\r\n    <div style={{ display: 'flex', alignItems: align }}>\r\n      <div style={{ marginRight: 8, width: 80, textAlign: 'right' }}>\r\n        {required && (\r\n          <Typography.Text type='danger' style={{ marginRight: 5 }}>\r\n            *\r\n          </Typography.Text>\r\n        )}\r\n        <Typography.Text>{title}</Typography.Text>\r\n      </div>\r\n      <div style={{ width: 'calc(100% - 80px)', position: 'relative' }}>\r\n        {content}\r\n        {error && (\r\n          <span\r\n            style={{\r\n              color: 'red',\r\n              position: 'absolute',\r\n              width: '100%',\r\n              left: 0,\r\n              top: '100%',\r\n              fontSize: '12px'\r\n            }}\r\n          >\r\n            {message}\r\n          </span>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","export const initData = {\r\n  vendorId: '',\r\n  name: '',\r\n  shortName: '',\r\n  principal: '',\r\n  contactPerson: '',\r\n  postCode: '',\r\n  address: '',\r\n  phone1: '',\r\n  phone2: '',\r\n  faxNumber: '',\r\n  cellphone: '',\r\n  note1: '',\r\n  note2: ''\r\n}\r\n\r\nexport const formRules = [\r\n  {\r\n    key: 'vendorId',\r\n    required: true,\r\n    length: [10]\r\n  },\r\n  {\r\n    key: 'name',\r\n    required: true,\r\n    length: [30]\r\n  },\r\n  {\r\n    key: 'shortName',\r\n    required: true,\r\n    length: [10]\r\n  },\r\n  {\r\n    key: 'principal',\r\n    length: [2, 10]\r\n  },\r\n  {\r\n    key: 'contactPerson',\r\n    length: [2, 10]\r\n  },\r\n  {\r\n    key: 'address',\r\n    length: [100]\r\n  },\r\n  {\r\n    key: 'phone1',\r\n    required: true,\r\n    length: [10]\r\n  },\r\n  {\r\n    key: 'phone2',\r\n    length: [10]\r\n  },\r\n  {\r\n    key: 'faxNumber',\r\n    length: [10]\r\n  },\r\n  {\r\n    key: 'cellphone',\r\n    length: [10]\r\n  },\r\n  {\r\n    key: 'note1',\r\n    length: [255]\r\n  },\r\n  {\r\n    key: 'note2',\r\n    length: [255]\r\n  }\r\n]\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Breadcrumb, Card, Col, Row, Input, Button, Space, Modal, Spin, message } from 'antd'\r\nimport { FormItem } from '../../component/FormItem'\r\nimport { CheckOutlined, CloseOutlined, ExclamationCircleOutlined } from '@ant-design/icons'\r\nimport { createHashHistory } from 'history'\r\nimport { initData, formRules } from './supplierType'\r\n// import addressDistrict from '../../model/resource/addressDistrict.json'\r\nimport SupplierAPI from '../../model/api/supplier'\r\n\r\nexport default class SupplierForm extends React.Component {\r\n  history = createHashHistory()\r\n  supplierAPI = new SupplierAPI()\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loading: !props.createFlag,\r\n      formData: { ...initData },\r\n      formStatus: JSON.parse(JSON.stringify(formRules)),\r\n      canSubmit: false\r\n    }\r\n    if (!props.createFlag) {\r\n      this.getSupplierData()\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (!prevProps.createFlag && this.props.createFlag) {\r\n      this.setState({\r\n        loading: false,\r\n        formData: { ...initData },\r\n        formStatus: JSON.parse(JSON.stringify(formRules)),\r\n        canSubmit: false\r\n      })\r\n    } else if (!this.props.createFlag && prevProps.vendorId !== this.props.vendorId) {\r\n      this.setState(\r\n        {\r\n          loading: true,\r\n          formData: { ...initData },\r\n          formStatus: JSON.parse(JSON.stringify(formRules)),\r\n          canSubmit: false\r\n        },\r\n        () => this.getSupplierData()\r\n      )\r\n    }\r\n  }\r\n\r\n  getSupplierData = () => {\r\n    this.supplierAPI\r\n      .getSupplierData(this.props.vendorId)\r\n      .then((response) => {\r\n        if (response.code === 0) {\r\n          this.setState({ loading: false, formData: response.data }, () => this.checkCanSubmit())\r\n        } else {\r\n          message.error(response.message)\r\n          this.history.push('/Basic/Supplier')\r\n        }\r\n      })\r\n      .catch(() => {\r\n        message.error('Error!')\r\n        this.history.push('/Basic/Supplier')\r\n      })\r\n  }\r\n\r\n  getFormErrorStatus = (key) => {\r\n    const { formStatus } = this.state\r\n    const field = formStatus.find((field) => field.key === key)\r\n    return field ? field.error : false\r\n  }\r\n\r\n  onInputChange = (event) => {\r\n    const type = event.target.getAttribute('id')\r\n    const text = event.target.value\r\n    const { formData } = this.state\r\n    formData[type] = type === 'vendorId' ? text.toUpperCase() : text\r\n    this.checkData(formData, type)\r\n  }\r\n\r\n  // field validator\r\n  checkData = (formData, fieldKey) => {\r\n    const { formStatus } = this.state\r\n    const field = formStatus.find((field) => field.key === fieldKey)\r\n    if (field) {\r\n      const value = formData[fieldKey]\r\n      let error = false\r\n      if (field.required && !value) {\r\n        error = true\r\n      }\r\n      if (field.length && field.length.length > 0 && value) {\r\n        if (field.length.length === 1 && value.length > field.length[0]) {\r\n          error = true\r\n        } else if (\r\n          field.length.length > 1 &&\r\n          (value.length < field.length[0] || value.length > field.length[1])\r\n        ) {\r\n          error = true\r\n        }\r\n      }\r\n      if (field.regExp && !field.regExp.test(value)) {\r\n        error = true\r\n      }\r\n      field.error = error\r\n    }\r\n    this.setState({ formData, formStatus }, () => this.checkCanSubmit())\r\n  }\r\n  checkCanSubmit = () => {\r\n    let canSubmit = true\r\n    const { formData, formStatus } = this.state\r\n    formStatus.forEach((field) => {\r\n      if (field.error) {\r\n        canSubmit = false\r\n      } else if (field.required && !formData[field.key]) {\r\n        canSubmit = false\r\n      } else if (field.length && field.length.length > 0 && formData[field.key]) {\r\n        if (field.length.length === 1 && formData[field.key].length > field.length[0]) {\r\n          canSubmit = false\r\n        } else if (\r\n          field.length.length > 1 &&\r\n          (formData[field.key].length < field.length[0] ||\r\n            formData[field.key].length > field.length[1])\r\n        ) {\r\n          canSubmit = false\r\n        }\r\n      } else if (field.regExp && !field.regExp.test(formData[field.key])) {\r\n        canSubmit = false\r\n      }\r\n    })\r\n    this.setState({ canSubmit })\r\n  }\r\n\r\n  // 新增\r\n  handleCreate = (back) => {\r\n    this.setState({ loading: true }, () => {\r\n      this.supplierAPI\r\n        .addSupplierData(this.state.formData)\r\n        .then((response) => {\r\n          if (response.code === 0) {\r\n            message.success('成功新增資料')\r\n            if (back) {\r\n              this.history.push('/Basic/Supplier')\r\n            } else {\r\n              const layoutContent = document.getElementById('layout-content-wrapper')\r\n              layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\r\n              this.setState({\r\n                loading: false,\r\n                formData: { ...initData },\r\n                formStatus: JSON.parse(JSON.stringify(formRules)),\r\n                canSubmit: false\r\n              })\r\n            }\r\n          } else {\r\n            Modal.error({\r\n              title: response.message,\r\n              icon: <ExclamationCircleOutlined />,\r\n              okText: '確認',\r\n              cancelText: null,\r\n              onOk: () => {\r\n                this.setState({ loading: false })\r\n              }\r\n            })\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          message.error(error.response.data.message)\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n  // 修改\r\n  handleSubmit = (back) => {\r\n    this.setState({ loading: true }, () => {\r\n      this.supplierAPI\r\n        .updateSupplierData(this.props.vendorId, this.state.formData)\r\n        .then((response) => {\r\n          if (response.code === 0) {\r\n            message.success('成功更新資料')\r\n            if (back) {\r\n              this.history.push('/Basic/Supplier')\r\n            } else {\r\n              const layoutContent = document.getElementById('layout-content-wrapper')\r\n              layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\r\n              this.getSupplierData()\r\n            }\r\n          } else {\r\n            Modal.error({\r\n              title: response.message,\r\n              icon: <ExclamationCircleOutlined />,\r\n              content: response.data.map((tip, index) => (\r\n                <>\r\n                  {index > 0 && <br />}\r\n                  {tip.split(': ')[1]}\r\n                </>\r\n              )),\r\n              okText: '確認',\r\n              cancelText: null,\r\n              onOk: () => {\r\n                this.setState({ loading: false })\r\n              }\r\n            })\r\n          }\r\n        })\r\n        .catch(() => {\r\n          message.error('資料更新失敗')\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n\r\n  handleCancel = () => {\r\n    Modal.confirm({\r\n      title: '變更尚未儲存，確定要離開嗎',\r\n      icon: <ExclamationCircleOutlined />,\r\n      okText: '確認',\r\n      cancelText: '取消',\r\n      onOk: () => {\r\n        this.history.push('/Basic/Supplier')\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const rowSetting = {\r\n      gutter: [24, 24],\r\n      type: 'flex',\r\n      align: 'middle',\r\n      style: { marginBottom: 24, marginTop: 24 }\r\n    }\r\n    const colSetting = {\r\n      xs: 24,\r\n      sm: 24,\r\n      md: 24,\r\n      lg: 8\r\n    }\r\n    return (\r\n      <>\r\n        <Breadcrumb style={{ marginBottom: 10 }}>\r\n          <Breadcrumb.Item>\r\n            <Link to='/Basic/Supplier'>廠商</Link>\r\n          </Breadcrumb.Item>\r\n          <Breadcrumb.Item>{this.props.createFlag ? '新增廠商' : '修改廠商資料'}</Breadcrumb.Item>\r\n        </Breadcrumb>\r\n        <Spin spinning={this.state.loading}>\r\n          <Card className='form-detail-card'>\r\n            <Row {...rowSetting}>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='廠商代號'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.vendorId}\r\n                      id='vendorId'\r\n                      disabled={!this.props.createFlag}\r\n                    />\r\n                  }\r\n                  message='廠商代號為必填,長度需在10字內'\r\n                  error={this.getFormErrorStatus('vendorId')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='廠商名稱'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.name}\r\n                      id='name'\r\n                    />\r\n                  }\r\n                  message='廠商名稱為必填,長度需在30字內'\r\n                  error={this.getFormErrorStatus('name')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='廠商簡稱'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.shortName}\r\n                      id='shortName'\r\n                    />\r\n                  }\r\n                  message='廠商簡稱為必填,長度需在10字內'\r\n                  error={this.getFormErrorStatus('shortName')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='負責人'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.principal}\r\n                      id='principal'\r\n                    />\r\n                  }\r\n                  message='長度需在2~10字'\r\n                  error={this.getFormErrorStatus('principal')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='聯絡人'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.contactPerson}\r\n                      id='contactPerson'\r\n                    />\r\n                  }\r\n                  message='長度需在2~10字'\r\n                  error={this.getFormErrorStatus('contactPerson')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='傳真號碼'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.faxNumber}\r\n                      id='faxNumber'\r\n                    />\r\n                  }\r\n                  message='長度需在10字內'\r\n                  error={this.getFormErrorStatus('faxNumber')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='電話1'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.phone1}\r\n                      id='phone1'\r\n                    />\r\n                  }\r\n                  message='電話1為必填,長度需在10字內'\r\n                  error={this.getFormErrorStatus('phone1')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='電話2'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.phone2}\r\n                      id='phone2'\r\n                    />\r\n                  }\r\n                  message='長度需在10字內'\r\n                  error={this.getFormErrorStatus('phone2')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='行動電話'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.cellphone}\r\n                      id='cellphone'\r\n                    />\r\n                  }\r\n                  message='長度需在10字內'\r\n                  error={this.getFormErrorStatus('cellphone')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n          <Card className='form-detail-card'>\r\n            <Row {...rowSetting}>\r\n              <Col span={24}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='地址'\r\n                  content={\r\n                    <>\r\n                      <Row type='flex' gutter={[10]}>\r\n                        <Col style={{ width: 120 }}>\r\n                          <Input\r\n                            onChange={this.onInputChange}\r\n                            value={this.state.formData.postCode}\r\n                            id='postCode'\r\n                            placeholder='郵遞區號'\r\n                          />\r\n                        </Col>\r\n                        <Col style={{ width: 'calc(100% - 120px)' }}>\r\n                          <Input\r\n                            onChange={this.onInputChange}\r\n                            value={this.state.formData.address}\r\n                            id='address'\r\n                            placeholder='地址'\r\n                          />\r\n                        </Col>\r\n                      </Row>\r\n                    </>\r\n                  }\r\n                  message='長度需在100字內'\r\n                  error={this.getFormErrorStatus('address')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n          <Card className='form-detail-card'>\r\n            <Row {...rowSetting} align='top'>\r\n              <Col span={24}>\r\n                <FormItem\r\n                  required={false}\r\n                  align='flex-start'\r\n                  title='備註1'\r\n                  content={\r\n                    <Input.TextArea\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.note1}\r\n                      id='note1'\r\n                      autoSize={{ minRows: 4, maxRows: 4 }}\r\n                    />\r\n                  }\r\n                  message='長度需在255字內'\r\n                  error={this.getFormErrorStatus('note1')}\r\n                />\r\n              </Col>\r\n              <Col span={24}>\r\n                <FormItem\r\n                  required={false}\r\n                  align='flex-start'\r\n                  title='備註2'\r\n                  content={\r\n                    <Input.TextArea\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.note2}\r\n                      id='note2'\r\n                      autoSize={{ minRows: 4, maxRows: 4 }}\r\n                    />\r\n                  }\r\n                  message='長度需在255字內'\r\n                  error={this.getFormErrorStatus('note2')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n          <div style={{ margin: '20px', textAlign: 'center' }}>\r\n            <Space>\r\n              {this.props.createFlag ? (\r\n                <>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    // disabled={!this.state.canSubmit}\r\n                    onClick={this.handleCreate.bind(this, true)}\r\n                  >\r\n                    儲存\r\n                  </Button>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    // disabled={!this.state.canSubmit}\r\n                    onClick={this.handleCreate.bind(this, false)}\r\n                  >\r\n                    儲存並繼續新增\r\n                  </Button>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    // disabled={!this.state.canSubmit}\r\n                    onClick={this.handleSubmit.bind(this, false)}\r\n                  >\r\n                    儲存\r\n                  </Button>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    // disabled={!this.state.canSubmit}\r\n                    onClick={this.handleSubmit.bind(this, true)}\r\n                  >\r\n                    儲存並返回列表\r\n                  </Button>\r\n                </>\r\n              )}\r\n              <Button danger icon={<CloseOutlined />} onClick={this.handleCancel}>\r\n                取消\r\n              </Button>\r\n            </Space>\r\n          </div>\r\n        </Spin>\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport SupplierForm from './SupplierForm'\r\n\r\nexport default class SupplierDetail extends React.Component {\r\n  render() {\r\n    return (\r\n      <SupplierForm\r\n        createFlag={this.props.createFlag}\r\n        vendorId={this.props.match.params.vendorId}\r\n      />\r\n    )\r\n  }\r\n}\r\n","import { restInstance } from '../runner/rest'\r\n\r\nexport default class CustomerAPI {\r\n  getCustomerList = (data) => {\r\n    return restInstance('get', '/customers', data).then((response) => response.data)\r\n  }\r\n\r\n  getCustomerData = (customerId) => {\r\n    return restInstance('get', `/customers/${customerId}`).then((response) => response.data)\r\n  }\r\n\r\n  addCustomerData = (data) => {\r\n    return restInstance('post', `/customers/${data.customerId}`, data).then((response) => response.data)\r\n  }\r\n\r\n  updateCustomerData = (customerId, data) => {\r\n    return restInstance('patch', `/customers/${customerId}`, data).then((response) => response.data)\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { createHashHistory } from 'history'\r\nimport { Button, Col, Input, Row, Select, Space, Table, Tooltip, Modal } from 'antd'\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\r\nimport { ListAddIcon, ListSearchIcon, ListEditIcon, ListDeleteIcon } from '../icon/Icon'\r\nimport { getPaginationSetting } from '../../component/paginationSetting'\r\nimport CustomerAPI from '../../model/api/customer'\r\n\r\nexport default class Customer extends React.Component {\r\n  history = createHashHistory()\r\n  customerAPI = new CustomerAPI()\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      search: {\r\n        id: 'CUSTOMER_ID',\r\n        keyword: ''\r\n      },\r\n      list: [],\r\n      pagination: {\r\n        current: 1,\r\n        total: 0,\r\n        pageSize: 10,\r\n        position: ['bottomLeft']\r\n      }\r\n    }\r\n    this.getList()\r\n  }\r\n\r\n  getList = () => {\r\n    const { search, pagination } = this.state\r\n    const requestData = {\r\n      pageNum: pagination.current,\r\n      pageSize: pagination.pageSize,\r\n      queryByEnum: search.id,\r\n      queryKeyWord: `%${search.keyword}%`\r\n    }\r\n    this.customerAPI\r\n      .getCustomerList(requestData)\r\n      .then((response) => {\r\n        pagination.total = response.data.total\r\n        this.setState({ loading: false, list: response.data.list, pagination })\r\n      })\r\n      .catch(() => this.setState({ loading: false }))\r\n  }\r\n\r\n  // search\r\n  onSelectChange = (value) => {\r\n    const { search } = this.state\r\n    search.id = value\r\n    this.setState({ search })\r\n  }\r\n  onInputChange = (e) => {\r\n    const { search } = this.state\r\n    search.keyword = e.target.value\r\n    this.setState({ search })\r\n  }\r\n  handleSearch = () => {\r\n    this.setState({ loading: true, list: [] }, () => this.getList())\r\n  }\r\n\r\n  getColumns = () => {\r\n    const _this = this\r\n    const { pagination } = this.state\r\n    return [\r\n      {\r\n        dataIndex: 'customerId',\r\n        title: '執行',\r\n        width: 50,\r\n        render: (customerId) => (\r\n          <Space className='list-table-option'>\r\n            <Tooltip title='編輯'>\r\n              <Button\r\n                className='list-table-option-edit'\r\n                size='small'\r\n                onClick={_this.onEdit.bind(_this, customerId)}\r\n              >\r\n                <ListEditIcon />\r\n              </Button>\r\n            </Tooltip>\r\n            <Tooltip title='刪除'>\r\n              <Button\r\n                className='list-table-option-delete'\r\n                size='small'\r\n                onClick={_this.handleDelete.bind(_this, customerId)}\r\n              >\r\n                <ListDeleteIcon />\r\n              </Button>\r\n            </Tooltip>\r\n          </Space>\r\n        )\r\n      },\r\n      {\r\n        title: '序',\r\n        width: 30,\r\n        align: 'center',\r\n        render: (a, b, i) => (pagination.current - 1) * pagination.pageSize + i + 1\r\n      },\r\n      {\r\n        title: '客戶代號',\r\n        dataIndex: 'customerId'\r\n      },\r\n      {\r\n        title: '客戶簡稱',\r\n        dataIndex: 'shortName'\r\n      },\r\n      {\r\n        title: '聯絡人',\r\n        dataIndex: 'contactPerson'\r\n      },\r\n      {\r\n        title: '地址',\r\n        dataIndex: 'address'\r\n      },\r\n      {\r\n        title: '電話1',\r\n        dataIndex: 'phone1'\r\n      },\r\n      {\r\n        title: '傳真號碼',\r\n        dataIndex: 'faxNumber'\r\n      },\r\n      {\r\n        title: '行動電話',\r\n        dataIndex: 'cellPhone'\r\n      }\r\n    ]\r\n  }\r\n\r\n  onEdit = (customerId) => {\r\n    this.history.push(`/Basic/Customer/${customerId}`)\r\n  }\r\n\r\n  handleDelete = (customerId) => {\r\n    Modal.confirm({\r\n      title: '確定要刪除此筆資料嗎',\r\n      icon: <ExclamationCircleOutlined />,\r\n      okText: '確認',\r\n      cancelText: '取消',\r\n      onOk: () => {\r\n        console.log('delete: ' + customerId)\r\n      }\r\n    })\r\n  }\r\n\r\n  onPageChange = (page, pageSize) => {\r\n    const { pagination } = this.state\r\n    pagination.current = page\r\n    pagination.pageSize = pageSize\r\n    this.setState({ loading: true, list: [] }, () => this.getList())\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className='list-header'>\r\n          <Row type='flex' justify='space-between'>\r\n            <Col>\r\n              <Button\r\n                type='primary'\r\n                icon={<ListAddIcon />}\r\n                onClick={() => this.history.push('/Basic/Customer/Add')}\r\n                className='list-header-add'\r\n              >\r\n                新增\r\n              </Button>\r\n            </Col>\r\n            <Col>\r\n              <Space>\r\n                <Select\r\n                  placeholder='搜尋欄位'\r\n                  value={this.state.search.id}\r\n                  onChange={this.onSelectChange}\r\n                >\r\n                  <Select.Option value='CUSTOMER_ID'>客戶代號</Select.Option>\r\n                  <Select.Option value='NAME'>客戶名稱</Select.Option>\r\n                </Select>\r\n                <Input placeholder='搜尋內容' allowClear={true} onChange={this.onInputChange} />\r\n                <Button\r\n                  type='primary'\r\n                  icon={<ListSearchIcon />}\r\n                  onClick={this.handleSearch}\r\n                  className='list-header-search'\r\n                >\r\n                  查詢\r\n                </Button>\r\n              </Space>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        <Table\r\n          className='list-table-wrapper'\r\n          rowKey='customerId'\r\n          size='small'\r\n          columns={this.getColumns()}\r\n          loading={this.state.loading}\r\n          dataSource={this.state.list}\r\n          pagination={getPaginationSetting(this.state.pagination, this.onPageChange)}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n","export const initData = {\r\n  customerId: '',\r\n  name: '',\r\n  shortName: '',\r\n  principal: '',\r\n  contactPerson: '',\r\n  postCode: '',\r\n  address: '',\r\n  phone1: '',\r\n  phone2: '',\r\n  faxNumber: '',\r\n  cellphone: '',\r\n  note1: '',\r\n  note2: ''\r\n}\r\n\r\nexport const formRules = [\r\n  {\r\n    key: 'customerId',\r\n    required: true,\r\n    length: [10]\r\n  },\r\n  {\r\n    key: 'name',\r\n    required: true,\r\n    length: [30]\r\n  },\r\n  {\r\n    key: 'shortName',\r\n    required: true,\r\n    length: [10]\r\n  },\r\n  {\r\n    key: 'principal',\r\n    length: [2, 10]\r\n  },\r\n  {\r\n    key: 'contactPerson',\r\n    length: [2, 10]\r\n  },\r\n  {\r\n    key: 'address',\r\n    length: [100]\r\n  },\r\n  {\r\n    key: 'phone1',\r\n    length: [10]\r\n  },\r\n  {\r\n    key: 'phone2',\r\n    length: [10]\r\n  },\r\n  {\r\n    key: 'faxNumber',\r\n    length: [10]\r\n  },\r\n  {\r\n    key: 'cellphone',\r\n    length: [10]\r\n  },\r\n  {\r\n    key: 'note1',\r\n    length: [255]\r\n  },\r\n  {\r\n    key: 'note2',\r\n    length: [255]\r\n  }\r\n]\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Breadcrumb, Card, Col, Row, Input, Button, Space, Modal, Spin, message } from 'antd'\r\nimport { FormItem } from '../../component/FormItem'\r\nimport { CheckOutlined, CloseOutlined, ExclamationCircleOutlined } from '@ant-design/icons'\r\nimport { createHashHistory } from 'history'\r\nimport { initData, formRules } from './customerType'\r\n// import addressDistrict from '../../model/resource/addressDistrict.json'\r\nimport CustomerAPI from '../../model/api/customer'\r\n\r\nexport default class CustomerForm extends React.Component {\r\n  history = createHashHistory()\r\n  customerAPI = new CustomerAPI()\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loading: !props.createFlag,\r\n      formData: { ...initData },\r\n      formStatus: JSON.parse(JSON.stringify(formRules)),\r\n      canSubmit: false\r\n    }\r\n    if (!props.createFlag) {\r\n      this.getCustomerData()\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (!prevProps.createFlag && this.props.createFlag) {\r\n      this.setState({\r\n        loading: false,\r\n        formData: { ...initData },\r\n        formStatus: JSON.parse(JSON.stringify(formRules)),\r\n        canSubmit: false\r\n      })\r\n    } else if (!this.props.createFlag && prevProps.customerId !== this.props.customerId) {\r\n      this.setState(\r\n        {\r\n          loading: true,\r\n          formData: { ...initData },\r\n          formStatus: JSON.parse(JSON.stringify(formRules)),\r\n          canSubmit: false\r\n        },\r\n        () => this.getCustomerData()\r\n      )\r\n    }\r\n  }\r\n\r\n  getCustomerData = () => {\r\n    this.customerAPI\r\n      .getCustomerData(this.props.customerId)\r\n      .then((response) => {\r\n        if (response.code === 0) {\r\n          this.setState({ loading: false, formData: response.data }, () => this.checkCanSubmit())\r\n        } else {\r\n          message.error(response.message)\r\n          this.history.push('/Basic/Customer')\r\n        }\r\n      })\r\n      .catch(() => {\r\n        message.error('Error!')\r\n        this.history.push('/Basic/Customer')\r\n      })\r\n  }\r\n\r\n  getFormErrorStatus = (key) => {\r\n    const { formStatus } = this.state\r\n    const field = formStatus.find((field) => field.key === key)\r\n    return field ? field.error : false\r\n  }\r\n\r\n  onInputChange = (event) => {\r\n    const type = event.target.getAttribute('id')\r\n    const text = event.target.value\r\n    const { formData } = this.state\r\n    formData[type] = text\r\n    this.checkData(formData, type)\r\n  }\r\n\r\n  // field validator\r\n  checkData = (formData, fieldKey) => {\r\n    const { formStatus } = this.state\r\n    const field = formStatus.find((field) => field.key === fieldKey)\r\n    if (field) {\r\n      const value = formData[fieldKey]\r\n      let error = false\r\n      if (field.required && !value) {\r\n        error = true\r\n      }\r\n      if (field.length && field.length.length > 0 && value) {\r\n        if (field.length.length === 1 && value.length > field.length[0]) {\r\n          error = true\r\n        } else if (\r\n          field.length.length > 1 &&\r\n          (value.length < field.length[0] || value.length > field.length[1])\r\n        ) {\r\n          error = true\r\n        }\r\n      }\r\n      if (field.regExp && !field.regExp.test(value)) {\r\n        error = true\r\n      }\r\n      field.error = error\r\n    }\r\n    this.setState({ formData, formStatus }, () => this.checkCanSubmit())\r\n  }\r\n  checkCanSubmit = () => {\r\n    this.setState({ canSubmit: !this.state.formStatus.some((field) => field.error) })\r\n  }\r\n\r\n  // 新增\r\n  handleCreate = (back) => {\r\n    this.setState({ loading: true }, () => {\r\n      this.customerAPI\r\n        .addCustomerData(this.state.formData)\r\n        .then((response) => {\r\n          if (response.code === 0) {\r\n            message.success('成功新增資料')\r\n            if (back) {\r\n              this.history.push('/Basic/Customer')\r\n            } else {\r\n              const layoutContent = document.getElementById('layout-content-wrapper')\r\n              layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\r\n              this.setState({\r\n                loading: false,\r\n                formData: { ...initData },\r\n                formStatus: JSON.parse(JSON.stringify(formRules)),\r\n                canSubmit: false\r\n              })\r\n            }\r\n          } else {\r\n            Modal.error({\r\n              title: response.message,\r\n              icon: <ExclamationCircleOutlined />,\r\n              okText: '確認',\r\n              cancelText: null,\r\n              onOk: () => {\r\n                this.setState({ loading: false })\r\n              }\r\n            })\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          message.error(error.response.data.message)\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n  // 修改\r\n  handleSubmit = (back) => {\r\n    this.setState({ loading: true }, () => {\r\n      this.customerAPI\r\n        .updateCustomerData(this.props.customerId, this.state.formData)\r\n        .then((response) => {\r\n          if (response.code === 0) {\r\n            message.success('成功更新資料')\r\n            if (back) {\r\n              this.history.push('/Basic/Customer')\r\n            } else {\r\n              const layoutContent = document.getElementById('layout-content-wrapper')\r\n              layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\r\n              this.getCustomerData()\r\n            }\r\n          } else {\r\n            Modal.error({\r\n              title: response.message,\r\n              icon: <ExclamationCircleOutlined />,\r\n              content: response.data.map((tip, index) => (\r\n                <>\r\n                  {index > 0 && <br />}\r\n                  {tip.split(': ')[1]}\r\n                </>\r\n              )),\r\n              okText: '確認',\r\n              cancelText: null,\r\n              onOk: () => {\r\n                this.setState({ loading: false })\r\n              }\r\n            })\r\n          }\r\n        })\r\n        .catch(() => {\r\n          message.error('資料更新失敗')\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n\r\n  handleCancel = () => {\r\n    Modal.confirm({\r\n      title: '變更尚未儲存，確定要離開嗎',\r\n      icon: <ExclamationCircleOutlined />,\r\n      okText: '確認',\r\n      cancelText: '取消',\r\n      onOk: () => {\r\n        this.history.push('/Basic/Customer')\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const rowSetting = {\r\n      gutter: [24, 24],\r\n      type: 'flex',\r\n      align: 'middle',\r\n      style: { marginBottom: 24, marginTop: 24 }\r\n    }\r\n    const colSetting = {\r\n      xs: 24,\r\n      sm: 24,\r\n      md: 24,\r\n      lg: 8\r\n    }\r\n    return (\r\n      <>\r\n        <Breadcrumb style={{ marginBottom: 10 }}>\r\n          <Breadcrumb.Item>\r\n            <Link to='/Basic/Customer'>客戶</Link>\r\n          </Breadcrumb.Item>\r\n          <Breadcrumb.Item>{this.props.createFlag ? '新增客戶' : '修改客戶資料'}</Breadcrumb.Item>\r\n        </Breadcrumb>\r\n        <Spin spinning={this.state.loading}>\r\n          <Card className='form-detail-card'>\r\n            <Row {...rowSetting}>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='客戶代號'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.customerId}\r\n                      id='customerId'\r\n                      disabled={!this.props.createFlag}\r\n                    />\r\n                  }\r\n                  message='客戶代號為必填,長度需在10字內'\r\n                  error={this.getFormErrorStatus('customerId')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='客戶名稱'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.name}\r\n                      id='name'\r\n                    />\r\n                  }\r\n                  message='客戶名稱為必填,長度需在30字內'\r\n                  error={this.getFormErrorStatus('name')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='客戶簡稱'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.shortName}\r\n                      id='shortName'\r\n                    />\r\n                  }\r\n                  message='客戶簡稱為必填,長度需在10字內'\r\n                  error={this.getFormErrorStatus('shortName')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='負責人'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.principal}\r\n                      id='principal'\r\n                    />\r\n                  }\r\n                  message='長度需在2~10字'\r\n                  error={this.getFormErrorStatus('principal')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='聯絡人'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.contactPerson}\r\n                      id='contactPerson'\r\n                    />\r\n                  }\r\n                  message='長度需在2~10字'\r\n                  error={this.getFormErrorStatus('contactPerson')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='傳真號碼'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.faxNumber}\r\n                      id='faxNumber'\r\n                    />\r\n                  }\r\n                  message='長度需在10字內'\r\n                  error={this.getFormErrorStatus('faxNumber')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='電話1'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.phone1}\r\n                      id='phone1'\r\n                    />\r\n                  }\r\n                  message='長度需在10字內'\r\n                  error={this.getFormErrorStatus('phone1')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='電話2'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.phone2}\r\n                      id='phone2'\r\n                    />\r\n                  }\r\n                  message='長度需在10字內'\r\n                  error={this.getFormErrorStatus('phone2')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='行動電話'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.cellphone}\r\n                      id='cellphone'\r\n                    />\r\n                  }\r\n                  message='長度需在10字內'\r\n                  error={this.getFormErrorStatus('cellphone')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n          <Card className='form-detail-card'>\r\n            <Row {...rowSetting}>\r\n              <Col span={24}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='地址'\r\n                  content={\r\n                    <>\r\n                      <Row type='flex' gutter={[10]}>\r\n                        <Col style={{ width: 120 }}>\r\n                          <Input\r\n                            onChange={this.onInputChange}\r\n                            value={this.state.formData.postCode}\r\n                            id='postCode'\r\n                            placeholder='郵遞區號'\r\n                          />\r\n                        </Col>\r\n                        <Col style={{ width: 'calc(100% - 120px)' }}>\r\n                          <Input\r\n                            onChange={this.onInputChange}\r\n                            value={this.state.formData.address}\r\n                            id='address'\r\n                            placeholder='地址'\r\n                          />\r\n                        </Col>\r\n                      </Row>\r\n                    </>\r\n                  }\r\n                  message='長度需在100字內'\r\n                  error={this.getFormErrorStatus('address')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n          <Card className='form-detail-card'>\r\n            <Row {...rowSetting} align='top'>\r\n              <Col span={24}>\r\n                <FormItem\r\n                  required={false}\r\n                  align='flex-start'\r\n                  title='備註1'\r\n                  content={\r\n                    <Input.TextArea\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.note1}\r\n                      id='note1'\r\n                      autoSize={{ minRows: 4, maxRows: 4 }}\r\n                    />\r\n                  }\r\n                  message='長度需在255字內'\r\n                  error={this.getFormErrorStatus('note1')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n            <Row {...rowSetting}>\r\n              <Col span={24}>\r\n                <FormItem\r\n                  required={false}\r\n                  align='flex-start'\r\n                  title='備註2'\r\n                  content={\r\n                    <Input.TextArea\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.note2}\r\n                      id='note2'\r\n                      autoSize={{ minRows: 4, maxRows: 4 }}\r\n                    />\r\n                  }\r\n                  message='長度需在255字內'\r\n                  error={this.getFormErrorStatus('note2')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n          <div style={{ margin: '20px', textAlign: 'center' }}>\r\n            <Space>\r\n              {this.props.createFlag ? (\r\n                <>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    // disabled={!this.state.canSubmit}\r\n                    onClick={this.handleCreate.bind(this, true)}\r\n                  >\r\n                    儲存\r\n                  </Button>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    // disabled={!this.state.canSubmit}\r\n                    onClick={this.handleCreate.bind(this, false)}\r\n                  >\r\n                    儲存並繼續新增\r\n                  </Button>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    // disabled={!this.state.canSubmit}\r\n                    onClick={this.handleSubmit.bind(this, false)}\r\n                  >\r\n                    儲存\r\n                  </Button>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    // disabled={!this.state.canSubmit}\r\n                    onClick={this.handleSubmit.bind(this, true)}\r\n                  >\r\n                    儲存並返回列表\r\n                  </Button>\r\n                </>\r\n              )}\r\n              <Button danger icon={<CloseOutlined />} onClick={this.handleCancel}>\r\n                取消\r\n              </Button>\r\n            </Space>\r\n          </div>\r\n        </Spin>\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport CustomerForm from './CustomerForm'\r\n\r\nexport default class CustomerDetail extends React.Component {\r\n  render() {\r\n    return (\r\n      <CustomerForm\r\n        createFlag={this.props.createFlag}\r\n        customerId={this.props.match.params.customerId}\r\n      />\r\n    )\r\n  }\r\n}\r\n","import { restInstance } from '../runner/rest'\r\n\r\nexport default class EmployeeAPI {\r\n  getEmployeeList = (data) => {\r\n    return restInstance('get', '/employees', data).then((response) => response.data)\r\n  }\r\n\r\n  getEmployeeData = (employeeId) => {\r\n    return restInstance('get', `/employees/${employeeId}`).then((response) => response.data)\r\n  }\r\n\r\n  addEmployeeData = (data) => {\r\n    return restInstance('post', `/employees/${data.employeeId}`, data).then((response) => response.data)\r\n  }\r\n\r\n  updateEmployeeData = (employeeId, data) => {\r\n    return restInstance('patch', `/employees/${employeeId}`, data).then((response) => response.data)\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { createHashHistory } from 'history'\r\nimport { Button, Col, Input, Row, Select, Space, Table, Tooltip, Modal } from 'antd'\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\r\nimport { ListAddIcon, ListSearchIcon, ListEditIcon, ListDeleteIcon } from '../icon/Icon'\r\nimport { getPaginationSetting } from '../../component/paginationSetting'\r\nimport EmployeeAPI from '../../model/api/employee'\r\n\r\nexport default class Customer extends React.Component {\r\n  history = createHashHistory()\r\n  employeeAPI = new EmployeeAPI()\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      search: {\r\n        id: 'EMPLOYEE_ID',\r\n        keyword: ''\r\n      },\r\n      list: [],\r\n      pagination: {\r\n        current: 1,\r\n        total: 0,\r\n        pageSize: 10,\r\n        position: ['bottomLeft']\r\n      }\r\n    }\r\n    this.getList()\r\n  }\r\n\r\n  getList = () => {\r\n    const { search, pagination } = this.state\r\n    const requestData = {\r\n      pageNum: pagination.current,\r\n      pageSize: pagination.pageSize,\r\n      queryByEnum: search.id,\r\n      queryKeyWord: `%${search.keyword}%`\r\n    }\r\n    this.employeeAPI\r\n      .getEmployeeList(requestData)\r\n      .then((response) => {\r\n        pagination.total = response.data.total\r\n        this.setState({ loading: false, list: response.data.list, pagination })\r\n      })\r\n      .catch(() => this.setState({ loading: false }))\r\n  }\r\n\r\n  // search\r\n  onSelectChange = (value) => {\r\n    const { search } = this.state\r\n    search.id = value\r\n    this.setState({ search })\r\n  }\r\n  onInputChange = (e) => {\r\n    const { search } = this.state\r\n    search.keyword = e.target.value\r\n    this.setState({ search })\r\n  }\r\n  handleSearch = () => {\r\n    this.setState({ loading: true, list: [] }, () => this.getList())\r\n  }\r\n\r\n  getColumns = () => {\r\n    const _this = this\r\n    const { pagination } = this.state\r\n    return [\r\n      {\r\n        dataIndex: 'employeeId',\r\n        title: '執行',\r\n        width: 50,\r\n        render: (employeeId) => (\r\n          <Space className='list-table-option'>\r\n            <Tooltip title='編輯'>\r\n              <Button\r\n                className='list-table-option-edit'\r\n                size='small'\r\n                onClick={_this.onEdit.bind(_this, employeeId)}\r\n              >\r\n                <ListEditIcon />\r\n              </Button>\r\n            </Tooltip>\r\n            <Tooltip title='刪除'>\r\n              <Button\r\n                className='list-table-option-delete'\r\n                size='small'\r\n                onClick={_this.handleDelete.bind(_this, employeeId)}\r\n              >\r\n                <ListDeleteIcon />\r\n              </Button>\r\n            </Tooltip>\r\n          </Space>\r\n        )\r\n      },\r\n      {\r\n        title: '序',\r\n        width: 30,\r\n        align: 'center',\r\n        render: (a, b, i) => (pagination.current - 1) * pagination.pageSize + i + 1\r\n      },\r\n      {\r\n        title: '員工編號',\r\n        dataIndex: 'employeeId'\r\n      },\r\n      {\r\n        title: '姓名',\r\n        dataIndex: 'name'\r\n      },\r\n      {\r\n        title: '手機號碼',\r\n        dataIndex: 'cellPhone'\r\n      },\r\n      {\r\n        title: '市內電話',\r\n        dataIndex: 'phone'\r\n      }\r\n    ]\r\n  }\r\n\r\n  onEdit = (employeeId) => {\r\n    this.history.push(`/Basic/Employee/${employeeId}`)\r\n  }\r\n\r\n  handleDelete = (employeeId) => {\r\n    Modal.confirm({\r\n      title: '確定要刪除此筆資料嗎',\r\n      icon: <ExclamationCircleOutlined />,\r\n      okText: '確認',\r\n      cancelText: '取消',\r\n      onOk: () => {\r\n        console.log('delete: ' + employeeId)\r\n      }\r\n    })\r\n  }\r\n\r\n  onPageChange = (page, pageSize) => {\r\n    const { pagination } = this.state\r\n    pagination.current = page\r\n    pagination.pageSize = pageSize\r\n    this.setState({ loading: true, list: [] }, () => this.getList())\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className='list-header'>\r\n          <Row type='flex' justify='space-between'>\r\n            <Col>\r\n              <Button\r\n                type='primary'\r\n                icon={<ListAddIcon />}\r\n                onClick={() => this.history.push('/Basic/Employee/Add')}\r\n                className='list-header-add'\r\n              >\r\n                新增\r\n              </Button>\r\n            </Col>\r\n            <Col>\r\n              <Space>\r\n                <Select\r\n                  placeholder='搜尋欄位'\r\n                  value={this.state.search.id}\r\n                  onChange={this.onSelectChange}\r\n                >\r\n                  <Select.Option value='EMPLOYEE_ID'>員工編號</Select.Option>\r\n                  <Select.Option value='NAME'>姓名</Select.Option>\r\n                </Select>\r\n                <Input placeholder='搜尋內容' allowClear={true} onChange={this.onInputChange} />\r\n                <Button\r\n                  type='primary'\r\n                  icon={<ListSearchIcon />}\r\n                  onClick={this.handleSearch}\r\n                  className='list-header-search'\r\n                >\r\n                  查詢\r\n                </Button>\r\n              </Space>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        <Table\r\n          className='list-table-wrapper'\r\n          rowKey='employeeId'\r\n          size='small'\r\n          columns={this.getColumns()}\r\n          loading={this.state.loading}\r\n          dataSource={this.state.list}\r\n          pagination={getPaginationSetting(this.state.pagination, this.onPageChange)}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n","export const initData = {\r\n  employeeId: '',\r\n  identityCardNumber: '',\r\n  name: '',\r\n  birthday: null,\r\n  address: '',\r\n  cellphone: '',\r\n  phone: '',\r\n  takeOfficeDay: null,\r\n  education: '',\r\n  experience: '',\r\n  note: '',\r\n  salary: null,\r\n  extraBonus: null,\r\n  fullAttendanceBonus: null\r\n}\r\n\r\nexport const formRules = [\r\n  {\r\n    key: 'employeeId',\r\n    required: true,\r\n    length: [10]\r\n  },\r\n  {\r\n    key: 'identityCardNumber',\r\n    required: true,\r\n    length: [10]\r\n  },\r\n  {\r\n    key: 'name',\r\n    required: true,\r\n    length: [30]\r\n  },\r\n  {\r\n    key: 'address',\r\n    length: [100]\r\n  },\r\n  {\r\n    key: 'cellphone',\r\n    length: [10]\r\n  },\r\n  {\r\n    key: 'phone',\r\n    length: [10]\r\n  },\r\n  {\r\n    key: 'education',\r\n    length: [10]\r\n  },\r\n  {\r\n    key: 'experience',\r\n    length: [10]\r\n  },\r\n  {\r\n    key: 'note',\r\n    length: [255]\r\n  }\r\n]\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport {\r\n  Breadcrumb,\r\n  Card,\r\n  Col,\r\n  Row,\r\n  Input,\r\n  InputNumber,\r\n  DatePicker,\r\n  Button,\r\n  Space,\r\n  Modal,\r\n  Spin,\r\n  message\r\n} from 'antd'\r\nimport { FormItem } from '../../component/FormItem'\r\nimport { CheckOutlined, CloseOutlined, ExclamationCircleOutlined } from '@ant-design/icons'\r\nimport moment from 'moment'\r\nimport { createHashHistory } from 'history'\r\nimport { initData, formRules } from './employeeType'\r\n// import addressDistrict from '../../model/resource/addressDistrict.json'\r\nimport EmployeeAPI from '../../model/api/employee'\r\n\r\nexport default class EmployeeForm extends React.Component {\r\n  history = createHashHistory()\r\n  employeeAPI = new EmployeeAPI()\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loading: !props.createFlag,\r\n      formData: { ...initData },\r\n      formStatus: JSON.parse(JSON.stringify(formRules)),\r\n      canSubmit: false\r\n    }\r\n    if (!props.createFlag) {\r\n      this.getEmployeeData()\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (!prevProps.createFlag && this.props.createFlag) {\r\n      this.setState({\r\n        loading: false,\r\n        formData: { ...initData },\r\n        formStatus: JSON.parse(JSON.stringify(formRules)),\r\n        canSubmit: false\r\n      })\r\n    } else if (!this.props.createFlag && prevProps.employeeId !== this.props.employeeId) {\r\n      this.setState(\r\n        {\r\n          loading: true,\r\n          formData: { ...initData },\r\n          formStatus: JSON.parse(JSON.stringify(formRules)),\r\n          canSubmit: false\r\n        },\r\n        () => this.getEmployeeData()\r\n      )\r\n    }\r\n  }\r\n\r\n  getEmployeeData = () => {\r\n    this.employeeAPI\r\n      .getEmployeeData(this.props.employeeId)\r\n      .then((response) => {\r\n        if (response.code === 0) {\r\n          this.setState(\r\n            {\r\n              loading: false,\r\n              formData: {\r\n                ...response.data,\r\n                birthday: moment(response.data.birthday, 'YYYY-MM-DD').valueOf(),\r\n                takeOfficeDay: moment(response.data.takeOfficeDay, 'YYYY-MM-DD').valueOf()\r\n              }\r\n            },\r\n            () => this.checkCanSubmit()\r\n          )\r\n        } else {\r\n          message.error(response.message)\r\n          this.history.push('/Basic/Employee')\r\n        }\r\n      })\r\n      .catch(() => {\r\n        message.error('Error!')\r\n        this.history.push('/Basic/Employee')\r\n      })\r\n  }\r\n\r\n  getFormErrorStatus = (key) => {\r\n    const { formStatus } = this.state\r\n    const field = formStatus.find((field) => field.key === key)\r\n    return field ? field.error : false\r\n  }\r\n\r\n  onInputChange = (event) => {\r\n    const type = event.target.getAttribute('id')\r\n    const text = event.target.value\r\n    const { formData } = this.state\r\n    formData[type] = text\r\n    this.checkData(formData, type)\r\n  }\r\n  onDateChange = (type, date) => {\r\n    const { formData } = this.state\r\n    formData[type] = moment(date).valueOf()\r\n    this.checkData(formData, type)\r\n  }\r\n  onNumberChange = (type, value) => {\r\n    const { formData } = this.state\r\n    formData[type] = value\r\n    this.checkData(formData, type)\r\n  }\r\n\r\n  // field validator\r\n  checkData = (formData, fieldKey) => {\r\n    const { formStatus } = this.state\r\n    const field = formStatus.find((field) => field.key === fieldKey)\r\n    if (field) {\r\n      const value = formData[fieldKey]\r\n      let error = false\r\n      if (field.required && !value) {\r\n        error = true\r\n      }\r\n      if (field.length && field.length.length > 0 && value) {\r\n        if (field.length.length === 1 && value.length > field.length[0]) {\r\n          error = true\r\n        } else if (\r\n          field.length.length > 1 &&\r\n          (value.length < field.length[0] || value.length > field.length[1])\r\n        ) {\r\n          error = true\r\n        }\r\n      }\r\n      if (field.regExp && !field.regExp.test(value)) {\r\n        error = true\r\n      }\r\n      field.error = error\r\n    }\r\n    this.setState({ formData, formStatus }, () => this.checkCanSubmit())\r\n  }\r\n  checkCanSubmit = () => {\r\n    this.setState({ canSubmit: !this.state.formStatus.some((field) => field.error) })\r\n  }\r\n\r\n  // 新增\r\n  handleCreate = (back) => {\r\n    this.setState({ loading: true }, () => {\r\n      this.employeeAPI\r\n        .addEmployeeData(this.state.formData)\r\n        .then((response) => {\r\n          if (response.code === 0) {\r\n            message.success('成功新增資料')\r\n            if (back) {\r\n              this.history.push('/Basic/Employee')\r\n            } else {\r\n              const layoutContent = document.getElementById('layout-content-wrapper')\r\n              layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\r\n              this.setState({\r\n                loading: false,\r\n                formData: { ...initData },\r\n                formStatus: JSON.parse(JSON.stringify(formRules)),\r\n                canSubmit: false\r\n              })\r\n            }\r\n          } else {\r\n            Modal.error({\r\n              title: response.message,\r\n              icon: <ExclamationCircleOutlined />,\r\n              okText: '確認',\r\n              cancelText: null,\r\n              onOk: () => {\r\n                this.setState({ loading: false })\r\n              }\r\n            })\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          message.error(error.response.data.message)\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n  // 修改\r\n  handleSubmit = (back) => {\r\n    this.setState({ loading: true }, () => {\r\n      this.employeeAPI\r\n        .updateEmployeeData(this.props.employeeId, {\r\n          ...this.state.formData,\r\n          birthday: moment(this.state.formData.birthday).format('YYYY-MM-DD'),\r\n          takeOfficeDay: moment(this.state.formData.takeOfficeDay).format('YYYY-MM-DD')\r\n        })\r\n        .then((response) => {\r\n          if (response.code === 0) {\r\n            message.success('成功更新資料')\r\n            if (back) {\r\n              this.history.push('/Basic/Employee')\r\n            } else {\r\n              const layoutContent = document.getElementById('layout-content-wrapper')\r\n              layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\r\n              this.getEmployeeData()\r\n            }\r\n          } else {\r\n            Modal.error({\r\n              title: response.message,\r\n              icon: <ExclamationCircleOutlined />,\r\n              content: response.data.map((tip, index) => (\r\n                <>\r\n                  {index > 0 && <br />}\r\n                  {tip.split(': ')[1]}\r\n                </>\r\n              )),\r\n              okText: '確認',\r\n              cancelText: null,\r\n              onOk: () => {\r\n                this.setState({ loading: false })\r\n              }\r\n            })\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          message.error('資料更新失敗')\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n\r\n  handleCancel = () => {\r\n    Modal.confirm({\r\n      title: '變更尚未儲存，確定要離開嗎',\r\n      icon: <ExclamationCircleOutlined />,\r\n      okText: '確認',\r\n      cancelText: '取消',\r\n      onOk: () => {\r\n        this.history.push('/Basic/Employee')\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const rowSetting = {\r\n      gutter: [24, 24],\r\n      type: 'flex',\r\n      align: 'middle',\r\n      style: { marginBottom: 24, marginTop: 24 }\r\n    }\r\n    const colSetting = {\r\n      xs: 24,\r\n      sm: 24,\r\n      md: 24,\r\n      lg: 8\r\n    }\r\n    return (\r\n      <>\r\n        <Breadcrumb style={{ marginBottom: 10 }}>\r\n          <Breadcrumb.Item>\r\n            <Link to='/Basic/Employee'>員工</Link>\r\n          </Breadcrumb.Item>\r\n          <Breadcrumb.Item>{this.props.createFlag ? '新增員工' : '修改員工資料'}</Breadcrumb.Item>\r\n        </Breadcrumb>\r\n        <Spin spinning={this.state.loading}>\r\n          <Card className='form-detail-card'>\r\n            <Row {...rowSetting}>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='員工編號'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.employeeId}\r\n                      id='employeeId'\r\n                      disabled={!this.props.createFlag}\r\n                    />\r\n                  }\r\n                  message='員工編號為必填,長度需在10字內'\r\n                  error={this.getFormErrorStatus('employeeId')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='身分證號'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.identityCardNumber}\r\n                      id='identityCardNumber'\r\n                    />\r\n                  }\r\n                  message='身分證號為必填,長度需在10字內'\r\n                  error={this.getFormErrorStatus('identityCardNumber')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='姓名'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.name}\r\n                      id='name'\r\n                    />\r\n                  }\r\n                  message='姓名為必填,長度需在30字內'\r\n                  error={this.getFormErrorStatus('name')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='出生年月日'\r\n                  content={\r\n                    <DatePicker\r\n                      onChange={this.onDateChange.bind(this, 'birthday')}\r\n                      value={\r\n                        !this.state.formData.birthday\r\n                          ? undefined\r\n                          : moment(this.state.formData.birthday)\r\n                      }\r\n                      format='YYYY-MM-DD'\r\n                      placeholder=''\r\n                      style={{ display: 'block' }}\r\n                    />\r\n                  }\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='手機號碼'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.cellphone}\r\n                      id='cellphone'\r\n                    />\r\n                  }\r\n                  message='長度需在10字內'\r\n                  error={this.getFormErrorStatus('cellphone')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='市內電話'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.phone}\r\n                      id='phone'\r\n                    />\r\n                  }\r\n                  message='長度需在10字內'\r\n                  error={this.getFormErrorStatus('phone')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='就職日期'\r\n                  content={\r\n                    <DatePicker\r\n                      onChange={this.onDateChange.bind(this, 'takeOfficeDay')}\r\n                      value={\r\n                        !this.state.formData.takeOfficeDay\r\n                          ? undefined\r\n                          : moment(this.state.formData.takeOfficeDay)\r\n                      }\r\n                      format='YYYY-MM-DD'\r\n                      placeholder=''\r\n                      style={{ display: 'block' }}\r\n                    />\r\n                  }\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='學歷'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.education}\r\n                      id='education'\r\n                    />\r\n                  }\r\n                  message='長度需在10字內'\r\n                  error={this.getFormErrorStatus('education')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='薪資'\r\n                  content={\r\n                    <InputNumber\r\n                      onChange={this.onNumberChange.bind(this, 'salary')}\r\n                      value={this.state.formData.salary}\r\n                      min={0}\r\n                      max={999999}\r\n                      step={1}\r\n                      style={{ display: 'block', width: '100%' }}\r\n                    />\r\n                  }\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='職務津貼'\r\n                  content={\r\n                    <InputNumber\r\n                      onChange={this.onNumberChange.bind(this, 'extraBonus')}\r\n                      value={this.state.formData.extraBonus}\r\n                      min={0}\r\n                      max={999999}\r\n                      step={1}\r\n                      style={{ display: 'block', width: '100%' }}\r\n                    />\r\n                  }\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='全勤津貼'\r\n                  content={\r\n                    <InputNumber\r\n                      onChange={this.onNumberChange.bind(this, 'fullAttendanceBonus')}\r\n                      value={this.state.formData.fullAttendanceBonus}\r\n                      min={0}\r\n                      max={999999}\r\n                      step={1}\r\n                      style={{ display: 'block', width: '100%' }}\r\n                    />\r\n                  }\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n          <Card className='form-detail-card'>\r\n            <Row {...rowSetting}>\r\n              <Col span={24}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='地址'\r\n                  content={\r\n                    <>\r\n                      <Row type='flex' gutter={[10]}>\r\n                        <Col style={{ width: 120 }}>\r\n                          <Input\r\n                            onChange={this.onInputChange}\r\n                            value={this.state.formData.postCode}\r\n                            id='postCode'\r\n                            placeholder='郵遞區號'\r\n                          />\r\n                        </Col>\r\n                        <Col style={{ width: 'calc(100% - 120px)' }}>\r\n                          <Input\r\n                            onChange={this.onInputChange}\r\n                            value={this.state.formData.address}\r\n                            id='address'\r\n                            placeholder='地址'\r\n                          />\r\n                        </Col>\r\n                      </Row>\r\n                    </>\r\n                  }\r\n                  message='長度需在100字內'\r\n                  error={this.getFormErrorStatus('address')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n          <Card className='form-detail-card'>\r\n            <Row {...rowSetting} align='top'>\r\n              <Col span={24}>\r\n                <FormItem\r\n                  required={false}\r\n                  align='flex-start'\r\n                  title='經歷'\r\n                  content={\r\n                    <Input.TextArea\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.experience}\r\n                      id='experience'\r\n                      autoSize={{ minRows: 4, maxRows: 4 }}\r\n                    />\r\n                  }\r\n                  message='長度需在255字內'\r\n                  error={this.getFormErrorStatus('experience')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n            <Row {...rowSetting}>\r\n              <Col span={24}>\r\n                <FormItem\r\n                  required={false}\r\n                  align='flex-start'\r\n                  title='備註'\r\n                  content={\r\n                    <Input.TextArea\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.note}\r\n                      id='note'\r\n                      autoSize={{ minRows: 4, maxRows: 4 }}\r\n                    />\r\n                  }\r\n                  message='長度需在255字內'\r\n                  error={this.getFormErrorStatus('note')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n          <div style={{ margin: '20px', textAlign: 'center' }}>\r\n            <Space>\r\n              {this.props.createFlag ? (\r\n                <>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    // disabled={!this.state.canSubmit}\r\n                    onClick={this.handleCreate.bind(this, true)}\r\n                  >\r\n                    儲存\r\n                  </Button>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    // disabled={!this.state.canSubmit}\r\n                    onClick={this.handleCreate.bind(this, false)}\r\n                  >\r\n                    儲存並繼續新增\r\n                  </Button>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    // disabled={!this.state.canSubmit}\r\n                    onClick={this.handleSubmit.bind(this, false)}\r\n                  >\r\n                    儲存\r\n                  </Button>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    // disabled={!this.state.canSubmit}\r\n                    onClick={this.handleSubmit.bind(this, true)}\r\n                  >\r\n                    儲存並返回列表\r\n                  </Button>\r\n                </>\r\n              )}\r\n              <Button danger icon={<CloseOutlined />} onClick={this.handleCancel}>\r\n                取消\r\n              </Button>\r\n            </Space>\r\n          </div>\r\n        </Spin>\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport EmployeeForm from './EmployeeForm'\r\n\r\nexport default class EmployeeDetail extends React.Component {\r\n  render() {\r\n    return (\r\n      <EmployeeForm\r\n        createFlag={this.props.createFlag}\r\n        employeeId={this.props.match.params.employeeId}\r\n      />\r\n    )\r\n  }\r\n}\r\n","import { restInstance } from '../runner/rest'\r\n\r\nexport default class VehicleAPI {\r\n  getVehicleList = (data) => {\r\n    return restInstance('get', '/kinds', data).then((response) => response.data)\r\n  }\r\n\r\n  getVehicleData = (kindId) => {\r\n    return restInstance('get', `/kinds/${kindId}`).then((response) => response.data)\r\n  }\r\n\r\n  addVehicleData = (data) => {\r\n    return restInstance('post', `/kinds/${data.kindId}`, data).then((response) => response.data)\r\n  }\r\n\r\n  updateVehicleData = (kindId, data) => {\r\n    return restInstance('patch', `/kinds/${kindId}`, data).then((response) => response.data)\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { createHashHistory } from 'history'\r\nimport { Button, Col, Input, Row, Space, Table, Tooltip, Modal } from 'antd'\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\r\nimport { ListAddIcon, ListSearchIcon, ListEditIcon, ListDeleteIcon } from '../icon/Icon'\r\nimport { getPaginationSetting } from '../../component/paginationSetting'\r\nimport VehicleAPI from '../../model/api/vehicle'\r\n\r\nexport default class Vehicle extends React.Component {\r\n  history = createHashHistory()\r\n  vehicleAPI = new VehicleAPI()\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      search: {\r\n        keyword: ''\r\n      },\r\n      list: [],\r\n      pagination: {\r\n        current: 1,\r\n        total: 0,\r\n        pageSize: 10,\r\n        position: ['bottomLeft']\r\n      }\r\n    }\r\n    this.getList()\r\n  }\r\n\r\n  getList = () => {\r\n    const { search, pagination } = this.state\r\n    const requestData = {\r\n      pageNum: pagination.current,\r\n      pageSize: pagination.pageSize,\r\n      kindIdLike: `%${search.keyword}%`\r\n    }\r\n    this.vehicleAPI\r\n      .getVehicleList(requestData)\r\n      .then((response) => {\r\n        pagination.total = response.data.total\r\n        this.setState({ loading: false, list: response.data.list, pagination })\r\n      })\r\n      .catch(() => this.setState({ loading: false }))\r\n  }\r\n\r\n  // search\r\n  onInputChange = (e) => {\r\n    const { search } = this.state\r\n    search.keyword = e.target.value\r\n    this.setState({ search })\r\n  }\r\n  handleSearch = () => {\r\n    this.setState({ loading: true }, () => this.getList())\r\n  }\r\n\r\n  getColumns = () => {\r\n    const _this = this\r\n    const { pagination } = this.state\r\n    return [\r\n      {\r\n        dataIndex: 'kindId',\r\n        title: '執行',\r\n        width: 50,\r\n        render: (kindId) => (\r\n          <Space className='list-table-option'>\r\n            <Tooltip title='編輯'>\r\n              <Button\r\n                className='list-table-option-edit'\r\n                size='small'\r\n                onClick={_this.onEdit.bind(_this, kindId)}\r\n              >\r\n                <ListEditIcon />\r\n              </Button>\r\n            </Tooltip>\r\n            <Tooltip title='刪除'>\r\n              <Button\r\n                className='list-table-option-delete'\r\n                size='small'\r\n                onClick={_this.handleDelete.bind(_this, kindId)}\r\n              >\r\n                <ListDeleteIcon />\r\n              </Button>\r\n            </Tooltip>\r\n          </Space>\r\n        )\r\n      },\r\n      {\r\n        title: '序',\r\n        width: 30,\r\n        align: 'center',\r\n        render: (a, b, i) => (pagination.current - 1) * pagination.pageSize + i + 1\r\n      },\r\n      {\r\n        title: '車種代號',\r\n        dataIndex: 'kindId'\r\n      },\r\n      {\r\n        title: '車種簡稱',\r\n        dataIndex: 'shortName'\r\n      },\r\n      {\r\n        title: '車種名稱',\r\n        dataIndex: 'name'\r\n      },\r\n      {\r\n        title: '車廠',\r\n        dataIndex: 'factory'\r\n      }\r\n    ]\r\n  }\r\n\r\n  onEdit = (kindId) => {\r\n    this.history.push(`/Parts/Vehicle/${kindId}`)\r\n  }\r\n\r\n  handleDelete = (kindId) => {\r\n    Modal.confirm({\r\n      title: '確定要刪除此筆資料嗎',\r\n      icon: <ExclamationCircleOutlined />,\r\n      okText: '確認',\r\n      cancelText: '取消',\r\n      onOk: () => {\r\n        console.log('delete: ' + kindId)\r\n      }\r\n    })\r\n  }\r\n\r\n  onPageChange = (page, pageSize) => {\r\n    const { pagination } = this.state\r\n    pagination.current = page\r\n    pagination.pageSize = pageSize\r\n    this.setState({ loading: true }, () => this.getList())\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className='list-header'>\r\n          <Row type='flex' justify='space-between'>\r\n            <Col>\r\n              <Button\r\n                type='primary'\r\n                icon={<ListAddIcon />}\r\n                onClick={() => this.history.push('/Parts/Vehicle/Add')}\r\n                className='list-header-add'\r\n              >\r\n                新增\r\n              </Button>\r\n            </Col>\r\n            <Col>\r\n              <Space>\r\n                <Input\r\n                  placeholder='搜尋車種代號'\r\n                  allowClear={true}\r\n                  onChange={this.onInputChange}\r\n                  style={{ width: 140 }}\r\n                />\r\n                <Button\r\n                  type='primary'\r\n                  icon={<ListSearchIcon />}\r\n                  onClick={this.handleSearch}\r\n                  className='list-header-search'\r\n                >\r\n                  查詢\r\n                </Button>\r\n              </Space>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        <Table\r\n          className='list-table-wrapper'\r\n          rowKey='vendorId'\r\n          size='small'\r\n          columns={this.getColumns()}\r\n          loading={this.state.loading}\r\n          dataSource={this.state.list}\r\n          pagination={getPaginationSetting(this.state.pagination, this.onPageChange)}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n","export const initData = {\r\n  kindId: '',\r\n  name: '',\r\n  shortName: '',\r\n  factory: ''\r\n}\r\n\r\nexport const formRules = [\r\n  {\r\n    key: 'kindId',\r\n    required: true,\r\n    length: [8]\r\n  },\r\n  {\r\n    key: 'name',\r\n    required: true,\r\n    length: [20]\r\n  },\r\n  {\r\n    key: 'shortName',\r\n    required: true,\r\n    length: [15]\r\n  },\r\n  {\r\n    key: 'factory',\r\n    length: [3]\r\n  }\r\n]\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Breadcrumb, Card, Col, Row, Input, Button, Space, Modal, Spin, message } from 'antd'\r\nimport { FormItem } from '../../component/FormItem'\r\nimport { CheckOutlined, CloseOutlined, ExclamationCircleOutlined } from '@ant-design/icons'\r\nimport { createHashHistory } from 'history'\r\nimport { initData, formRules } from './vehicleType'\r\n// import addressDistrict from '../../model/resource/addressDistrict.json'\r\nimport VehicleAPI from '../../model/api/vehicle'\r\n\r\nexport default class VehicleForm extends React.Component {\r\n  history = createHashHistory()\r\n  vehicleAPI = new VehicleAPI()\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loading: !props.createFlag,\r\n      formData: { ...initData },\r\n      formStatus: JSON.parse(JSON.stringify(formRules)),\r\n      canSubmit: false\r\n    }\r\n    if (!props.createFlag) {\r\n      this.getVehicleData()\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (!prevProps.createFlag && this.props.createFlag) {\r\n      this.setState({\r\n        loading: false,\r\n        formData: { ...initData },\r\n        formStatus: JSON.parse(JSON.stringify(formRules)),\r\n        canSubmit: false\r\n      })\r\n    } else if (!this.props.createFlag && prevProps.kindId !== this.props.kindId) {\r\n      this.setState(\r\n        {\r\n          loading: true,\r\n          formData: { ...initData },\r\n          formStatus: JSON.parse(JSON.stringify(formRules)),\r\n          canSubmit: false\r\n        },\r\n        () => this.getVehicleData()\r\n      )\r\n    }\r\n  }\r\n\r\n  getVehicleData = () => {\r\n    this.vehicleAPI\r\n      .getVehicleData(this.props.kindId)\r\n      .then((response) => {\r\n        if (response.code === 0) {\r\n          this.setState({ loading: false, formData: response.data }, () => this.checkCanSubmit())\r\n        } else {\r\n          message.error(response.message)\r\n          this.history.push('/Parts/Vehicle')\r\n        }\r\n      })\r\n      .catch(() => {\r\n        message.error('Error!')\r\n        this.history.push('/Parts/Vehicle')\r\n      })\r\n  }\r\n\r\n  getFormErrorStatus = (key) => {\r\n    const { formStatus } = this.state\r\n    const field = formStatus.find((field) => field.key === key)\r\n    return field ? field.error : false\r\n  }\r\n\r\n  onInputChange = (event) => {\r\n    const type = event.target.getAttribute('id')\r\n    const text = event.target.value\r\n    const { formData } = this.state\r\n    formData[type] = text\r\n    this.checkData(formData, type)\r\n  }\r\n\r\n  // field validator\r\n  checkData = (formData, fieldKey) => {\r\n    const { formStatus } = this.state\r\n    const field = formStatus.find((field) => field.key === fieldKey)\r\n    if (field) {\r\n      const value = formData[fieldKey]\r\n      let error = false\r\n      if (field.required && !value) {\r\n        error = true\r\n      }\r\n      if (field.length && field.length.length > 0 && value) {\r\n        if (field.length.length === 1 && value.length > field.length[0]) {\r\n          error = true\r\n        } else if (\r\n          field.length.length > 1 &&\r\n          (value.length < field.length[0] || value.length > field.length[1])\r\n        ) {\r\n          error = true\r\n        }\r\n      }\r\n      if (field.regExp && !field.regExp.test(value)) {\r\n        error = true\r\n      }\r\n      field.error = error\r\n    }\r\n    this.setState({ formData, formStatus }, () => this.checkCanSubmit())\r\n  }\r\n  checkCanSubmit = () => {\r\n    this.setState({ canSubmit: !this.state.formStatus.some((field) => field.error) })\r\n  }\r\n\r\n  // 新增\r\n  handleCreate = (back) => {\r\n    this.setState({ loading: true }, () => {\r\n      this.vehicleAPI\r\n        .addVehicleData(this.state.formData)\r\n        .then((response) => {\r\n          if (response.code === 0) {\r\n            message.success('成功新增資料')\r\n            if (back) {\r\n              this.history.push('/Basic/Vehicle')\r\n            } else {\r\n              const layoutContent = document.getElementById('layout-content-wrapper')\r\n              layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\r\n              this.setState({\r\n                loading: false,\r\n                formData: { ...initData },\r\n                formStatus: JSON.parse(JSON.stringify(formRules)),\r\n                canSubmit: false\r\n              })\r\n            }\r\n          } else {\r\n            Modal.error({\r\n              title: response.message,\r\n              icon: <ExclamationCircleOutlined />,\r\n              okText: '確認',\r\n              cancelText: null,\r\n              onOk: () => {\r\n                this.setState({ loading: false })\r\n              }\r\n            })\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          message.error(error.response.data.message)\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n  // 修改\r\n  handleSubmit = (back) => {\r\n    this.setState({ loading: true }, () => {\r\n      this.vehicleAPI\r\n        .updateVehicleData(this.props.kindId, this.state.formData)\r\n        .then((response) => {\r\n          if (response.code === 0) {\r\n            message.success('成功更新資料')\r\n            if (back) {\r\n              this.history.push('/Parts/Vehicle')\r\n            } else {\r\n              const layoutContent = document.getElementById('layout-content-wrapper')\r\n              layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\r\n              this.getVehicleData()\r\n            }\r\n          } else {\r\n            Modal.error({\r\n              title: response.message,\r\n              icon: <ExclamationCircleOutlined />,\r\n              content: response.data.map((tip, index) => (\r\n                <>\r\n                  {index > 0 && <br />}\r\n                  {tip.split(': ')[1]}\r\n                </>\r\n              )),\r\n              okText: '確認',\r\n              cancelText: null,\r\n              onOk: () => {\r\n                this.setState({ loading: false })\r\n              }\r\n            })\r\n          }\r\n        })\r\n        .catch(() => {\r\n          message.error('資料更新失敗')\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n\r\n  handleCancel = () => {\r\n    Modal.confirm({\r\n      title: '變更尚未儲存，確定要離開嗎',\r\n      icon: <ExclamationCircleOutlined />,\r\n      okText: '確認',\r\n      cancelText: '取消',\r\n      onOk: () => {\r\n        this.history.push('/Parts/Vehicle')\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const rowSetting = {\r\n      gutter: [24, 24],\r\n      type: 'flex',\r\n      align: 'middle',\r\n      style: { marginBottom: 24, marginTop: 24 }\r\n    }\r\n    const colSetting = {\r\n      xs: 24,\r\n      sm: 24,\r\n      md: 24,\r\n      lg: 12\r\n    }\r\n    return (\r\n      <>\r\n        <Breadcrumb style={{ marginBottom: 10 }}>\r\n          <Breadcrumb.Item>\r\n            <Link to='/Parts/Vehicle'>車種</Link>\r\n          </Breadcrumb.Item>\r\n          <Breadcrumb.Item>{this.props.createFlag ? '新增車種' : '修改車種資料'}</Breadcrumb.Item>\r\n        </Breadcrumb>\r\n        <Spin spinning={this.state.loading}>\r\n          <Card className='form-detail-card'>\r\n            <Row {...rowSetting}>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='車種代號'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.kindId}\r\n                      id='kindId'\r\n                      disabled={!this.props.createFlag}\r\n                    />\r\n                  }\r\n                  message='車種代號為必填,長度需在8字內'\r\n                  error={this.getFormErrorStatus('kindId')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='車種名稱'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.name}\r\n                      id='name'\r\n                    />\r\n                  }\r\n                  message='車種名稱為必填,長度需在20字'\r\n                  error={this.getFormErrorStatus('name')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='車種簡稱'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.shortName}\r\n                      id='shortName'\r\n                    />\r\n                  }\r\n                  message='車種簡稱為必填,長度需在15字內'\r\n                  error={this.getFormErrorStatus('shortName')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='車廠'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.factory}\r\n                      id='factory'\r\n                    />\r\n                  }\r\n                  message='長度需在3字內'\r\n                  error={this.getFormErrorStatus('factory')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n          <div style={{ margin: '20px', textAlign: 'center' }}>\r\n            <Space>\r\n              {this.props.createFlag ? (\r\n                <>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    disabled={!this.state.canSubmit}\r\n                    onClick={this.handleCreate.bind(this, true)}\r\n                  >\r\n                    儲存\r\n                  </Button>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    disabled={!this.state.canSubmit}\r\n                    onClick={this.handleCreate.bind(this, false)}\r\n                  >\r\n                    儲存並繼續新增\r\n                  </Button>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    disabled={!this.state.canSubmit}\r\n                    onClick={this.handleSubmit.bind(this, false)}\r\n                  >\r\n                    儲存\r\n                  </Button>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    disabled={!this.state.canSubmit}\r\n                    onClick={this.handleSubmit.bind(this, true)}\r\n                  >\r\n                    儲存並返回列表\r\n                  </Button>\r\n                </>\r\n              )}\r\n              <Button danger icon={<CloseOutlined />} onClick={this.handleCancel}>\r\n                取消\r\n              </Button>\r\n            </Space>\r\n          </div>\r\n        </Spin>\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport VehicleForm from './VehicleForm'\r\n\r\nexport default class VehicleDetail extends React.Component {\r\n  render() {\r\n    return (\r\n      <VehicleForm\r\n        createFlag={this.props.createFlag}\r\n        kindId={this.props.match.params.kindId}\r\n      />\r\n    )\r\n  }\r\n}\r\n","import { restInstance } from '../runner/rest'\r\n\r\nexport default class LevelAPI {\r\n  getLevelList = (data) => {\r\n    return restInstance('get', '/grades', data).then((response) => response.data)\r\n  }\r\n\r\n  getLevelData = (gradeId) => {\r\n    return restInstance('get', `/grades/${gradeId}`).then((response) => response.data)\r\n  }\r\n\r\n  addLevelData = (data) => {\r\n    return restInstance('post', `/grades/${data.gradeId}`, data).then((response) => response.data)\r\n  }\r\n\r\n  updateLevelData = (gradeId, data) => {\r\n    return restInstance('patch', `/grades/${gradeId}`, data).then((response) => response.data)\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { createHashHistory } from 'history'\r\nimport { Button, Col, Input, Row, Space, Table, Tooltip, Modal } from 'antd'\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\r\nimport { ListAddIcon, ListSearchIcon, ListEditIcon, ListDeleteIcon } from '../icon/Icon'\r\nimport { getPaginationSetting } from '../../component/paginationSetting'\r\nimport LevelAPI from '../../model/api/level'\r\n\r\nexport default class Level extends React.Component {\r\n  history = createHashHistory()\r\n  levelAPI = new LevelAPI()\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      search: {\r\n        keyword: ''\r\n      },\r\n      list: [],\r\n      pagination: {\r\n        current: 1,\r\n        total: 0,\r\n        pageSize: 10,\r\n        position: ['bottomLeft']\r\n      }\r\n    }\r\n    this.getList()\r\n  }\r\n\r\n  getList = () => {\r\n    const { search, pagination } = this.state\r\n    const requestData = {\r\n      pageNum: pagination.current,\r\n      pageSize: pagination.pageSize,\r\n      gradeId: `%${search.keyword}%`\r\n    }\r\n    this.levelAPI\r\n      .getLevelList(requestData)\r\n      .then((response) => {\r\n        pagination.total = response.data.total\r\n        this.setState({ loading: false, list: response.data.list, pagination })\r\n      })\r\n      .catch(() => this.setState({ loading: false }))\r\n  }\r\n\r\n  // search\r\n  onInputChange = (e) => {\r\n    const { search } = this.state\r\n    search.keyword = e.target.value\r\n    this.setState({ search })\r\n  }\r\n  handleSearch = () => {\r\n    this.setState({ loading: true }, () => this.getList())\r\n  }\r\n\r\n  getColumns = () => {\r\n    const _this = this\r\n    const { pagination } = this.state\r\n    return [\r\n      {\r\n        dataIndex: 'gradeId',\r\n        title: '執行',\r\n        width: 50,\r\n        render: (gradeId) => (\r\n          <Space className='list-table-option'>\r\n            <Tooltip title='編輯'>\r\n              <Button\r\n                className='list-table-option-edit'\r\n                size='small'\r\n                onClick={_this.onEdit.bind(_this, gradeId)}\r\n              >\r\n                <ListEditIcon />\r\n              </Button>\r\n            </Tooltip>\r\n            <Tooltip title='刪除'>\r\n              <Button\r\n                className='list-table-option-delete'\r\n                size='small'\r\n                onClick={_this.handleDelete.bind(_this, gradeId)}\r\n              >\r\n                <ListDeleteIcon />\r\n              </Button>\r\n            </Tooltip>\r\n          </Space>\r\n        )\r\n      },\r\n      {\r\n        title: '序',\r\n        width: 30,\r\n        align: 'center',\r\n        render: (a, b, i) => (pagination.current - 1) * pagination.pageSize + i + 1\r\n      },\r\n      {\r\n        title: '等級代號',\r\n        dataIndex: 'gradeId'\r\n      },\r\n      {\r\n        title: '等級名稱',\r\n        dataIndex: 'name'\r\n      }\r\n    ]\r\n  }\r\n\r\n  onEdit = (gradeId) => {\r\n    this.history.push(`/Parts/Level/${gradeId}`)\r\n  }\r\n\r\n  handleDelete = (gradeId) => {\r\n    Modal.confirm({\r\n      title: '確定要刪除此筆資料嗎',\r\n      icon: <ExclamationCircleOutlined />,\r\n      okText: '確認',\r\n      cancelText: '取消',\r\n      onOk: () => {\r\n        console.log('delete: ' + gradeId)\r\n      }\r\n    })\r\n  }\r\n\r\n  onPageChange = (page, pageSize) => {\r\n    const { pagination } = this.state\r\n    pagination.current = page\r\n    pagination.pageSize = pageSize\r\n    this.setState({ loading: true }, () => this.getList())\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className='list-header'>\r\n          <Row type='flex' justify='space-between'>\r\n            <Col>\r\n              <Button\r\n                type='primary'\r\n                icon={<ListAddIcon />}\r\n                onClick={() => this.history.push('/Parts/Level/Add')}\r\n                className='list-header-add'\r\n              >\r\n                新增\r\n              </Button>\r\n            </Col>\r\n            <Col>\r\n              <Space>\r\n                <Input\r\n                  placeholder='搜尋等級代號'\r\n                  allowClear={true}\r\n                  onChange={this.onInputChange}\r\n                  style={{ width: 140 }}\r\n                />\r\n                <Button\r\n                  type='primary'\r\n                  icon={<ListSearchIcon />}\r\n                  onClick={this.handleSearch}\r\n                  className='list-header-search'\r\n                >\r\n                  查詢\r\n                </Button>\r\n              </Space>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        <Table\r\n          className='list-table-wrapper'\r\n          rowKey='vendorId'\r\n          size='small'\r\n          columns={this.getColumns()}\r\n          loading={this.state.loading}\r\n          dataSource={this.state.list}\r\n          pagination={getPaginationSetting(this.state.pagination, this.onPageChange)}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n","export const initData = {\r\n  gradeId: '',\r\n  name: ''\r\n}\r\n\r\nexport const formRules = [\r\n  {\r\n    key: 'gradeId',\r\n    required: true,\r\n    length: [2]\r\n  },\r\n  {\r\n    key: 'name',\r\n    required: true,\r\n    length: [10]\r\n  }\r\n]\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Breadcrumb, Card, Col, Row, Input, Button, Space, Modal, Spin, message } from 'antd'\r\nimport { FormItem } from '../../component/FormItem'\r\nimport { CheckOutlined, CloseOutlined, ExclamationCircleOutlined } from '@ant-design/icons'\r\nimport { createHashHistory } from 'history'\r\nimport { initData, formRules } from './levelType'\r\n// import addressDistrict from '../../model/resource/addressDistrict.json'\r\nimport LevelAPI from '../../model/api/level'\r\n\r\nexport default class LevelForm extends React.Component {\r\n  history = createHashHistory()\r\n  levelAPI = new LevelAPI()\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loading: !props.createFlag,\r\n      formData: { ...initData },\r\n      formStatus: JSON.parse(JSON.stringify(formRules)),\r\n      canSubmit: false\r\n    }\r\n    if (!props.createFlag) {\r\n      this.getLevelData()\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (!prevProps.createFlag && this.props.createFlag) {\r\n      this.setState({\r\n        loading: false,\r\n        formData: { ...initData },\r\n        formStatus: JSON.parse(JSON.stringify(formRules)),\r\n        canSubmit: false\r\n      })\r\n    } else if (!this.props.createFlag && prevProps.gradeId !== this.props.gradeId) {\r\n      this.setState(\r\n        {\r\n          loading: true,\r\n          formData: { ...initData },\r\n          formStatus: JSON.parse(JSON.stringify(formRules)),\r\n          canSubmit: false\r\n        },\r\n        () => this.getLevelData()\r\n      )\r\n    }\r\n  }\r\n\r\n  getLevelData = () => {\r\n    this.levelAPI\r\n      .getLevelData(this.props.gradeId)\r\n      .then((response) => {\r\n        if (response.code === 0) {\r\n          this.setState({ loading: false, formData: response.data }, () => this.checkCanSubmit())\r\n        } else {\r\n          message.error(response.message)\r\n          this.history.push('/Parts/Level')\r\n        }\r\n      })\r\n      .catch(() => {\r\n        message.error('Error!')\r\n        this.history.push('/Parts/Level')\r\n      })\r\n  }\r\n\r\n  getFormErrorStatus = (key) => {\r\n    const { formStatus } = this.state\r\n    const field = formStatus.find((field) => field.key === key)\r\n    return field ? field.error : false\r\n  }\r\n\r\n  onInputChange = (event) => {\r\n    const type = event.target.getAttribute('id')\r\n    const text = event.target.value\r\n    const { formData } = this.state\r\n    formData[type] = text\r\n    this.checkData(formData, type)\r\n  }\r\n\r\n  // field validator\r\n  checkData = (formData, fieldKey) => {\r\n    const { formStatus } = this.state\r\n    const field = formStatus.find((field) => field.key === fieldKey)\r\n    if (field) {\r\n      const value = formData[fieldKey]\r\n      let error = false\r\n      if (field.required && !value) {\r\n        error = true\r\n      }\r\n      if (field.length && field.length.length > 0 && value) {\r\n        if (field.length.length === 1 && value.length > field.length[0]) {\r\n          error = true\r\n        } else if (\r\n          field.length.length > 1 &&\r\n          (value.length < field.length[0] || value.length > field.length[1])\r\n        ) {\r\n          error = true\r\n        }\r\n      }\r\n      if (field.regExp && !field.regExp.test(value)) {\r\n        error = true\r\n      }\r\n      field.error = error\r\n    }\r\n    this.setState({ formData, formStatus }, () => this.checkCanSubmit())\r\n  }\r\n  checkCanSubmit = () => {\r\n    this.setState({ canSubmit: !this.state.formStatus.some((field) => field.error) })\r\n  }\r\n\r\n  // 新增\r\n  handleCreate = (back) => {\r\n    this.setState({ loading: true }, () => {\r\n      this.levelAPI\r\n        .addLevelData(this.state.formData)\r\n        .then((response) => {\r\n          if (response.code === 0) {\r\n            message.success('成功新增資料')\r\n            if (back) {\r\n              this.history.push('/Basic/Level')\r\n            } else {\r\n              const layoutContent = document.getElementById('layout-content-wrapper')\r\n              layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\r\n              this.setState({\r\n                loading: false,\r\n                formData: { ...initData },\r\n                formStatus: JSON.parse(JSON.stringify(formRules)),\r\n                canSubmit: false\r\n              })\r\n            }\r\n          } else {\r\n            Modal.error({\r\n              title: response.message,\r\n              icon: <ExclamationCircleOutlined />,\r\n              okText: '確認',\r\n              cancelText: null,\r\n              onOk: () => {\r\n                this.setState({ loading: false })\r\n              }\r\n            })\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          message.error(error.response.data.message)\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n  // 修改\r\n  handleSubmit = (back) => {\r\n    this.setState({ loading: true }, () => {\r\n      this.levelAPI\r\n        .updateLevelData(this.props.gradeId, this.state.formData)\r\n        .then((response) => {\r\n          if (response.code === 0) {\r\n            message.success('成功更新資料')\r\n            if (back) {\r\n              this.history.push('/Parts/Level')\r\n            } else {\r\n              const layoutContent = document.getElementById('layout-content-wrapper')\r\n              layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\r\n              this.getLevelData()\r\n            }\r\n          } else {\r\n            Modal.error({\r\n              title: response.message,\r\n              icon: <ExclamationCircleOutlined />,\r\n              content: response.data.map((tip, index) => (\r\n                <>\r\n                  {index > 0 && <br />}\r\n                  {tip.split(': ')[1]}\r\n                </>\r\n              )),\r\n              okText: '確認',\r\n              cancelText: null,\r\n              onOk: () => {\r\n                this.setState({ loading: false })\r\n              }\r\n            })\r\n          }\r\n        })\r\n        .catch(() => {\r\n          message.error('資料更新失敗')\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n\r\n  handleCancel = () => {\r\n    Modal.confirm({\r\n      title: '變更尚未儲存，確定要離開嗎',\r\n      icon: <ExclamationCircleOutlined />,\r\n      okText: '確認',\r\n      cancelText: '取消',\r\n      onOk: () => {\r\n        this.history.push('/Parts/Level')\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const rowSetting = {\r\n      gutter: [24, 24],\r\n      type: 'flex',\r\n      align: 'middle',\r\n      style: { marginBottom: 24, marginTop: 24 }\r\n    }\r\n    const colSetting = {\r\n      xs: 24,\r\n      sm: 24,\r\n      md: 24,\r\n      lg: 12\r\n    }\r\n    return (\r\n      <>\r\n        <Breadcrumb style={{ marginBottom: 10 }}>\r\n          <Breadcrumb.Item>\r\n            <Link to='/Parts/Level'>等級</Link>\r\n          </Breadcrumb.Item>\r\n          <Breadcrumb.Item>{this.props.createFlag ? '新增等級' : '修改等級資料'}</Breadcrumb.Item>\r\n        </Breadcrumb>\r\n        <Spin spinning={this.state.loading}>\r\n          <Card className='form-detail-card'>\r\n            <Row {...rowSetting}>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='等級代號'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.gradeId}\r\n                      id='gradeId'\r\n                      disabled={!this.props.createFlag}\r\n                    />\r\n                  }\r\n                  message='等級代號為必填,長度需在2字內'\r\n                  error={this.getFormErrorStatus('gradeId')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='等級名稱'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.name}\r\n                      id='name'\r\n                    />\r\n                  }\r\n                  message='等級名稱為必填,長度需在10字'\r\n                  error={this.getFormErrorStatus('name')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n          <div style={{ margin: '20px', textAlign: 'center' }}>\r\n            <Space>\r\n              {this.props.createFlag ? (\r\n                <>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    disabled={!this.state.canSubmit}\r\n                    onClick={this.handleCreate.bind(this, true)}\r\n                  >\r\n                    儲存\r\n                  </Button>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    disabled={!this.state.canSubmit}\r\n                    onClick={this.handleCreate.bind(this, false)}\r\n                  >\r\n                    儲存並繼續新增\r\n                  </Button>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    disabled={!this.state.canSubmit}\r\n                    onClick={this.handleSubmit.bind(this, false)}\r\n                  >\r\n                    儲存\r\n                  </Button>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    disabled={!this.state.canSubmit}\r\n                    onClick={this.handleSubmit.bind(this, true)}\r\n                  >\r\n                    儲存並返回列表\r\n                  </Button>\r\n                </>\r\n              )}\r\n              <Button danger icon={<CloseOutlined />} onClick={this.handleCancel}>\r\n                取消\r\n              </Button>\r\n            </Space>\r\n          </div>\r\n        </Spin>\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport LevelForm from './LevelForm'\r\n\r\nexport default class LevelDetail extends React.Component {\r\n  render() {\r\n    return (\r\n      <LevelForm\r\n        createFlag={this.props.createFlag}\r\n        gradeId={this.props.match.params.gradeId}\r\n      />\r\n    )\r\n  }\r\n}\r\n","import { restInstance } from '../runner/rest'\r\n\r\nexport default class ColourAPI {\r\n  getColourList = (data) => {\r\n    return restInstance('get', '/colors', data).then((response) => response.data)\r\n  }\r\n\r\n  getColourData = (colorId) => {\r\n    return restInstance('get', `/colors/${colorId}`).then((response) => response.data)\r\n  }\r\n\r\n  addColourData = (data) => {\r\n    return restInstance('post', `/colors/${data.colorId}`, data).then((response) => response.data)\r\n  }\r\n\r\n  updateColourData = (colorId, data) => {\r\n    return restInstance('patch', `/colors/${colorId}`, data).then((response) => response.data)\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { createHashHistory } from 'history'\r\nimport { Button, Col, Input, Row, Space, Table, Tooltip, Modal } from 'antd'\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\r\nimport { ListAddIcon, ListSearchIcon, ListEditIcon, ListDeleteIcon } from '../icon/Icon'\r\nimport { getPaginationSetting } from '../../component/paginationSetting'\r\nimport ColourAPI from '../../model/api/colour'\r\n\r\nexport default class Colour extends React.Component {\r\n  history = createHashHistory()\r\n  colourAPI = new ColourAPI()\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      search: {\r\n        keyword: ''\r\n      },\r\n      list: [],\r\n      pagination: {\r\n        current: 1,\r\n        total: 0,\r\n        pageSize: 10,\r\n        position: ['bottomLeft']\r\n      }\r\n    }\r\n    this.getList()\r\n  }\r\n\r\n  getList = () => {\r\n    const { search, pagination } = this.state\r\n    const requestData = {\r\n      pageNum: pagination.current,\r\n      pageSize: pagination.pageSize,\r\n      colorId: `%${search.keyword}%`\r\n    }\r\n    this.colourAPI\r\n      .getColourList(requestData)\r\n      .then((response) => {\r\n        pagination.total = response.data.total\r\n        this.setState({ loading: false, list: response.data.list, pagination })\r\n      })\r\n      .catch(() => this.setState({ loading: false }))\r\n  }\r\n\r\n  // search\r\n  onInputChange = (e) => {\r\n    const { search } = this.state\r\n    search.keyword = e.target.value\r\n    this.setState({ search })\r\n  }\r\n  handleSearch = () => {\r\n    this.setState({ loading: true }, () => this.getList())\r\n  }\r\n\r\n  getColumns = () => {\r\n    const _this = this\r\n    const { pagination } = this.state\r\n    return [\r\n      {\r\n        dataIndex: 'colorId',\r\n        title: '執行',\r\n        width: 50,\r\n        render: (colorId) => (\r\n          <Space className='list-table-option'>\r\n            <Tooltip title='編輯'>\r\n              <Button\r\n                className='list-table-option-edit'\r\n                size='small'\r\n                onClick={_this.onEdit.bind(_this, colorId)}\r\n              >\r\n                <ListEditIcon />\r\n              </Button>\r\n            </Tooltip>\r\n            <Tooltip title='刪除'>\r\n              <Button\r\n                className='list-table-option-delete'\r\n                size='small'\r\n                onClick={_this.handleDelete.bind(_this, colorId)}\r\n              >\r\n                <ListDeleteIcon />\r\n              </Button>\r\n            </Tooltip>\r\n          </Space>\r\n        )\r\n      },\r\n      {\r\n        title: '序',\r\n        width: 30,\r\n        align: 'center',\r\n        render: (a, b, i) => (pagination.current - 1) * pagination.pageSize + i + 1\r\n      },\r\n      {\r\n        title: '顏色代號',\r\n        dataIndex: 'colorId'\r\n      },\r\n      {\r\n        title: '顏色名稱',\r\n        dataIndex: 'name'\r\n      }\r\n    ]\r\n  }\r\n\r\n  onEdit = (colorId) => {\r\n    this.history.push(`/Parts/Colour/${colorId}`)\r\n  }\r\n\r\n  handleDelete = (colorId) => {\r\n    Modal.confirm({\r\n      title: '確定要刪除此筆資料嗎',\r\n      icon: <ExclamationCircleOutlined />,\r\n      okText: '確認',\r\n      cancelText: '取消',\r\n      onOk: () => {\r\n        console.log('delete: ' + colorId)\r\n      }\r\n    })\r\n  }\r\n\r\n  onPageChange = (page, pageSize) => {\r\n    const { pagination } = this.state\r\n    pagination.current = page\r\n    pagination.pageSize = pageSize\r\n    this.setState({ loading: true }, () => this.getList())\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className='list-header'>\r\n          <Row type='flex' justify='space-between'>\r\n            <Col>\r\n              <Button\r\n                type='primary'\r\n                icon={<ListAddIcon />}\r\n                onClick={() => this.history.push('/Parts/Colour/Add')}\r\n                className='list-header-add'\r\n              >\r\n                新增\r\n              </Button>\r\n            </Col>\r\n            <Col>\r\n              <Space>\r\n                <Input\r\n                  placeholder='搜尋顏色代號'\r\n                  allowClear={true}\r\n                  onChange={this.onInputChange}\r\n                  style={{ width: 140 }}\r\n                />\r\n                <Button\r\n                  type='primary'\r\n                  icon={<ListSearchIcon />}\r\n                  onClick={this.handleSearch}\r\n                  className='list-header-search'\r\n                >\r\n                  查詢\r\n                </Button>\r\n              </Space>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        <Table\r\n          className='list-table-wrapper'\r\n          rowKey='vendorId'\r\n          size='small'\r\n          columns={this.getColumns()}\r\n          loading={this.state.loading}\r\n          dataSource={this.state.list}\r\n          pagination={getPaginationSetting(this.state.pagination, this.onPageChange)}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n","export const initData = {\r\n  colorId: '',\r\n  name: ''\r\n}\r\n\r\nexport const formRules = [\r\n  {\r\n    key: 'colorId',\r\n    required: true,\r\n    length: [2]\r\n  },\r\n  {\r\n    key: 'name',\r\n    required: true,\r\n    length: [10]\r\n  }\r\n]\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Breadcrumb, Card, Col, Row, Input, Button, Space, Modal, Spin, message } from 'antd'\r\nimport { FormItem } from '../../component/FormItem'\r\nimport { CheckOutlined, CloseOutlined, ExclamationCircleOutlined } from '@ant-design/icons'\r\nimport { createHashHistory } from 'history'\r\nimport { initData, formRules } from './colourType'\r\nimport ColourAPI from '../../model/api/colour'\r\n\r\nexport default class ColourForm extends React.Component {\r\n  history = createHashHistory()\r\n  colourAPI = new ColourAPI()\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loading: !props.createFlag,\r\n      formData: { ...initData },\r\n      formStatus: JSON.parse(JSON.stringify(formRules)),\r\n      canSubmit: false\r\n    }\r\n    if (!props.createFlag) {\r\n      this.getColourData()\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (!prevProps.createFlag && this.props.createFlag) {\r\n      this.setState({\r\n        loading: false,\r\n        formData: { ...initData },\r\n        formStatus: JSON.parse(JSON.stringify(formRules)),\r\n        canSubmit: false\r\n      })\r\n    } else if (!this.props.createFlag && prevProps.colorId !== this.props.colorId) {\r\n      this.setState(\r\n        {\r\n          loading: true,\r\n          formData: { ...initData },\r\n          formStatus: JSON.parse(JSON.stringify(formRules)),\r\n          canSubmit: false\r\n        },\r\n        () => this.getColourData()\r\n      )\r\n    }\r\n  }\r\n\r\n  getColourData = () => {\r\n    this.colourAPI\r\n      .getColourData(this.props.colorId)\r\n      .then((response) => {\r\n        if (response.code === 0) {\r\n          this.setState({ loading: false, formData: response.data }, () => this.checkCanSubmit())\r\n        } else {\r\n          message.error(response.message)\r\n          this.history.push('/Parts/Colour')\r\n        }\r\n      })\r\n      .catch(() => {\r\n        message.error('Error!')\r\n        this.history.push('/Parts/Colour')\r\n      })\r\n  }\r\n\r\n  getFormErrorStatus = (key) => {\r\n    const { formStatus } = this.state\r\n    const field = formStatus.find((field) => field.key === key)\r\n    return field ? field.error : false\r\n  }\r\n\r\n  onInputChange = (event) => {\r\n    const type = event.target.getAttribute('id')\r\n    const text = event.target.value\r\n    const { formData } = this.state\r\n    formData[type] = text\r\n    this.checkData(formData, type)\r\n  }\r\n\r\n  // field validator\r\n  checkData = (formData, fieldKey) => {\r\n    const { formStatus } = this.state\r\n    const field = formStatus.find((field) => field.key === fieldKey)\r\n    if (field) {\r\n      const value = formData[fieldKey]\r\n      let error = false\r\n      if (field.required && !value) {\r\n        error = true\r\n      }\r\n      if (field.length && field.length.length > 0 && value) {\r\n        if (field.length.length === 1 && value.length > field.length[0]) {\r\n          error = true\r\n        } else if (\r\n          field.length.length > 1 &&\r\n          (value.length < field.length[0] || value.length > field.length[1])\r\n        ) {\r\n          error = true\r\n        }\r\n      }\r\n      if (field.regExp && !field.regExp.test(value)) {\r\n        error = true\r\n      }\r\n      field.error = error\r\n    }\r\n    this.setState({ formData, formStatus }, () => this.checkCanSubmit())\r\n  }\r\n  checkCanSubmit = () => {\r\n    this.setState({ canSubmit: !this.state.formStatus.some((field) => field.error) })\r\n  }\r\n\r\n  // 新增\r\n  handleCreate = (back) => {\r\n    this.setState({ loading: true }, () => {\r\n      this.levelAPI\r\n        .addLevelData(this.state.formData)\r\n        .then((response) => {\r\n          if (response.code === 0) {\r\n            message.success('成功新增資料')\r\n            if (back) {\r\n              this.history.push('/Basic/Level')\r\n            } else {\r\n              const layoutContent = document.getElementById('layout-content-wrapper')\r\n              layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\r\n              this.setState({\r\n                loading: false,\r\n                formData: { ...initData },\r\n                formStatus: JSON.parse(JSON.stringify(formRules)),\r\n                canSubmit: false\r\n              })\r\n            }\r\n          } else {\r\n            Modal.error({\r\n              title: response.message,\r\n              icon: <ExclamationCircleOutlined />,\r\n              okText: '確認',\r\n              cancelText: null,\r\n              onOk: () => {\r\n                this.setState({ loading: false })\r\n              }\r\n            })\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          message.error(error.response.data.message)\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n  // 修改\r\n  handleSubmit = (back) => {\r\n    this.setState({ loading: true }, () => {\r\n      this.colourAPI\r\n        .updateColourData(this.props.colorId, this.state.formData)\r\n        .then((response) => {\r\n          if (response.code === 0) {\r\n            message.success('成功更新資料')\r\n            if (back) {\r\n              this.history.push('/Parts/Colour')\r\n            } else {\r\n              const layoutContent = document.getElementById('layout-content-wrapper')\r\n              layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\r\n              this.getColourData()\r\n            }\r\n          } else {\r\n            Modal.error({\r\n              title: response.message,\r\n              icon: <ExclamationCircleOutlined />,\r\n              content: response.data.map((tip, index) => (\r\n                <>\r\n                  {index > 0 && <br />}\r\n                  {tip.split(': ')[1]}\r\n                </>\r\n              )),\r\n              okText: '確認',\r\n              cancelText: null,\r\n              onOk: () => {\r\n                this.setState({ loading: false })\r\n              }\r\n            })\r\n          }\r\n        })\r\n        .catch(() => {\r\n          message.error('資料更新失敗')\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n\r\n  handleCancel = () => {\r\n    Modal.confirm({\r\n      title: '變更尚未儲存，確定要離開嗎',\r\n      icon: <ExclamationCircleOutlined />,\r\n      okText: '確認',\r\n      cancelText: '取消',\r\n      onOk: () => {\r\n        this.history.push('/Parts/Colour')\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const rowSetting = {\r\n      gutter: [24, 24],\r\n      type: 'flex',\r\n      align: 'middle',\r\n      style: { marginBottom: 24, marginTop: 24 }\r\n    }\r\n    const colSetting = {\r\n      xs: 24,\r\n      sm: 24,\r\n      md: 24,\r\n      lg: 12\r\n    }\r\n    return (\r\n      <>\r\n        <Breadcrumb style={{ marginBottom: 10 }}>\r\n          <Breadcrumb.Item>\r\n            <Link to='/Parts/Colour'>顏色</Link>\r\n          </Breadcrumb.Item>\r\n          <Breadcrumb.Item>{this.props.createFlag ? '新增顏色' : '修改顏色資料'}</Breadcrumb.Item>\r\n        </Breadcrumb>\r\n        <Spin spinning={this.state.loading}>\r\n          <Card className='form-detail-card'>\r\n            <Row {...rowSetting}>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='顏色代號'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.colorId}\r\n                      id='colorId'\r\n                      disabled={!this.props.createFlag}\r\n                    />\r\n                  }\r\n                  message='顏色代號為必填,長度需在2字內'\r\n                  error={this.getFormErrorStatus('colorId')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='顏色名稱'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.name}\r\n                      id='name'\r\n                    />\r\n                  }\r\n                  message='顏色名稱為必填,長度需在10字'\r\n                  error={this.getFormErrorStatus('name')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n          <div style={{ margin: '20px', textAlign: 'center' }}>\r\n            <Space>\r\n              {this.props.createFlag ? (\r\n                <>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    disabled={!this.state.canSubmit}\r\n                    onClick={this.handleCreate.bind(this, true)}\r\n                  >\r\n                    儲存\r\n                  </Button>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    disabled={!this.state.canSubmit}\r\n                    onClick={this.handleCreate.bind(this, false)}\r\n                  >\r\n                    儲存並繼續新增\r\n                  </Button>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    disabled={!this.state.canSubmit}\r\n                    onClick={this.handleSubmit.bind(this, false)}\r\n                  >\r\n                    儲存\r\n                  </Button>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    disabled={!this.state.canSubmit}\r\n                    onClick={this.handleSubmit.bind(this, true)}\r\n                  >\r\n                    儲存並返回列表\r\n                  </Button>\r\n                </>\r\n              )}\r\n              <Button danger icon={<CloseOutlined />} onClick={this.handleCancel}>\r\n                取消\r\n              </Button>\r\n            </Space>\r\n          </div>\r\n        </Spin>\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport ColourForm from './ColourForm'\r\n\r\nexport default class ColourDetail extends React.Component {\r\n  render() {\r\n    return (\r\n      <ColourForm\r\n        createFlag={this.props.createFlag}\r\n        colorId={this.props.match.params.colorId}\r\n      />\r\n    )\r\n  }\r\n}\r\n","import { restInstance } from '../runner/rest'\r\n\r\nexport default class ComponentAPI {\r\n  getComponentList = (data) => {\r\n    return restInstance('get', '/parts', data).then((response) => response.data)\r\n  }\r\n\r\n  getComponentData = (partId) => {\r\n    return restInstance('get', `/parts/${partId}`).then((response) => response.data)\r\n  }\r\n\r\n  addComponentData = (data) => {\r\n    return restInstance('post', `/parts/${data.partId}`, data).then((response) => response.data)\r\n  }\r\n\r\n  updateComponentData = (partId, data) => {\r\n    return restInstance('patch', `/parts/${partId}`, data).then((response) => response.data)\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { createHashHistory } from 'history'\r\nimport { Button, Col, Input, Row, Space, Table, Tooltip, Modal } from 'antd'\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\r\nimport { ListAddIcon, ListSearchIcon, ListEditIcon, ListDeleteIcon } from '../icon/Icon'\r\nimport { getPaginationSetting } from '../../component/paginationSetting'\r\nimport ComponentAPI from '../../model/api/component'\r\n\r\nexport default class Component extends React.Component {\r\n  history = createHashHistory()\r\n  componentAPI = new ComponentAPI()\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      search: {\r\n        partId: '',\r\n        name: ''\r\n      },\r\n      list: [],\r\n      pagination: {\r\n        current: 1,\r\n        total: 0,\r\n        pageSize: 10,\r\n        position: ['bottomLeft']\r\n      }\r\n    }\r\n    this.getList()\r\n  }\r\n\r\n  getList = () => {\r\n    const { search, pagination } = this.state\r\n    const requestData = {\r\n      pageNum: pagination.current,\r\n      pageSize: pagination.pageSize,\r\n      partId: `%${search.partId}%`,\r\n      name: `%${search.name}%`\r\n    }\r\n    this.componentAPI\r\n      .getComponentList(requestData)\r\n      .then((response) => {\r\n        pagination.total = response.data.total\r\n        this.setState({ loading: false, list: response.data.list, pagination })\r\n      })\r\n      .catch(() => this.setState({ loading: false }))\r\n  }\r\n\r\n  // search\r\n  onInputChange = (key, e) => {\r\n    const { search } = this.state\r\n    search[key] = e.target.value\r\n    this.setState({ search })\r\n  }\r\n  handleSearch = () => {\r\n    this.setState({ loading: true }, () => this.getList())\r\n  }\r\n\r\n  getColumns = () => {\r\n    const _this = this\r\n    const { pagination } = this.state\r\n    return [\r\n      {\r\n        dataIndex: 'partId',\r\n        title: '執行',\r\n        width: 50,\r\n        render: (partId) => (\r\n          <Space className='list-table-option'>\r\n            <Tooltip title='編輯'>\r\n              <Button\r\n                className='list-table-option-edit'\r\n                size='small'\r\n                onClick={_this.onEdit.bind(_this, partId)}\r\n              >\r\n                <ListEditIcon />\r\n              </Button>\r\n            </Tooltip>\r\n            <Tooltip title='刪除'>\r\n              <Button\r\n                className='list-table-option-delete'\r\n                size='small'\r\n                onClick={_this.handleDelete.bind(_this, partId)}\r\n              >\r\n                <ListDeleteIcon />\r\n              </Button>\r\n            </Tooltip>\r\n          </Space>\r\n        )\r\n      },\r\n      {\r\n        title: '序',\r\n        width: 30,\r\n        align: 'center',\r\n        render: (a, b, i) => (pagination.current - 1) * pagination.pageSize + i + 1\r\n      },\r\n      {\r\n        title: '零件代號',\r\n        dataIndex: 'partId'\r\n      },\r\n      {\r\n        title: '零件名稱',\r\n        dataIndex: 'name'\r\n      }\r\n    ]\r\n  }\r\n\r\n  onEdit = (partId) => {\r\n    this.history.push(`/Parts/Component/${partId}`)\r\n  }\r\n\r\n  handleDelete = (partId) => {\r\n    Modal.confirm({\r\n      title: '確定要刪除此筆資料嗎',\r\n      icon: <ExclamationCircleOutlined />,\r\n      okText: '確認',\r\n      cancelText: '取消',\r\n      onOk: () => {\r\n        console.log('delete: ' + partId)\r\n      }\r\n    })\r\n  }\r\n\r\n  onPageChange = (page, pageSize) => {\r\n    const { pagination } = this.state\r\n    pagination.current = page\r\n    pagination.pageSize = pageSize\r\n    this.setState({ loading: true }, () => this.getList())\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className='list-header'>\r\n          <Row type='flex' justify='space-between'>\r\n            <Col>\r\n              <Button\r\n                type='primary'\r\n                icon={<ListAddIcon />}\r\n                onClick={() => this.history.push('/Parts/Component/Add')}\r\n                className='list-header-add'\r\n              >\r\n                新增\r\n              </Button>\r\n            </Col>\r\n            <Col>\r\n              <Space>\r\n                <Input\r\n                  placeholder='搜尋零件代號'\r\n                  allowClear={true}\r\n                  onChange={this.onInputChange.bind(this, 'partId')}\r\n                  style={{ width: 140 }}\r\n                />\r\n                <Input\r\n                  placeholder='搜尋零件名稱'\r\n                  allowClear={true}\r\n                  onChange={this.onInputChange.bind(this, 'name')}\r\n                />\r\n                <Button\r\n                  type='primary'\r\n                  icon={<ListSearchIcon />}\r\n                  onClick={this.handleSearch}\r\n                  className='list-header-search'\r\n                >\r\n                  查詢\r\n                </Button>\r\n              </Space>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        <Table\r\n          className='list-table-wrapper'\r\n          rowKey='vendorId'\r\n          size='small'\r\n          columns={this.getColumns()}\r\n          loading={this.state.loading}\r\n          dataSource={this.state.list}\r\n          pagination={getPaginationSetting(this.state.pagination, this.onPageChange)}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n","export const initData = {\r\n  partId: '',\r\n  name: ''\r\n}\r\n\r\nexport const formRules = [\r\n  {\r\n    key: 'partId',\r\n    required: true,\r\n    length: [4]\r\n  },\r\n  {\r\n    key: 'name',\r\n    required: true,\r\n    length: [10]\r\n  }\r\n]\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Breadcrumb, Card, Col, Row, Input, Button, Space, Modal, Spin, message } from 'antd'\r\nimport { FormItem } from '../../component/FormItem'\r\nimport { CheckOutlined, CloseOutlined, ExclamationCircleOutlined } from '@ant-design/icons'\r\nimport { createHashHistory } from 'history'\r\nimport { initData, formRules } from './componentType'\r\nimport ComponentAPI from '../../model/api/component'\r\n\r\nexport default class ComponentForm extends React.Component {\r\n  history = createHashHistory()\r\n  componentAPI = new ComponentAPI()\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loading: !props.createFlag,\r\n      formData: { ...initData },\r\n      formStatus: JSON.parse(JSON.stringify(formRules)),\r\n      canSubmit: false\r\n    }\r\n    if (!props.createFlag) {\r\n      this.getComponentData()\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (!prevProps.createFlag && this.props.createFlag) {\r\n      this.setState({\r\n        loading: false,\r\n        formData: { ...initData },\r\n        formStatus: JSON.parse(JSON.stringify(formRules)),\r\n        canSubmit: false\r\n      })\r\n    } else if (!this.props.createFlag && prevProps.partId !== this.props.partId) {\r\n      this.setState(\r\n        {\r\n          loading: true,\r\n          formData: { ...initData },\r\n          formStatus: JSON.parse(JSON.stringify(formRules)),\r\n          canSubmit: false\r\n        },\r\n        () => this.getComponentData()\r\n      )\r\n    }\r\n  }\r\n\r\n  getComponentData = () => {\r\n    this.componentAPI\r\n      .getComponentData(this.props.partId)\r\n      .then((response) => {\r\n        if (response.code === 0) {\r\n          this.setState({ loading: false, formData: response.data }, () => this.checkCanSubmit())\r\n        } else {\r\n          message.error(response.message)\r\n          this.history.push('/Parts/Component')\r\n        }\r\n      })\r\n      .catch(() => {\r\n        message.error('Error!')\r\n        this.history.push('/Parts/Component')\r\n      })\r\n  }\r\n\r\n  getFormErrorStatus = (key) => {\r\n    const { formStatus } = this.state\r\n    const field = formStatus.find((field) => field.key === key)\r\n    return field ? field.error : false\r\n  }\r\n\r\n  onInputChange = (event) => {\r\n    const type = event.target.getAttribute('id')\r\n    const text = event.target.value\r\n    const { formData } = this.state\r\n    formData[type] = text\r\n    this.checkData(formData, type)\r\n  }\r\n\r\n  // field validator\r\n  checkData = (formData, fieldKey) => {\r\n    const { formStatus } = this.state\r\n    const field = formStatus.find((field) => field.key === fieldKey)\r\n    if (field) {\r\n      const value = formData[fieldKey]\r\n      let error = false\r\n      if (field.required && !value) {\r\n        error = true\r\n      }\r\n      if (field.length && field.length.length > 0 && value) {\r\n        if (field.length.length === 1 && value.length > field.length[0]) {\r\n          error = true\r\n        } else if (\r\n          field.length.length > 1 &&\r\n          (value.length < field.length[0] || value.length > field.length[1])\r\n        ) {\r\n          error = true\r\n        }\r\n      }\r\n      if (field.regExp && !field.regExp.test(value)) {\r\n        error = true\r\n      }\r\n      field.error = error\r\n    }\r\n    this.setState({ formData, formStatus }, () => this.checkCanSubmit())\r\n  }\r\n  checkCanSubmit = () => {\r\n    this.setState({ canSubmit: !this.state.formStatus.some((field) => field.error) })\r\n  }\r\n\r\n  // 新增\r\n  handleCreate = (back) => {\r\n    this.setState({ loading: true }, () => {\r\n      this.levelAPI\r\n        .addLevelData(this.state.formData)\r\n        .then((response) => {\r\n          if (response.code === 0) {\r\n            message.success('成功新增資料')\r\n            if (back) {\r\n              this.history.push('/Basic/Level')\r\n            } else {\r\n              const layoutContent = document.getElementById('layout-content-wrapper')\r\n              layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\r\n              this.setState({\r\n                loading: false,\r\n                formData: { ...initData },\r\n                formStatus: JSON.parse(JSON.stringify(formRules)),\r\n                canSubmit: false\r\n              })\r\n            }\r\n          } else {\r\n            Modal.error({\r\n              title: response.message,\r\n              icon: <ExclamationCircleOutlined />,\r\n              okText: '確認',\r\n              cancelText: null,\r\n              onOk: () => {\r\n                this.setState({ loading: false })\r\n              }\r\n            })\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          message.error(error.response.data.message)\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n  // 修改\r\n  handleSubmit = (back) => {\r\n    this.setState({ loading: true }, () => {\r\n      this.componentAPI\r\n        .updateComponentData(this.props.partId, this.state.formData)\r\n        .then((response) => {\r\n          if (response.code === 0) {\r\n            message.success('成功更新資料')\r\n            if (back) {\r\n              this.history.push('/Parts/Component')\r\n            } else {\r\n              const layoutContent = document.getElementById('layout-content-wrapper')\r\n              layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\r\n              this.getComponentData()\r\n            }\r\n          } else {\r\n            Modal.error({\r\n              title: response.message,\r\n              icon: <ExclamationCircleOutlined />,\r\n              content: response.data.map((tip, index) => (\r\n                <>\r\n                  {index > 0 && <br />}\r\n                  {tip.split(': ')[1]}\r\n                </>\r\n              )),\r\n              okText: '確認',\r\n              cancelText: null,\r\n              onOk: () => {\r\n                this.setState({ loading: false })\r\n              }\r\n            })\r\n          }\r\n        })\r\n        .catch(() => {\r\n          message.error('資料更新失敗')\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n\r\n  handleCancel = () => {\r\n    Modal.confirm({\r\n      title: '變更尚未儲存，確定要離開嗎',\r\n      icon: <ExclamationCircleOutlined />,\r\n      okText: '確認',\r\n      cancelText: '取消',\r\n      onOk: () => {\r\n        this.history.push('/Parts/Component')\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const rowSetting = {\r\n      gutter: [24, 24],\r\n      type: 'flex',\r\n      align: 'middle',\r\n      style: { marginBottom: 24, marginTop: 24 }\r\n    }\r\n    const colSetting = {\r\n      xs: 24,\r\n      sm: 24,\r\n      md: 24,\r\n      lg: 12\r\n    }\r\n    return (\r\n      <>\r\n        <Breadcrumb style={{ marginBottom: 10 }}>\r\n          <Breadcrumb.Item>\r\n            <Link to='/Parts/Component'>零件</Link>\r\n          </Breadcrumb.Item>\r\n          <Breadcrumb.Item>{this.props.createFlag ? '新增零件' : '修改零件資料'}</Breadcrumb.Item>\r\n        </Breadcrumb>\r\n        <Spin spinning={this.state.loading}>\r\n          <Card className='form-detail-card'>\r\n            <Row {...rowSetting}>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='零件代號'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.partId}\r\n                      id='partId'\r\n                      disabled={!this.props.createFlag}\r\n                    />\r\n                  }\r\n                  message='零件代號為必填,長度需在4字內'\r\n                  error={this.getFormErrorStatus('partId')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='零件名稱'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.name}\r\n                      id='name'\r\n                    />\r\n                  }\r\n                  message='零件名稱為必填,長度需在10字'\r\n                  error={this.getFormErrorStatus('name')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n          <div style={{ margin: '20px', textAlign: 'center' }}>\r\n            <Space>\r\n              {this.props.createFlag ? (\r\n                <>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    disabled={!this.state.canSubmit}\r\n                    onClick={this.handleCreate.bind(this, true)}\r\n                  >\r\n                    儲存\r\n                  </Button>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    disabled={!this.state.canSubmit}\r\n                    onClick={this.handleCreate.bind(this, false)}\r\n                  >\r\n                    儲存並繼續新增\r\n                  </Button>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    disabled={!this.state.canSubmit}\r\n                    onClick={this.handleSubmit.bind(this, false)}\r\n                  >\r\n                    儲存\r\n                  </Button>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    disabled={!this.state.canSubmit}\r\n                    onClick={this.handleSubmit.bind(this, true)}\r\n                  >\r\n                    儲存並返回列表\r\n                  </Button>\r\n                </>\r\n              )}\r\n              <Button danger icon={<CloseOutlined />} onClick={this.handleCancel}>\r\n                取消\r\n              </Button>\r\n            </Space>\r\n          </div>\r\n        </Spin>\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport ComponentForm from './ComponentForm'\r\n\r\nexport default class ComponentDetail extends React.Component {\r\n  render() {\r\n    return (\r\n      <ComponentForm\r\n        createFlag={this.props.createFlag}\r\n        partId={this.props.match.params.partId}\r\n      />\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Drawer } from 'antd'\r\n\r\nexport const PageDrawer = (props) => {\r\n  return <Drawer {...props} className='layout-content-drawer-wrapper'>{props.children}</Drawer>\r\n}\r\n","export default class StaticStorage {\r\n  static roles = []\r\n  static unitList = []\r\n\r\n  setRoles = (roles) => (StaticStorage.roles = roles)\r\n  setUnitList = (unitList) => (StaticStorage.unitList = unitList)\r\n}\r\n","import StatisStorage from '../../model/storage/static'\r\n\r\nexport const initData = {\r\n  seqNo: 0,\r\n  productId: '',\r\n  productType: 'REAL',\r\n  partId: null,\r\n  customCode1: '',\r\n  customCode2: '',\r\n  customCode3: '',\r\n  kindShortName: '',\r\n  unit: StatisStorage.unitList.length > 0 ? StatisStorage.unitList[0].unit : '',\r\n  price1: 0,\r\n  price2: 0,\r\n  price3: 0,\r\n  norm: '',\r\n  vendorProductId: '',\r\n  safetyStock: 0,\r\n  inventory: 0,\r\n  storingPlace: '',\r\n  note: ''\r\n}\r\n\r\nexport const formRules = [\r\n]\r\n","import { restInstance } from '../runner/rest'\r\n\r\nexport default class ProductAPI {\r\n  getProductList = (data) => {\r\n    return restInstance('get', '/products', data).then((response) => response.data)\r\n  }\r\n\r\n  getProductType = () => {\r\n    return restInstance('get', '/common/productTypes').then((response) => response.data)\r\n  }\r\n\r\n  getProductData = (seqNo) => {\r\n    return restInstance('get', `/products/${seqNo}`).then((response) => response.data)\r\n  }\r\n\r\n  addProductData = (data) => {\r\n    return restInstance('post', '/products/0', data).then((response) => response.data)\r\n  }\r\n\r\n  updateProductData = (data) => {\r\n    return restInstance('patch', `/products/${data.seqNo}`, data).then((response) => response.data)\r\n  }\r\n\r\n  getPartsList = () => {\r\n    const data = {\r\n      pageNum: 1,\r\n      pageSize: 9999,\r\n      partId: '',\r\n      name: ''\r\n    }\r\n    return restInstance('get', '/parts', data).then((response) => response.data)\r\n  }\r\n\r\n  getKindsList = () => {\r\n    const data = {\r\n      pageNum: 1,\r\n      pageSize: 9999,\r\n      kindIdLike: ''\r\n    }\r\n    return restInstance('get', '/kinds', data).then((response) => response.data)\r\n  }\r\n\r\n  getGradesList = () => {\r\n    const data = {\r\n      pageNum: 1,\r\n      pageSize: 9999,\r\n      gradeId: ''\r\n    }\r\n    return restInstance('get', '/grades', data).then((response) => response.data)\r\n  }\r\n\r\n  getColorsList = () => {\r\n    const data = {\r\n      pageNum: 1,\r\n      pageSize: 9999,\r\n      colorId: ''\r\n    }\r\n    return restInstance('get', '/colors', data).then((response) => response.data)\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport {\r\n  Breadcrumb,\r\n  Spin,\r\n  Card,\r\n  Row,\r\n  Col,\r\n  Select,\r\n  Input,\r\n  InputNumber,\r\n  AutoComplete,\r\n  Space,\r\n  Button,\r\n  Modal,\r\n  message\r\n} from 'antd'\r\nimport { CheckOutlined, CloseOutlined, ExclamationCircleOutlined } from '@ant-design/icons'\r\nimport { FormItem } from '../../component/FormItem'\r\nimport { createHashHistory } from 'history'\r\nimport { initData, formRules } from './productType'\r\nimport ProductAPI from '../../model/api/product'\r\nimport StaticStorage from '../../model/storage/static'\r\n\r\nexport default class ProductForm extends React.Component {\r\n  history = createHashHistory()\r\n  productAPI = new ProductAPI()\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      productType: [],\r\n      formData: { ...initData },\r\n      formStatus: JSON.parse(JSON.stringify(formRules)),\r\n      search: {\r\n        partId: '',\r\n        customCode1: '',\r\n        customCode2: '',\r\n        customCode3: ''\r\n      },\r\n      partsList: [],\r\n      kindsList: [],\r\n      gradesList: [],\r\n      colorsList: [],\r\n      canSubmit: false\r\n    }\r\n    this.getInitData().then(() => {\r\n      if (!props.createFlag) {\r\n        this.getProductData().then(() => this.setState({ loading: false }))\r\n      } else {\r\n        this.setState({ loading: false })\r\n      }\r\n    })\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (\r\n      (!prevProps.createFlag && this.props.createFlag) ||\r\n      (!prevProps.drawModeVisible && this.props.drawModeVisible) ||\r\n      (!this.props.createFlag && prevProps.gradeId !== this.props.gradeId)\r\n    ) {\r\n      this.setState(\r\n        {\r\n          loading: true,\r\n          formData: { ...initData },\r\n          formStatus: JSON.parse(JSON.stringify(formRules)),\r\n          search: {\r\n            partId: '',\r\n            customCode1: '',\r\n            customCode2: '',\r\n            customCode3: ''\r\n          },\r\n          canSubmit: false\r\n        },\r\n        () =>\r\n          this.getInitData().then(() => {\r\n            if (!this.props.createFlag) {\r\n              this.getProductData().then(() => this.setState({ loading: false }))\r\n            } else {\r\n              this.setState({ loading: false })\r\n            }\r\n          })\r\n      )\r\n    }\r\n  }\r\n\r\n  getInitData = async () => {\r\n    await new Promise((resolve) => {\r\n      this.productAPI.getProductType().then((response) => {\r\n        this.setState({ productType: response.data }, () => resolve(true))\r\n      })\r\n    })\r\n    await new Promise((resolve) => {\r\n      this.productAPI.getPartsList().then((response) => {\r\n        this.setState({ partsList: response.data.list }, () => resolve(true))\r\n      })\r\n    })\r\n    await new Promise((resolve) => {\r\n      this.productAPI.getKindsList().then((response) => {\r\n        this.setState({ kindsList: response.data.list }, () => resolve(true))\r\n      })\r\n    })\r\n    await new Promise((resolve) => {\r\n      this.productAPI.getGradesList().then((response) => {\r\n        this.setState({ gradesList: response.data.list }, () => resolve(true))\r\n      })\r\n    })\r\n    await new Promise((resolve) => {\r\n      this.productAPI.getColorsList().then((response) => {\r\n        this.setState({ colorsList: response.data.list }, () => resolve(true))\r\n      })\r\n    })\r\n  }\r\n\r\n  getProductData = () => {\r\n    return new Promise((resolve, reject) => {\r\n      this.productAPI\r\n        .getProductData(this.props.seqNo)\r\n        .then((response) => {\r\n          if (response.code === 0) {\r\n            this.setState({ formData: response.data }, () =>\r\n              this.checkCanSubmit().then(() => resolve(true))\r\n            )\r\n          } else {\r\n            reject(false)\r\n            message.error(response.message)\r\n            if (this.props.isDrawMode) {\r\n              this.props.onClose()\r\n            } else {\r\n              this.history.push('/Products/List')\r\n            }\r\n          }\r\n        })\r\n        .catch(() => {\r\n          reject(false)\r\n          message.error('Error!')\r\n          if (this.props.isDrawMode) {\r\n            this.props.onClose()\r\n          } else {\r\n            this.history.push('/Products/List')\r\n          }\r\n        })\r\n    })\r\n  }\r\n\r\n  getFormErrorStatus = (key) => {\r\n    const { formStatus } = this.state\r\n    const field = formStatus.find((field) => field.key === key)\r\n    return field ? field.error : false\r\n  }\r\n\r\n  onInputChange = (event) => {\r\n    const type = event.target.getAttribute('id')\r\n    const text = event.target.value\r\n    const { formData } = this.state\r\n    formData[type] = text\r\n    this.checkData(formData, type)\r\n  }\r\n  onSelectChange = (type, value) => {\r\n    const { formData } = this.state\r\n    formData[type] = value\r\n    this.checkData(formData, type)\r\n  }\r\n  onNumberChange = (type, value) => {\r\n    const { formData } = this.state\r\n    formData[type] = value\r\n    this.checkData(formData, type)\r\n  }\r\n\r\n  // code select\r\n  onCodeSearch = (key, value) => {\r\n    if (!value.includes(' ')) {\r\n      const { formData, search } = this.state\r\n      if (key !== 'partId') {\r\n        formData[key] = value.toUpperCase()\r\n        formData.productId = `${formData.partId}${\r\n          formData.customCode1 ? `-${formData.customCode1}` : ''\r\n        }${formData.customCode2 ? `-${formData.customCode2}` : ''}${\r\n          formData.customCode3 ? `-${formData.customCode3}` : ''\r\n        }`\r\n      }\r\n      search[key] = value.toUpperCase()\r\n      this.setState({ formData, search })\r\n    }\r\n  }\r\n  onCodeSelect = (key, value) => {\r\n    const { formData, search, kindsList } = this.state\r\n    if (key === 'partId') {\r\n      search.partId = ''\r\n    } else {\r\n      search[key] = value\r\n    }\r\n    formData[key] = value\r\n    if (key === 'customCode1') {\r\n      const kind = kindsList.find((kind) => kind.kindId.toLowerCase() === value.toLowerCase())\r\n      if (kind) formData.kindShortName = kind.shortName\r\n    }\r\n    formData.productId = `${formData.partId}${\r\n      formData.customCode1 ? `-${formData.customCode1}` : ''\r\n    }${formData.customCode2 ? `-${formData.customCode2}` : ''}${\r\n      formData.customCode3 ? `-${formData.customCode3}` : ''\r\n    }`\r\n    this.setState({ search }, () => this.checkData(formData, key))\r\n  }\r\n  // get code options\r\n  getPartOptions = () => {\r\n    const { formData, search, partsList } = this.state\r\n    return partsList\r\n      .filter(\r\n        (part) =>\r\n          formData.partId === part.partId ||\r\n          (search.partId && part.partId.toLowerCase().includes(search.partId.toLowerCase()))\r\n      )\r\n      .map((part) => {\r\n        return {\r\n          label: part.partId,\r\n          value: part.partId\r\n        }\r\n      })\r\n  }\r\n  getKindOptions = () => {\r\n    const { formData, search, kindsList } = this.state\r\n    const kinds = kindsList.filter(\r\n      (kind) =>\r\n        formData.kindId === kind.kindId ||\r\n        (search.customCode1 && kind.kindId.toLowerCase().includes(search.customCode1.toLowerCase()))\r\n    )\r\n    if (search.customCode1 && !kinds.find((kind) => kind.kindId === search.customCode1)) {\r\n      kinds.unshift({ kindId: search.customCode1 })\r\n    }\r\n    return kinds.map((kind) => {\r\n      return {\r\n        label: kind.kindId,\r\n        value: kind.kindId\r\n      }\r\n    })\r\n  }\r\n  getGradeOptions = () => {\r\n    const { formData, search, gradesList } = this.state\r\n    const grades = gradesList.filter(\r\n      (grade) =>\r\n        formData.gradeId === grade.gradeId ||\r\n        (search.customCode2 &&\r\n          grade.gradeId.toLowerCase().includes(search.customCode2.toLowerCase()))\r\n    )\r\n    if (search.customCode2 && !grades.find((grade) => grade.gradeId === search.customCode2)) {\r\n      grades.unshift({ gradeId: search.customCode2 })\r\n    }\r\n    return grades.map((grade) => {\r\n      return {\r\n        label: grade.gradeId,\r\n        value: grade.gradeId\r\n      }\r\n    })\r\n  }\r\n  getColorOptions = () => {\r\n    const { formData, search, colorsList } = this.state\r\n    const colors = colorsList.filter(\r\n      (color) =>\r\n        formData.colorId === color.colorId ||\r\n        (search.customCode3 &&\r\n          color.colorId.toLowerCase().includes(search.customCode3.toLowerCase()))\r\n    )\r\n    if (search.customCode3 && !colors.find((color) => color.colorId === search.customCode3)) {\r\n      colors.unshift({ colorId: search.customCode3 })\r\n    }\r\n    return colors.map((color) => {\r\n      return {\r\n        label: color.colorId,\r\n        value: color.colorId\r\n      }\r\n    })\r\n  }\r\n\r\n  // field validator\r\n  checkData = (formData, fieldKey) => {\r\n    const { formStatus } = this.state\r\n    const field = formStatus.find((field) => field.key === fieldKey)\r\n    if (field) {\r\n      const value = formData[fieldKey]\r\n      let error = false\r\n      if (field.required && !value) {\r\n        error = true\r\n      }\r\n      if (field.length && field.length.length > 0 && value) {\r\n        if (field.length.length === 1 && value.length > field.length[0]) {\r\n          error = true\r\n        } else if (\r\n          field.length.length > 1 &&\r\n          (value.length < field.length[0] || value.length > field.length[1])\r\n        ) {\r\n          error = true\r\n        }\r\n      }\r\n      if (field.regExp && !field.regExp.test(value)) {\r\n        error = true\r\n      }\r\n      field.error = error\r\n    }\r\n    this.setState({ formData, formStatus }, () => this.checkCanSubmit())\r\n  }\r\n  checkCanSubmit = () => {\r\n    return new Promise((resolve) => {\r\n      this.setState({ canSubmit: !this.state.formStatus.some((field) => field.error) }, () =>\r\n        resolve(true)\r\n      )\r\n    })\r\n  }\r\n\r\n  // 新增\r\n  handleCreate = (back) => {\r\n    this.setState({ loading: true }, () => {\r\n      this.productAPI\r\n        .addProductData(this.state.formData)\r\n        .then((response) => {\r\n          if (response.code === 0) {\r\n            message.success('成功新增資料')\r\n            if (back) {\r\n              if (this.props.isDrawMode) {\r\n                this.props.onClose()\r\n              } else {\r\n                this.history.push('/Products/List')\r\n              }\r\n            } else {\r\n              const drawerContent = document.querySelector('.ant-drawer-body')\r\n              const layoutContent = document.getElementById('layout-content-wrapper')\r\n              if (drawerContent) drawerContent.scrollTo({ top: 0, behavior: 'smooth' })\r\n              if (layoutContent) layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\r\n              this.setState({\r\n                loading: false,\r\n                formData: { ...initData },\r\n                formStatus: JSON.parse(JSON.stringify(formRules)),\r\n                search: {\r\n                  partId: '',\r\n                  customCode1: '',\r\n                  customCode2: '',\r\n                  customCode3: ''\r\n                },\r\n                canSubmit: false\r\n              })\r\n            }\r\n          } else {\r\n            Modal.error({\r\n              title: response.message,\r\n              icon: <ExclamationCircleOutlined />,\r\n              okText: '確認',\r\n              cancelText: null,\r\n              onOk: () => {\r\n                this.setState({ loading: false })\r\n              }\r\n            })\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          message.error(error.response.data.message)\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n  // 修改\r\n  handleSubmit = (back) => {\r\n    this.setState({ loading: true }, () => {\r\n      this.productAPI\r\n        .updateProductData(this.state.formData)\r\n        .then((response) => {\r\n          if (response.code === 0) {\r\n            message.success('成功更新資料')\r\n            if (back) {\r\n              if (this.props.isDrawMode) {\r\n                this.props.onClose()\r\n              } else {\r\n                this.history.push('/Products/List')\r\n              }\r\n            } else {\r\n              const drawerContent = document.querySelector('.ant-drawer-body')\r\n              const layoutContent = document.getElementById('layout-content-wrapper')\r\n              if (drawerContent) drawerContent.scrollTo({ top: 0, behavior: 'smooth' })\r\n              if (layoutContent) layoutContent.scrollTo({ top: 0, behavior: 'smooth' })\r\n              this.getProductData()\r\n            }\r\n          } else {\r\n            Modal.error({\r\n              title: response.message,\r\n              icon: <ExclamationCircleOutlined />,\r\n              content: response.data.map((tip, index) => (\r\n                <>\r\n                  {index > 0 && <br />}\r\n                  {tip.split(': ')[1]}\r\n                </>\r\n              )),\r\n              okText: '確認',\r\n              cancelText: null,\r\n              onOk: () => {\r\n                this.setState({ loading: false })\r\n              }\r\n            })\r\n          }\r\n        })\r\n        .catch(() => {\r\n          message.error('資料更新失敗')\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const rowSetting = this.props.isDrawMode\r\n      ? {\r\n          gutter: [12, 12],\r\n          type: 'flex',\r\n          align: 'middle',\r\n          style: { marginBottom: 12, marginTop: 12 }\r\n        }\r\n      : {\r\n          gutter: [24, 24],\r\n          type: 'flex',\r\n          align: 'middle',\r\n          style: { marginBottom: 24, marginTop: 24 }\r\n        }\r\n    const colSetting1 = this.props.isDrawMode\r\n      ? {\r\n          span: 24\r\n        }\r\n      : {\r\n          xs: 24,\r\n          sm: 24,\r\n          md: 24,\r\n          lg: 8\r\n        }\r\n    const colSetting2 = this.props.isDrawMode\r\n      ? {\r\n          span: 24\r\n        }\r\n      : {\r\n          xs: 24,\r\n          sm: 24,\r\n          md: 24,\r\n          lg: 12\r\n        }\r\n    const colSetting3 = { span: 24 }\r\n    const codeColSetting = {\r\n      xs: 24,\r\n      sm: 24,\r\n      md: 12,\r\n      lg: 12\r\n    }\r\n    return (\r\n      <>\r\n        {!this.props.isDrawMode && (\r\n          <Breadcrumb style={{ marginBottom: 10 }}>\r\n            <Breadcrumb.Item>\r\n              <Link to='/Products/List'>商品</Link>\r\n            </Breadcrumb.Item>\r\n            <Breadcrumb.Item>{this.props.createFlag ? '新增商品' : '修改商品資料'}</Breadcrumb.Item>\r\n          </Breadcrumb>\r\n        )}\r\n        <Spin spinning={this.state.loading}>\r\n          <Card className='form-detail-card'>\r\n            <Row {...rowSetting}>\r\n              <Col {...colSetting3}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='商品編號'\r\n                  content={<Input value={this.state.formData.productId} disabled={true} />}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting3}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='商品種類'\r\n                  content={\r\n                    <Select\r\n                      value={this.state.formData.productType}\r\n                      onChange={this.onSelectChange.bind(this, 'productType')}\r\n                      disabled={!this.props.createFlag}\r\n                      style={{ width: '100%' }}\r\n                    >\r\n                      {this.state.productType.map((type) => (\r\n                        <Select.Option key={type.productType} value={type.productType}>\r\n                          {type.desc}\r\n                        </Select.Option>\r\n                      ))}\r\n                    </Select>\r\n                  }\r\n                />\r\n              </Col>\r\n              <Col {...colSetting3}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='代碼'\r\n                  align='flex-start'\r\n                  content={\r\n                    <Row gutter={[12]} className='product-code-row'>\r\n                      <Col {...codeColSetting}>\r\n                        <Select\r\n                          placeholder='零件編號'\r\n                          value={this.state.formData.partId}\r\n                          searchValue={this.state.search.partId}\r\n                          showSearch={true}\r\n                          showArrow={false}\r\n                          options={this.getPartOptions()}\r\n                          onSearch={this.onCodeSearch.bind(this, 'partId')}\r\n                          onSelect={this.onCodeSelect.bind(this, 'partId')}\r\n                          style={{ width: '100%' }}\r\n                          notFoundContent={null}\r\n                          disabled={!this.props.createFlag}\r\n                        />\r\n                      </Col>\r\n                      <Col {...codeColSetting}>\r\n                        <AutoComplete\r\n                          placeholder='車種或自訂代碼1'\r\n                          value={this.state.formData.customCode1}\r\n                          options={this.getKindOptions()}\r\n                          onSearch={this.onCodeSearch.bind(this, 'customCode1')}\r\n                          onSelect={this.onCodeSelect.bind(this, 'customCode1')}\r\n                          style={{ width: '100%' }}\r\n                          notFoundContent={null}\r\n                          disabled={!this.props.createFlag}\r\n                        />\r\n                      </Col>\r\n                      <Col {...codeColSetting}>\r\n                        <AutoComplete\r\n                          placeholder='等級或自訂代碼2'\r\n                          value={this.state.formData.customCode2}\r\n                          options={this.getGradeOptions()}\r\n                          onSearch={this.onCodeSearch.bind(this, 'customCode2')}\r\n                          onSelect={this.onCodeSelect.bind(this, 'customCode2')}\r\n                          style={{ width: '100%' }}\r\n                          notFoundContent={null}\r\n                          disabled={!this.props.createFlag}\r\n                        />\r\n                      </Col>\r\n                      <Col {...codeColSetting}>\r\n                        <AutoComplete\r\n                          placeholder='顏色或自訂代碼3'\r\n                          value={this.state.formData.customCode3}\r\n                          options={this.getColorOptions()}\r\n                          onSearch={this.onCodeSearch.bind(this, 'customCode3')}\r\n                          onSelect={this.onCodeSelect.bind(this, 'customCode3')}\r\n                          style={{ width: '100%' }}\r\n                          notFoundContent={null}\r\n                          disabled={!this.props.createFlag}\r\n                        />\r\n                      </Col>\r\n                    </Row>\r\n                  }\r\n                  message='零件編號為必填'\r\n                  error={this.getFormErrorStatus('partId')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting2}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='車種'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.kindShortName}\r\n                      id='kindShortName'\r\n                    />\r\n                  }\r\n                />\r\n              </Col>\r\n              <Col {...colSetting2}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='單位'\r\n                  content={\r\n                    <Select\r\n                      onChange={this.onSelectChange.bind(this, 'unit')}\r\n                      value={this.state.formData.unit}\r\n                      options={StaticStorage.unitList.map((unit) => {\r\n                        return {\r\n                          label: unit.desc,\r\n                          value: unit.unit\r\n                        }\r\n                      })}\r\n                      optionFilterProp='children'\r\n                      style={{ width: '100%' }}\r\n                    />\r\n                  }\r\n                />\r\n              </Col>\r\n              <Col {...colSetting3}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='商品名稱'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.name}\r\n                      id='name'\r\n                    />\r\n                  }\r\n                  message='商品名稱為必填'\r\n                  error={this.getFormErrorStatus('name')}\r\n                />\r\n              </Col>\r\n              <Col {...colSetting1}>\r\n                <FormItem\r\n                  required={true}\r\n                  title='定價1'\r\n                  content={\r\n                    <InputNumber\r\n                      onChange={this.onNumberChange.bind(this, 'price1')}\r\n                      value={this.state.formData.price1}\r\n                      min={0}\r\n                      max={99999999}\r\n                      step={1}\r\n                      style={{ display: 'block', width: '100%' }}\r\n                    />\r\n                  }\r\n                />\r\n              </Col>\r\n              <Col {...colSetting1}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='定價2'\r\n                  content={\r\n                    <InputNumber\r\n                      onChange={this.onNumberChange.bind(this, 'price2')}\r\n                      value={this.state.formData.price2}\r\n                      min={0}\r\n                      max={99999999}\r\n                      step={1}\r\n                      style={{ display: 'block', width: '100%' }}\r\n                    />\r\n                  }\r\n                />\r\n              </Col>\r\n              <Col {...colSetting1}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='定價3'\r\n                  content={\r\n                    <InputNumber\r\n                      onChange={this.onNumberChange.bind(this, 'price3')}\r\n                      value={this.state.formData.price3}\r\n                      min={0}\r\n                      max={99999999}\r\n                      step={1}\r\n                      style={{ display: 'block', width: '100%' }}\r\n                    />\r\n                  }\r\n                />\r\n              </Col>\r\n              <Col {...colSetting2}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='規格'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.norm}\r\n                      id='norm'\r\n                    />\r\n                  }\r\n                />\r\n              </Col>\r\n              <Col {...colSetting2}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='原廠料號'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.vendorProductId}\r\n                      id='vendorProductId'\r\n                    />\r\n                  }\r\n                />\r\n              </Col>\r\n              <Col {...colSetting1}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='安全量'\r\n                  content={\r\n                    <InputNumber\r\n                      onChange={this.onNumberChange.bind(this, 'safetyStock')}\r\n                      value={this.state.formData.safetyStock}\r\n                      min={0}\r\n                      max={999999}\r\n                      step={1}\r\n                      style={{ display: 'block', width: '100%' }}\r\n                    />\r\n                  }\r\n                />\r\n              </Col>\r\n              <Col {...colSetting1}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='庫存量'\r\n                  content={\r\n                    <InputNumber\r\n                      onChange={this.onNumberChange.bind(this, 'inventory')}\r\n                      value={this.state.formData.inventory}\r\n                      min={0}\r\n                      max={999999}\r\n                      step={1}\r\n                      style={{ display: 'block', width: '100%' }}\r\n                    />\r\n                  }\r\n                />\r\n              </Col>\r\n              <Col {...colSetting1}>\r\n                <FormItem\r\n                  required={false}\r\n                  title='庫存地點'\r\n                  content={\r\n                    <Input\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.storingPlace}\r\n                      id='storingPlace'\r\n                    />\r\n                  }\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n          <Card className='form-detail-card'>\r\n            <Row {...rowSetting}>\r\n              <Col span={24}>\r\n                <FormItem\r\n                  required={false}\r\n                  align='flex-start'\r\n                  title='備註'\r\n                  content={\r\n                    <Input.TextArea\r\n                      onChange={this.onInputChange}\r\n                      value={this.state.formData.note}\r\n                      id='note'\r\n                      autoSize={{ minRows: 4, maxRows: 4 }}\r\n                    />\r\n                  }\r\n                  message='長度需在255字內'\r\n                  error={this.getFormErrorStatus('note')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n          <div style={{ margin: '20px', textAlign: 'center' }}>\r\n            <Space>\r\n              {this.props.createFlag ? (\r\n                <>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    disabled={!this.state.canSubmit}\r\n                    onClick={this.handleCreate.bind(this, true)}\r\n                  >\r\n                    儲存\r\n                  </Button>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    disabled={!this.state.canSubmit}\r\n                    onClick={this.handleCreate.bind(this, false)}\r\n                  >\r\n                    儲存並繼續新增\r\n                  </Button>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    disabled={!this.state.canSubmit}\r\n                    onClick={this.handleSubmit.bind(this, false)}\r\n                  >\r\n                    儲存\r\n                  </Button>\r\n                  <Button\r\n                    type='primary'\r\n                    icon={<CheckOutlined />}\r\n                    disabled={!this.state.canSubmit}\r\n                    onClick={this.handleSubmit.bind(this, true)}\r\n                  >\r\n                    儲存並返回列表\r\n                  </Button>\r\n                </>\r\n              )}\r\n              <Button danger icon={<CloseOutlined />} onClick={this.handleCancel}>\r\n                取消\r\n              </Button>\r\n            </Space>\r\n          </div>\r\n        </Spin>\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport ProductForm from './ProductForm'\r\n\r\nexport default class ProductDetail extends React.Component {\r\n  render() {\r\n    const seqNo = this.props.seqNo !== undefined ? this.props.seqNo : this.props.match.params.seqNo\r\n    return (\r\n      <ProductForm\r\n        createFlag={this.props.createFlag}\r\n        isDrawMode={this.props.isDrawMode}\r\n        drawModeVisible={this.props.drawModeVisible}\r\n        seqNo={seqNo}\r\n        onClose={this.props.onClose}\r\n      />\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { createHashHistory } from 'history'\r\nimport { Button, Col, Input, Row, Space, Table, Tooltip, Modal } from 'antd'\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\r\nimport { ListAddIcon, ListSearchIcon, ListEditIcon, ListDeleteIcon, UtilCloseIcon } from '../icon/Icon'\r\nimport { PageDrawer } from '../../component/PageDrawer'\r\nimport { getPaginationSetting } from '../../component/paginationSetting'\r\nimport ProductDetail from './ProductDetail'\r\nimport StaticStorage from '../../model/storage/static'\r\nimport ProductAPI from '../../model/api/product'\r\n\r\nexport default class Product extends React.Component {\r\n  history = createHashHistory()\r\n  productAPI = new ProductAPI()\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      search: {\r\n        productId: '',\r\n        customCode1: '',\r\n        name: ''\r\n      },\r\n      list: [],\r\n      pagination: {\r\n        current: 1,\r\n        total: 0,\r\n        pageSize: 50,\r\n        position: ['bottomLeft']\r\n      },\r\n      detailCreate: true,\r\n      detailSeqNo: 0,\r\n      detailVisible: false\r\n    }\r\n    this.getList()\r\n  }\r\n\r\n  getList = () => {\r\n    const { search, pagination } = this.state\r\n    const requestData = {\r\n      pageNum: pagination.current,\r\n      pageSize: pagination.pageSize,\r\n      productId: `%${search.productId}%`,\r\n      name: `%${search.name}%`,\r\n      customCode1: `%${search.customCode1}%`\r\n    }\r\n    this.productAPI\r\n      .getProductList(requestData)\r\n      .then((response) => {\r\n        pagination.total = response.data.total\r\n        this.setState({ loading: false, list: response.data.list, pagination })\r\n      })\r\n      .catch(() => this.setState({ loading: false }))\r\n  }\r\n\r\n  // search\r\n  onInputChange = (key, e) => {\r\n    const { search } = this.state\r\n    search[key] = e.target.value\r\n    this.setState({ search })\r\n  }\r\n  handleSearch = () => {\r\n    this.setState({ loading: true, list: [] }, () => this.getList())\r\n  }\r\n\r\n  getColumns = () => {\r\n    const _this = this\r\n    const { pagination } = this.state\r\n    return [\r\n      {\r\n        dataIndex: 'seqNo',\r\n        title: '執行',\r\n        width: 50,\r\n        render: (seqNo) => (\r\n          <Space className='list-table-option'>\r\n            <Tooltip title='編輯'>\r\n              <Button\r\n                className='list-table-option-edit'\r\n                size='small'\r\n                onClick={_this.onDetailOpen.bind(_this, false, seqNo)}\r\n              >\r\n                <ListEditIcon />\r\n              </Button>\r\n            </Tooltip>\r\n            <Tooltip title='刪除'>\r\n              <Button\r\n                className='list-table-option-delete'\r\n                size='small'\r\n                onClick={_this.handleDelete.bind(_this, seqNo)}\r\n              >\r\n                <ListDeleteIcon />\r\n              </Button>\r\n            </Tooltip>\r\n          </Space>\r\n        )\r\n      },\r\n      {\r\n        title: '序',\r\n        width: 30,\r\n        align: 'center',\r\n        render: (a, b, i) => (pagination.current - 1) * pagination.pageSize + i + 1\r\n      },\r\n      {\r\n        title: '商品編號',\r\n        dataIndex: 'productId'\r\n      },\r\n      {\r\n        title: '車種名稱',\r\n        dataIndex: 'kindShortName'\r\n      },\r\n      {\r\n        title: '商品名稱',\r\n        dataIndex: 'name'\r\n      },\r\n      {\r\n        title: '單位',\r\n        dataIndex: 'unit',\r\n        render: (data) => {\r\n          const unit = StaticStorage.unitList.find((unit) => unit.unit === data)\r\n          return unit ? unit.desc : data\r\n        }\r\n      },\r\n      {\r\n        title: '規格',\r\n        dataIndex: 'norm'\r\n      },\r\n      {\r\n        title: '原廠料號',\r\n        dataIndex: 'vendorProductId'\r\n      },\r\n      {\r\n        title: '定價1',\r\n        dataIndex: 'price1',\r\n        align: 'right',\r\n        render: (data) => {\r\n          return `$ ${data}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\r\n        }\r\n      },\r\n      {\r\n        title: '定價2',\r\n        dataIndex: 'price2',\r\n        align: 'right',\r\n        render: (data) => {\r\n          return `$ ${data}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\r\n        }\r\n      },\r\n      {\r\n        title: '定價3',\r\n        dataIndex: 'price3',\r\n        align: 'right',\r\n        render: (data) => {\r\n          return `$ ${data}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\r\n        }\r\n      },\r\n      {\r\n        title: '安全量',\r\n        align: 'right',\r\n        dataIndex: 'safetyStock'\r\n      },\r\n      {\r\n        title: '庫存地點',\r\n        dataIndex: 'storingPlace'\r\n      }\r\n    ]\r\n  }\r\n\r\n  onEdit = (seqNo) => {\r\n    console.log(seqNo)\r\n  }\r\n\r\n  handleDelete = (seqNo) => {\r\n    Modal.confirm({\r\n      title: '確定要刪除此筆資料嗎',\r\n      icon: <ExclamationCircleOutlined />,\r\n      okText: '確認',\r\n      cancelText: '取消',\r\n      onOk: () => {\r\n        console.log('delete: ' + seqNo)\r\n      }\r\n    })\r\n  }\r\n\r\n  onPageChange = (page, pageSize) => {\r\n    const { pagination } = this.state\r\n    pagination.current = page\r\n    pagination.pageSize = pageSize\r\n    this.setState({ loading: true, list: [] }, () => this.getList())\r\n  }\r\n\r\n  onDetailOpen = (detailCreate, detailSeqNo) =>\r\n    this.setState({ detailCreate, detailSeqNo, detailVisible: true })\r\n  onDetailClose = () => this.setState({ detailVisible: false })\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className='list-header'>\r\n          <Row type='flex' justify='space-between'>\r\n            <Col>\r\n              <Button\r\n                type='primary'\r\n                icon={<ListAddIcon />}\r\n                onClick={() => this.onDetailOpen(true, 0)}\r\n                className='list-header-add'\r\n              >\r\n                新增\r\n              </Button>\r\n            </Col>\r\n            <Col>\r\n              <Space>\r\n                <Input\r\n                  placeholder='商品編號'\r\n                  allowClear={true}\r\n                  onChange={this.onInputChange.bind(this, 'productId')}\r\n                  style={{ width: 100 }}\r\n                />\r\n                <Input\r\n                  placeholder='自訂碼1'\r\n                  allowClear={true}\r\n                  onChange={this.onInputChange.bind(this, 'customCode1')}\r\n                  style={{ width: 100 }}\r\n                />\r\n                <Input\r\n                  placeholder='商品名稱'\r\n                  allowClear={true}\r\n                  onChange={this.onInputChange.bind(this, 'name')}\r\n                  style={{ width: 140 }}\r\n                />\r\n                <Button\r\n                  type='primary'\r\n                  icon={<ListSearchIcon />}\r\n                  onClick={this.handleSearch}\r\n                  className='list-header-search'\r\n                >\r\n                  查詢\r\n                </Button>\r\n              </Space>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        <Table\r\n          className='list-table-wrapper'\r\n          rowKey='seqNo'\r\n          size='small'\r\n          columns={this.getColumns()}\r\n          loading={this.state.loading}\r\n          dataSource={this.state.list}\r\n          pagination={getPaginationSetting(this.state.pagination, this.onPageChange)}\r\n        />\r\n        <PageDrawer\r\n          width={480}\r\n          placement='right'\r\n          closeIcon={<UtilCloseIcon />}\r\n          title={this.state.detailCreate ? '新增商品' : '編輯商品資料'}\r\n          visible={this.state.detailVisible}\r\n          onClose={this.onDetailClose}\r\n        >\r\n          <ProductDetail\r\n            createFlag={this.state.detailCreate}\r\n            isDrawMode={true}\r\n            drawModeVisible={this.state.detailVisible}\r\n            seqNo={this.state.detailSeqNo}\r\n            onClose={this.onDetailClose}\r\n          />\r\n        </PageDrawer>\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import { restInstance } from '../runner/rest'\r\n\r\nexport default class PurchaseAPI {\r\n  getPurchaseList = (data) => {\r\n    return restInstance('get', '/purchases', data).then((response) => response.data)\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { createHashHistory } from 'history'\r\nimport {\r\n  Button,\r\n  Col,\r\n  Input,\r\n  Select,\r\n  DatePicker,\r\n  Row,\r\n  Space,\r\n  Table,\r\n  Tooltip,\r\n  Modal\r\n} from 'antd'\r\nimport moment from 'moment'\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\r\nimport {\r\n  ListAddIcon,\r\n  ListSearchIcon,\r\n  ListEditIcon,\r\n  ListDeleteIcon,\r\n  UtilCloseIcon\r\n} from '../icon/Icon'\r\nimport { PageDrawer } from '../../component/PageDrawer'\r\nimport { getPaginationSetting } from '../../component/paginationSetting'\r\nimport PurchaseAPI from '../../model/api/purchase'\r\n\r\nexport default class Purchase extends React.Component {\r\n  history = createHashHistory()\r\n  purchaseAPI = new PurchaseAPI()\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      search: {\r\n        date: [\r\n          moment()\r\n            .subtract(3, 'month')\r\n            .startOf('day'),\r\n          moment().startOf('day')\r\n        ],\r\n        id: undefined,\r\n        keyword: ''\r\n      },\r\n      list: [],\r\n      pagination: {\r\n        current: 1,\r\n        total: 0,\r\n        pageSize: 10,\r\n        position: ['bottomLeft']\r\n      }\r\n    }\r\n    this.getList()\r\n  }\r\n\r\n  getList = () => {\r\n    const { search, pagination } = this.state\r\n    const requestData = {\r\n      pageNum: pagination.current,\r\n      pageSize: pagination.pageSize\r\n    }\r\n    if (search.id) {\r\n      requestData.queryBy = search.id\r\n      requestData.condition = search.keyword\r\n    }\r\n    if (search.date) {\r\n      requestData.beginDate = search.date[0].format('YYYY-MM-DD')\r\n      requestData.endDate = search.date[1].format('YYYY-MM-DD')\r\n    }\r\n    this.purchaseAPI\r\n      .getPurchaseList(requestData)\r\n      .then(response => {\r\n        pagination.total = response.data.total\r\n        this.setState({ loading: false, list: response.data.list, pagination })\r\n      })\r\n      .catch(() => this.setState({ loading: false }))\r\n  }\r\n\r\n  // search\r\n  onDateChange = date => {\r\n    const { search } = this.state\r\n    search.date = date\r\n    this.setState({ search, loading: true, list: [] }, () => this.getList())\r\n  }\r\n  onSelectChange = value => {\r\n    const { search } = this.state\r\n    search.id = value\r\n    if (!value) search.keyword = ''\r\n    this.setState({ search })\r\n  }\r\n  onInputChange = e => {\r\n    const { search } = this.state\r\n    search.keyword = e.target.value\r\n    this.setState({ search })\r\n  }\r\n  handleSearch = () => {\r\n    this.setState({ loading: true, list: [] }, () => this.getList())\r\n  }\r\n\r\n  getColumns = () => {\r\n    const _this = this\r\n    const { pagination } = this.state\r\n    return [\r\n      {\r\n        dataIndex: 'purchaseId',\r\n        title: '執行',\r\n        width: 50,\r\n        render: (purchaseId) => (\r\n          <Space className='list-table-option'>\r\n            to do\r\n            {/* <Tooltip title='編輯'>\r\n              <Button\r\n                className='list-table-option-edit'\r\n                size='small'\r\n                onClick={_this.onDetailOpen.bind(_this, purchaseId)}\r\n              >\r\n                <ListEditIcon />\r\n              </Button>\r\n            </Tooltip>\r\n            <Tooltip title='刪除'>\r\n              <Button\r\n                className='list-table-option-delete'\r\n                size='small'\r\n                onClick={_this.handleDelete.bind(_this, purchaseId)}\r\n              >\r\n                <ListDeleteIcon />\r\n              </Button>\r\n            </Tooltip> */}\r\n          </Space>\r\n        )\r\n      },\r\n      {\r\n        title: '序',\r\n        width: 30,\r\n        align: 'center',\r\n        render: (a, b, i) => (pagination.current - 1) * pagination.pageSize + i + 1\r\n      },\r\n      {\r\n        title: '日期',\r\n        dataIndex: 'crDate'\r\n      },\r\n      {\r\n        title: '進貨編號',\r\n        dataIndex: 'purchaseId'\r\n      },\r\n      {\r\n        title: '廠商代號',\r\n        dataIndex: 'vendorId'\r\n      },\r\n      {\r\n        title: '廠商名稱',\r\n        dataIndex: 'vendorName'\r\n      },\r\n      {\r\n        title: '總金額',\r\n        dataIndex: 'totalAmount',\r\n        align: 'right',\r\n        render: (data) => {\r\n          return `$ ${data}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\r\n        }\r\n      }\r\n    ]\r\n  }\r\n\r\n  onEdit = (seqNo) => {\r\n    console.log(seqNo)\r\n  }\r\n\r\n  handleDelete = (seqNo) => {\r\n    Modal.confirm({\r\n      title: '確定要刪除此筆資料嗎',\r\n      icon: <ExclamationCircleOutlined />,\r\n      okText: '確認',\r\n      cancelText: '取消',\r\n      onOk: () => {\r\n        console.log('delete: ' + seqNo)\r\n      }\r\n    })\r\n  }\r\n\r\n  onPageChange = (page, pageSize) => {\r\n    const { pagination } = this.state\r\n    pagination.current = page\r\n    pagination.pageSize = pageSize\r\n    this.setState({ loading: true, list: [] }, () => this.getList())\r\n  }\r\n\r\n  onDetailOpen = (detailCreate, detailSeqNo) =>\r\n    this.setState({ detailCreate, detailSeqNo, detailVisible: true })\r\n  onDetailClose = () => this.setState({ detailVisible: false })\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className='list-header'>\r\n          <Row type='flex' justify='space-between'>\r\n            <Col>\r\n              <Space>\r\n                <Button\r\n                  type='primary'\r\n                  icon={<ListAddIcon />}\r\n                  onClick={() => this.onDetailOpen(true, 0)}\r\n                  className='list-header-add'\r\n                >\r\n                  新增\r\n                </Button>\r\n                <DatePicker.RangePicker\r\n                  defaultValue={this.state.search.date}\r\n                  allowClear={false}\r\n                  onChange={this.onDateChange}\r\n                />\r\n              </Space>\r\n            </Col>\r\n            <Col>\r\n              <Space>\r\n                <Select\r\n                  placeholder='搜尋欄位'\r\n                  value={this.state.search.id}\r\n                  allowClear={true}\r\n                  onChange={this.onSelectChange}\r\n                >\r\n                  <Select.Option value='PURCHASE_ID'>進貨單號</Select.Option>\r\n                  <Select.Option value='VENDOR_ID'>廠商代號</Select.Option>\r\n                  <Select.Option value='NOTE'>備註</Select.Option>\r\n                </Select>\r\n                <Input\r\n                  placeholder='搜尋內容'\r\n                  allowClear={true}\r\n                  onChange={this.onInputChange}\r\n                />\r\n                <Button\r\n                  type='primary'\r\n                  icon={<ListSearchIcon />}\r\n                  onClick={this.handleSearch}\r\n                  className='list-header-search'\r\n                >\r\n                  查詢\r\n                </Button>\r\n              </Space>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        <Table\r\n          className='list-table-wrapper'\r\n          rowKey='purchaseId'\r\n          size='small'\r\n          columns={this.getColumns()}\r\n          loading={this.state.loading}\r\n          dataSource={this.state.list}\r\n          pagination={getPaginationSetting(\r\n            this.state.pagination,\r\n            this.onPageChange\r\n          )}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import { restInstance } from '../runner/rest'\r\n\r\nexport default class GlobalAPI {\r\n  getUnitList = () => {\r\n    return restInstance('get', '/common/units').then((response) => response.data)\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport { ConfigProvider, Layout, message } from 'antd'\r\nimport zhTW from 'antd/lib/locale/zh_TW'\r\nimport moment from 'moment'\r\nimport 'moment/locale/zh-tw'\r\nimport { SiderSwitchIcon } from './icon/Icon'\r\nimport { Login } from './Login'\r\nimport { LayoutSider } from './layout/Sider'\r\nimport { LayoutHeader } from './layout/Header'\r\nimport { Dashboard } from './dashboard/Dashboard'\r\nimport Supplier from './supplier/Supplier'\r\nimport SupplierDetail from './supplier/SupplierDetail'\r\nimport Customer from './customer/Customer'\r\nimport CustomerDetail from './customer/CustomerDetail'\r\nimport Employee from './employee/Employee'\r\nimport EmployeeDetail from './employee/EmployeeDetail'\r\nimport Vehicle from './vehicle/Vehicle'\r\nimport VehicleDetail from './vehicle/VehicleDetail'\r\nimport Level from './level/Level'\r\nimport LevelDetail from './level/LevelDetail'\r\nimport Colour from './colour/Colour'\r\nimport ColourDetail from './colour/ColourDetail'\r\nimport Component from './component/Component'\r\nimport ComponentDetail from './component/ComponentDetail'\r\nimport Product from './product/Product'\r\nimport ProductDetail from './product/ProductDetail'\r\nimport Purchase from './purchase/Purchase'\r\nimport StaticStorage from '../model/storage/static'\r\nimport GlobalAPI from '../model/api/global'\r\nimport { testRestInstance } from '../model/runner/rest'\r\n\r\nmoment.locale('zh-tw')\r\n\r\nexport default class LayoutPage extends React.Component {\r\n  staticStorage = new StaticStorage()\r\n  globalAPI = new GlobalAPI()\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    const cookies = document.cookie.split(';')\r\n    this.state = {\r\n      isLand: !cookies.find((cookie) => cookie.includes('MOTOBUY_AUTH')),\r\n      isAuth: false,\r\n      siderCollapsed: false\r\n    }\r\n    if (cookies.find((cookie) => cookie.includes('MOTOBUY_AUTH'))) {\r\n      testRestInstance('get', '/auth')\r\n        .then((response) => {\r\n          if (response.data.code === 0) {\r\n            this.getGlobalData().then(() => {\r\n              this.setState({ isLand: true, isAuth: true })\r\n            })\r\n          } else {\r\n            this.setState({ isLand: true })\r\n          }\r\n        })\r\n        .catch(() => this.setState({ isLand: true }))\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('beforeunload', this.clearCookie)\r\n  }\r\n  componentWillUnmount() {\r\n    this.clearCookie()\r\n  }\r\n\r\n  getGlobalData = async () => {\r\n    await new Promise((resolve) => {\r\n      this.globalAPI.getUnitList().then((response) => {\r\n        this.staticStorage.setUnitList(response.data)\r\n        resolve(true)\r\n      })\r\n    })\r\n  }\r\n\r\n  clearCookie = () => {\r\n    const cookies = document.cookie.split(';')\r\n    if (\r\n      !(\r\n        cookies.find((cookie) => cookie.includes('MOTOBUY_KEEP_LOGIN')) &&\r\n        cookies.find((cookie) => cookie.includes('MOTOBUY_KEEP_LOGIN')).split('=')[1] === 'true'\r\n      )\r\n    ) {\r\n      document.cookie = 'MOTOBUY_AUTH=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT'\r\n    }\r\n  }\r\n\r\n  onLogin = () => {\r\n    this.getGlobalData().then(() => this.setState({ isAuth: true }))\r\n  }\r\n  onLogout = () => {\r\n    message.success('已成功登出')\r\n    document.cookie = 'MOTOBUY_AUTH=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT'\r\n    this.setState({ isAuth: false })\r\n  }\r\n\r\n  render() {\r\n    return this.state.isLand ? (\r\n      this.state.isAuth ? (\r\n        <ConfigProvider locale={zhTW}>\r\n          <Layout className='layout-wrapper'>\r\n            <Layout.Sider\r\n              collapsible\r\n              collapsed={this.state.siderCollapsed}\r\n              onCollapse={(siderCollapsed) => this.setState({ siderCollapsed })}\r\n              trigger={<SiderSwitchIcon />}\r\n              className='layout-sider-wrapper'\r\n            >\r\n              <Route path='/:type?/:page?' component={LayoutSider} />\r\n            </Layout.Sider>\r\n            <Layout className='layout-main'>\r\n              <Layout.Header className='layout-header'>\r\n                <LayoutHeader onLogout={this.onLogout} />\r\n              </Layout.Header>\r\n              <Layout.Content id='layout-content-wrapper' className='layout-content-wrapper'>\r\n                <Switch>\r\n                  {/* Basic */}\r\n                  {/* Supplier */}\r\n                  <Route\r\n                    exact\r\n                    path='/Basic/Supplier/Add'\r\n                    render={(props) => <SupplierDetail {...props} createFlag={true} />}\r\n                  />\r\n                  <Route\r\n                    exact\r\n                    path='/Basic/Supplier/:vendorId'\r\n                    render={(props) => <SupplierDetail {...props} createFlag={false} />}\r\n                  />\r\n                  <Route exact path='/Basic/Supplier' component={Supplier} />\r\n                  {/* Customer */}\r\n                  <Route\r\n                    exact\r\n                    path='/Basic/Customer/Add'\r\n                    render={(props) => <CustomerDetail {...props} createFlag={true} />}\r\n                  />\r\n                  <Route\r\n                    exact\r\n                    path='/Basic/Customer/:customerId'\r\n                    render={(props) => <CustomerDetail {...props} createFlag={false} />}\r\n                  />\r\n                  <Route exact path='/Basic/Customer' component={Customer} />\r\n                  {/* Employee */}\r\n                  <Route\r\n                    exact\r\n                    path='/Basic/Employee/Add'\r\n                    render={(props) => <EmployeeDetail {...props} createFlag={true} />}\r\n                  />\r\n                  <Route\r\n                    exact\r\n                    path='/Basic/Employee/:employeeId'\r\n                    render={(props) => <EmployeeDetail {...props} createFlag={false} />}\r\n                  />\r\n                  <Route exact path='/Basic/Employee' component={Employee} />\r\n                  {/* Vehicle */}\r\n                  <Route\r\n                    exact\r\n                    path='/Parts/Vehicle/Add'\r\n                    render={(props) => <VehicleDetail {...props} createFlag={true} />}\r\n                  />\r\n                  <Route\r\n                    exact\r\n                    path='/Parts/Vehicle/:kindId'\r\n                    render={(props) => <VehicleDetail {...props} createFlag={false} />}\r\n                  />\r\n                  <Route exact path='/Parts/Vehicle' component={Vehicle} />\r\n                  {/* Level */}\r\n                  <Route\r\n                    exact\r\n                    path='/Parts/Level/Add'\r\n                    render={(props) => <LevelDetail {...props} createFlag={true} />}\r\n                  />\r\n                  <Route\r\n                    exact\r\n                    path='/Parts/Level/:gradeId'\r\n                    render={(props) => <LevelDetail {...props} createFlag={false} />}\r\n                  />\r\n                  <Route exact path='/Parts/Level' component={Level} />\r\n                  {/* Colour */}\r\n                  <Route\r\n                    exact\r\n                    path='/Parts/Colour/Add'\r\n                    render={(props) => <ColourDetail {...props} createFlag={true} />}\r\n                  />\r\n                  <Route\r\n                    exact\r\n                    path='/Parts/Colour/:colorId'\r\n                    render={(props) => <ColourDetail {...props} createFlag={false} />}\r\n                  />\r\n                  <Route exact path='/Parts/Colour' component={Colour} />\r\n                  {/* Component */}\r\n                  <Route\r\n                    exact\r\n                    path='/Parts/Component/Add'\r\n                    render={(props) => <ComponentDetail {...props} createFlag={true} />}\r\n                  />\r\n                  <Route\r\n                    exact\r\n                    path='/Parts/Component/:partId'\r\n                    render={(props) => <ComponentDetail {...props} createFlag={false} />}\r\n                  />\r\n                  <Route exact path='/Parts/Component' component={Component} />\r\n                  {/* Product */}\r\n                  <Route\r\n                    exact\r\n                    path='/Products/List/Add'\r\n                    render={(props) => <ProductDetail {...props} createFlag={true} />}\r\n                  />\r\n                  <Route\r\n                    exact\r\n                    path='/Products/List/:seqNo'\r\n                    render={(props) => <ProductDetail {...props} createFlag={false} />}\r\n                  />\r\n                  <Route exact path='/Products/List' component={Product} />\r\n                  {/* Purchase */}\r\n                  <Route exact path='/Purchase/List' component={Purchase} />\r\n                  <Route path='/' component={Dashboard} />\r\n                </Switch>\r\n              </Layout.Content>\r\n              <Layout.Footer className='layout-footer'>2021 &copy; Copyright</Layout.Footer>\r\n            </Layout>\r\n          </Layout>\r\n        </ConfigProvider>\r\n      ) : (\r\n        <ConfigProvider locale={zhTW}>\r\n          <Login onLogin={this.onLogin} />\r\n        </ConfigProvider>\r\n      )\r\n    ) : null\r\n  }\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { HashRouter as Router, Route } from 'react-router-dom'\r\nimport reportWebVitals from './reportWebVitals'\r\nimport LayoutPage from './view/LayoutPage'\r\n\r\nimport 'antd/dist/antd.css'\r\nimport './style/index.sass'\r\nimport './style/login.sass'\r\nimport './style/sider.sass'\r\nimport './style/list.sass'\r\nimport './style/form.sass'\r\nimport './style/drawer.sass'\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <Route path='/:type?/:page?/:id?' component={LayoutPage} />\r\n  </Router>,\r\n  document.getElementById('root')\r\n)\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals()\r\n"],"sourceRoot":""}