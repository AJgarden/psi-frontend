(this["webpackJsonppsi-frontend"]=this["webpackJsonppsi-frontend"]||[]).push([[0],{305:function(t,e,a){},306:function(t,e,a){},307:function(t,e,a){},308:function(t,e,a){},309:function(t,e,a){},310:function(t,e,a){},311:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(33),i=a.n(c),s=a(36),o=a(37),l=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,326)).then((function(e){var a=e.getCLS,n=e.getFID,r=e.getFCP,c=e.getLCP,i=e.getTTFB;a(t),n(t),r(t),c(t),i(t)}))},d=a(7),h=a(67),u=a.n(h),j=a(91),b=a(13),p=a(19),g=a(21),m=a(20),O=a(191),f=a(22),x=a(315),S=a(158),v=a.n(S),y=a(34),C=a.n(y),I=(a(201),a(313)),k=a(1),D=function(){return Object(k.jsxs)("svg",{height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#000000",children:[Object(k.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(k.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"})]})},w=function(t){return Object(k.jsx)(I.a,Object(d.a)({component:D},t))},N=function(){return Object(k.jsxs)("svg",{height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#000000",children:[Object(k.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(k.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})]})},P=function(t){return Object(k.jsx)(I.a,Object(d.a)({component:N},t))},F=function(){return Object(k.jsxs)("svg",{height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#ffffff",children:[Object(k.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(k.jsx)("path",{d:"M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z"})]})},L=function(t){return Object(k.jsx)(I.a,Object(d.a)({component:F},t))},E=function(){return Object(k.jsxs)("svg",{height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#ffffff",children:[Object(k.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(k.jsx)("path",{d:"M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"})]})},T=function(t){return Object(k.jsx)(I.a,Object(d.a)({component:E},t))},z=function(){return Object(k.jsxs)("svg",{height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#ffffff",children:[Object(k.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(k.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})]})},B=function(t){return Object(k.jsx)(I.a,Object(d.a)({component:z},t))},A=function(){return Object(k.jsxs)("svg",{height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#ffffff",children:[Object(k.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(k.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})]})},M=function(t){return Object(k.jsx)(I.a,Object(d.a)({component:A},t))},q=function(){return Object(k.jsxs)("svg",{height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#ffffff",children:[Object(k.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(k.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"})]})},V=function(t){return Object(k.jsx)(I.a,Object(d.a)({component:q},t))},R=function(){return Object(k.jsxs)("svg",{enableBackground:"new 0 0 24 24",height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#ffffff",children:[Object(k.jsx)("g",{children:Object(k.jsx)("path",{d:"M0,0h24v24H0V0z",fill:"none"})}),Object(k.jsx)("g",{children:Object(k.jsx)("path",{d:"M17,8l-1.41,1.41L17.17,11H9v2h8.17l-1.58,1.58L17,16l4-4L17,8z M5,5h7V3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h7v-2H5V5z"})})]})},J=function(t){return Object(k.jsx)(I.a,Object(d.a)({component:R},t))},H=function(){return Object(k.jsxs)("svg",{height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#ffffff",children:[Object(k.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(k.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.07 18.28c.43-.9 3.05-1.78 4.93-1.78s4.51.88 4.93 1.78C15.57 19.36 13.86 20 12 20s-3.57-.64-4.93-1.72zm11.29-1.45c-1.43-1.74-4.9-2.33-6.36-2.33s-4.93.59-6.36 2.33C4.62 15.49 4 13.82 4 12c0-4.41 3.59-8 8-8s8 3.59 8 8c0 1.82-.62 3.49-1.64 4.83zM12 6c-1.94 0-3.5 1.56-3.5 3.5S10.06 13 12 13s3.5-1.56 3.5-3.5S13.94 6 12 6zm0 5c-.83 0-1.5-.67-1.5-1.5S11.17 8 12 8s1.5.67 1.5 1.5S12.83 11 12 11z"})]})},U=function(t){return Object(k.jsx)(I.a,Object(d.a)({component:H},t))},Y=function(){return Object(k.jsxs)("svg",{enableBackground:"new 0 0 24 24",height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#000000",children:[Object(k.jsx)("g",{children:Object(k.jsx)("rect",{fill:"none",height:"24",width:"24"})}),Object(k.jsx)("g",{children:Object(k.jsxs)("g",{children:[Object(k.jsx)("path",{d:"M5,5h2v3h10V5h2v5h2V5c0-1.1-0.9-2-2-2h-4.18C14.4,1.84,13.3,1,12,1S9.6,1.84,9.18,3H5C3.9,3,3,3.9,3,5v14 c0,1.1,0.9,2,2,2h6v-2H5V5z M12,3c0.55,0,1,0.45,1,1s-0.45,1-1,1s-1-0.45-1-1S11.45,3,12,3z"}),Object(k.jsx)("polygon",{points:"21,11.5 15.51,17 12.5,14 11,15.5 15.51,20 22.5,13"})]})})]})},_=function(t){return Object(k.jsx)(I.a,Object(d.a)({component:Y},t))},K=function(){return Object(k.jsxs)("svg",{height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#000000",children:[Object(k.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(k.jsx)("path",{d:"M12 2l-5.5 9h11L12 2zm0 3.84L13.93 9h-3.87L12 5.84zM17.5 13c-2.49 0-4.5 2.01-4.5 4.5s2.01 4.5 4.5 4.5 4.5-2.01 4.5-4.5-2.01-4.5-4.5-4.5zm0 7c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5zM3 21.5h8v-8H3v8zm2-6h4v4H5v-4z"})]})},G=function(t){return Object(k.jsx)(I.a,Object(d.a)({component:K},t))},W=function(){return Object(k.jsxs)("svg",{height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#000000",children:[Object(k.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(k.jsx)("path",{d:"M16.66 4.52l2.83 2.83-2.83 2.83-2.83-2.83 2.83-2.83M9 5v4H5V5h4m10 10v4h-4v-4h4M9 15v4H5v-4h4m7.66-13.31L11 7.34 16.66 13l5.66-5.66-5.66-5.65zM11 3H3v8h8V3zm10 10h-8v8h8v-8zm-10 0H3v8h8v-8z"})]})},Q=function(t){return Object(k.jsx)(I.a,Object(d.a)({component:W},t))},$=function(){return Object(k.jsxs)("svg",{height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#000000",children:[Object(k.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(k.jsx)("path",{d:"M9 13.75c-2.34 0-7 1.17-7 3.5V19h14v-1.75c0-2.33-4.66-3.5-7-3.5zM4.34 17c.84-.58 2.87-1.25 4.66-1.25s3.82.67 4.66 1.25H4.34zM9 12c1.93 0 3.5-1.57 3.5-3.5S10.93 5 9 5 5.5 6.57 5.5 8.5 7.07 12 9 12zm0-5c.83 0 1.5.67 1.5 1.5S9.83 10 9 10s-1.5-.67-1.5-1.5S8.17 7 9 7zm7.04 6.81c1.16.84 1.96 1.96 1.96 3.44V19h4v-1.75c0-2.02-3.5-3.17-5.96-3.44zM15 12c1.93 0 3.5-1.57 3.5-3.5S16.93 5 15 5c-.54 0-1.04.13-1.5.35.63.89 1 1.98 1 3.15s-.37 2.26-1 3.15c.46.22.96.35 1.5.35z"})]})},X=function(t){return Object(k.jsx)(I.a,Object(d.a)({component:$},t))},Z=function(){return Object(k.jsx)("svg",{enableBackground:"new 0 0 24 24",height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#000000",children:Object(k.jsxs)("g",{children:[Object(k.jsx)("rect",{fill:"none",height:"24",width:"24"}),Object(k.jsxs)("g",{children:[Object(k.jsx)("path",{d:"M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M19,19H5V5h14V19z"}),Object(k.jsx)("rect",{height:"5",width:"2",x:"7",y:"12"}),Object(k.jsx)("rect",{height:"10",width:"2",x:"15",y:"7"}),Object(k.jsx)("rect",{height:"3",width:"2",x:"11",y:"14"}),Object(k.jsx)("rect",{height:"2",width:"2",x:"11",y:"10"})]})]})})},tt=function(t){return Object(k.jsx)(I.a,Object(d.a)({component:Z},t))},et=function(){return Object(k.jsxs)("svg",{height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#ffffff",children:[Object(k.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(k.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})]})},at=function(t){return Object(k.jsx)(I.a,Object(d.a)({component:et},t))},nt=function(){return Object(k.jsxs)("svg",{height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#000000",children:[Object(k.jsx)("path",{d:"M0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0z",fill:"none"}),Object(k.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})]})},rt=function(t){return Object(k.jsx)(I.a,Object(d.a)({component:nt},t))},ct=function(){return Object(k.jsxs)("svg",{height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#000000",children:[Object(k.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(k.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})]})},it=function(t){return Object(k.jsx)(I.a,Object(d.a)({component:ct},t))},st=function(){return Object(k.jsxs)("svg",{height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#000000",children:[Object(k.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(k.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"})]})},ot=function(t){return Object(k.jsx)(I.a,Object(d.a)({component:st},t))},lt=function(){return Object(k.jsxs)("svg",{height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#000000",children:[Object(k.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(k.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})]})},dt=function(t){return Object(k.jsx)(I.a,Object(d.a)({component:lt},t))},ht=function(){return Object(k.jsxs)("svg",{height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#000000",children:[Object(k.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(k.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"})]})},ut=function(t){return Object(k.jsx)(I.a,Object(d.a)({component:ht},t))},jt=a(111),bt=a(23),pt=a(180),gt=a(321),mt=a(112),Ot=a(48),ft=a(146),xt=a.n(ft),St="https://britz-psi-heroku.herokuapp.com/api/v1",vt=function(){var t=document.cookie.split(";").find((function(t){return t.includes("MOTOBUY_AUTH")}));return t?t.split("=")[1]:""},yt=function(t,e,a){var n={url:St+e,method:t,timeout:6e4,headers:{Authorization:"Basic "+vt()}};return"get"===t&&a&&Object.keys(a).length>0?n.params=a:a&&Object.keys(a).length>0&&(n.data=a),new Promise((function(t,e){xt()(n).then((function(e){return t(e)})).catch((function(t){e(t),console.log(t.response)}))}))},Ct=function(t){var e=document.cookie.split(";"),a=e.find((function(t){return t.includes("MOTOBUY_KEEP_LOGIN")}))&&"true"===e.find((function(t){return t.includes("MOTOBUY_KEEP_LOGIN")})).split("=")[1],r=Object(n.useState)(!1),c=Object(jt.a)(r,2),i=c[0],s=c[1],o=Object(n.useState)({userId:"",password:""}),l=Object(jt.a)(o,2),d=l[0],h=l[1];Object(n.useEffect)((function(){document.title="\u767b\u5165 - MOTOBUY PSI",Object(bt.b)().replace("/")}),[d]);var u=function(t,e){d[t]=e.target.value,h(d)};return Object(k.jsx)("div",{className:"login-wrapper",children:Object(k.jsxs)("div",{className:"login-board",children:[Object(k.jsxs)("div",{className:"login-board-header",children:[Object(k.jsx)("div",{className:"login-board-logo",children:"M"}),Object(k.jsx)("h1",{className:"login-board-title",children:"MOTOBUY PSI"})]}),Object(k.jsxs)("div",{className:"login-board-form",children:[Object(k.jsx)(gt.a,{placeholder:"User ID",prefix:Object(k.jsx)(dt,{}),onChange:function(t){return u("userId",t)}}),Object(k.jsx)(gt.a.Password,{placeholder:"Password",prefix:Object(k.jsx)(ot,{}),iconRender:function(t){return t?Object(k.jsx)(it,{}):Object(k.jsx)(rt,{})},onChange:function(t){return u("password",t)}}),Object(k.jsx)(mt.a,{defaultChecked:a,onChange:function(t){return a=t.target.checked},children:"Keep me logged."})]}),Object(k.jsx)("div",{className:"login-board-footer",children:Object(k.jsx)(Ot.a,{onClick:function(){s(!0),a&&(document.cookie="MOTOBUY_KEEP_LOGIN=".concat(a,"; path=/; max-age=86400")),function(t,e,a){var n={url:St+e,method:t,timeout:6e4};return"get"===t&&a&&Object.keys(a).length>0?n.params=a:a&&Object.keys(a).length>0&&(n.data=a),new Promise((function(t,e){xt()(n).then((function(e){return t(e)})).catch((function(t){e(t),console.log(t.response)}))}))}("post","/author/login",d).then((function(e){var a=e.data;if(0===a.code){O.b.success("\u767b\u5165\u6210\u529f");var n=new pt.Buffer("".concat(d.userId,":").concat(d.password)).toString("base64");document.cookie="MOTOBUY_AUTH=".concat(n,"; path=/; max-age=86400"),localStorage.setItem("MOTOBUY_ROLES",JSON.stringify(a.data.authorities.map((function(t){return t.authority})))),setTimeout((function(){return t.onLogin()}),200)}else O.b.error("\u767b\u5165\u5931\u6557"),s(!1)})).catch((function(t){O.b.error("\u767b\u5165\u5931\u6557"),s(!1)}))},loading:i,children:"LOGIN"})})]})})},It=a(64),kt=[{path:"/Dashboard",title:"\u5100\u8868\u677f"},{path:"/Basic/Supplier",title:"\u5ee0\u5546 - \u57fa\u672c\u8cc7\u6599"},{path:"/Basic/Customer",title:"\u5ba2\u6236 - \u57fa\u672c\u8cc7\u6599"},{path:"/Basic/Employee",title:"\u54e1\u5de5 - \u57fa\u672c\u8cc7\u6599"},{path:"/Basic",title:"\u57fa\u672c\u8cc7\u6599"},{path:"/Parts/Vehicle",title:"\u8eca\u7a2e - \u96f6\u4ef6\u7ba1\u7406"},{path:"/Parts/Level",title:"\u7b49\u7d1a - \u96f6\u4ef6\u7ba1\u7406"},{path:"/Parts/Colour",title:"\u984f\u8272 - \u96f6\u4ef6\u7ba1\u7406"},{path:"/Parts/Component",title:"\u96f6\u4ef6 - \u96f6\u4ef6\u7ba1\u7406"},{path:"/Parts",title:"\u96f6\u4ef6\u7ba1\u7406"},{path:"/Products/List",title:"\u5217\u8868 - \u5546\u54c1\u7ba1\u7406"},{path:"/Products",title:"\u5546\u54c1\u7ba1\u7406"},{path:"/Purchase",title:"\u5217\u8868 - \u9032\u8ca8\u55ae"},{path:"/Purchase",title:"\u9032\u8ca8\u55ae"},{path:"/",title:"\u9996\u9801"}],Dt=[{key:"Dashboard",routes:["Dashboard"],icon:Object(k.jsx)(tt,{}),title:"\u5100\u8868\u677f",accessRoles:[]},{key:"Basic",routes:["Basic"],icon:Object(k.jsx)(X,{}),title:"\u57fa\u672c\u8cc7\u6599",accessRoles:["ROLE_BASIC_MENU"],children:[{key:"BasicSupplier",routes:["Basic","Supplier"],title:"\u5ee0\u5546",accessRoles:["ROLE_VENDOR"]},{key:"BasicCustomer",routes:["Basic","Customer"],title:"\u5ba2\u6236",accessRoles:["ROLE_CUSTOMER"]},{key:"BasicEmployee",routes:["Basic","Employee"],title:"\u54e1\u5de5",accessRoles:["ROLE_EMPLOYEE"]}]},{key:"Parts",routes:["Parts"],icon:Object(k.jsx)(Q,{}),title:"\u96f6\u4ef6\u7ba1\u7406",accessRoles:["ROLE_PART_MENU"],children:[{key:"PartsVehicle",routes:["Parts","Vehicle"],title:"\u8eca\u7a2e",accessRoles:["ROLE_KIND"]},{key:"PartsLevel",routes:["Parts","Level"],title:"\u7b49\u7d1a",accessRoles:["ROLE_GRADE"]},{key:"PartsColour",routes:["Parts","Colour"],title:"\u984f\u8272",accessRoles:["ROLE_COLOR"]},{key:"PartsComponent",routes:["Parts","Component"],title:"\u96f6\u4ef6",accessRoles:["ROLE_PART"]}]},{key:"Products",routes:["Products"],icon:Object(k.jsx)(G,{}),title:"\u5546\u54c1\u7ba1\u7406",accessRoles:["ROLE_PRODUCT_MENU"],children:[{key:"ProductsList",routes:["Products","List"],title:"\u5217\u8868",accessRoles:["ROLE_PRODUCT"]},{key:"ProductsImport",routes:["Products","Import"],title:"\u532f\u5165",accessRoles:["ROLE_PRODUCT_IMPORT"]}]},{key:"Purchase",routes:["Purchase"],icon:Object(k.jsx)(_,{}),title:"\u9032\u8ca8",accessRoles:["ROLE_PURCHASE_MENU"],children:[{key:"PurchaseList",routes:["Purchase","List"],title:"\u5217\u8868",accessRoles:["ROLE_PURCHASE_LIST"]},{key:"PurchaseAdd",routes:["Purchase","Add"],title:"\u65b0\u589e",accessRoles:["ROLE_PRODUCT_ADD"]}]}],wt=function(t){var e=Object(n.useState)([]),a=Object(jt.a)(e,2),r=a[0],c=a[1];Object(n.useEffect)((function(){i(t.match.url);var e=t.history.listen((function(t){i(t.pathname)}));return function(){e()}}),[]),Object(n.useEffect)((function(){void 0!==t.match.params.page?c([t.match.params.type+t.match.params.page]):void 0!==t.match.params.type?c([t.match.params.type]):c(["Home"])}),[t.match.params.type,t.match.params.page]);var i=function(t){var e=kt.find((function(e){return new RegExp("^(".concat(e.path,")")).test(t)}));e&&(document.title="".concat(e.title," - MOTOBUY PSI"))};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h1",{className:"layout-sider-logo",children:Object(k.jsxs)(s.b,{to:"/",children:[Object(k.jsxs)("span",{className:"layout-sider-logo-f",children:["MOTOBUY",Object(k.jsx)("br",{}),"PSI"]}),Object(k.jsx)("span",{className:"layout-sider-logo-s",children:"M"})]})}),Object(k.jsx)(It.a,{className:"layout-sider-menu",selectedKeys:r,onClick:function(t){var e=t.item,a=Object(bt.b)(),n=e.props.data.routes.map((function(t){return"/".concat(t)})).join("");a.push(n),c(""===e.props.data.routes[0]?["Home"]:e.props.data.routes)},children:Dt.map((function(t){var e=JSON.parse(localStorage.getItem("MOTOBUY_ROLES"));return t.accessRoles.length<1||t.accessRoles.filter((function(t){return e.includes(t)})).length>0?t.children&&t.children.length>0?Object(k.jsx)(It.a.SubMenu,{icon:t.icon,title:t.title,popupClassName:"layout-sider-popup",children:t.children.map((function(t){return t.accessRoles.length<1||t.accessRoles.filter((function(t){return e.includes(t)})).length>0?Object(k.jsx)(It.a.Item,{data:t,children:t.title},t.key):null}))},t.key):Object(k.jsx)(It.a.Item,{icon:t.icon,data:t,children:t.title},t.key):null}))})]})},Nt=function(t){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"layout-header-left",children:Object(k.jsx)(gt.a.Search,{placeholder:"\u5168\u57df\u641c\u5c0b",enterButton:!0})}),Object(k.jsxs)("div",{className:"layout-header-right",children:[Object(k.jsx)(Ot.a,{children:Object(k.jsx)(V,{})}),Object(k.jsx)(Ot.a,{onClick:t.onLogout,children:Object(k.jsx)(J,{})}),Object(k.jsx)(Ot.a,{className:"layout-header-account",children:Object(k.jsx)(U,{})})]})]})},Pt=function(t){return Object(n.useEffect)((function(){Object(bt.b)().replace("/Dashboard")})),"Dashboard"},Ft=a(38),Lt=a(325),Et=a(80),Tt=a(322),zt=a(103),Bt=a(60),At=a(71),Mt=a(316),qt=a(114),Vt=function(t,e){return Object(d.a)(Object(d.a)({},t),{},{showTotal:function(t,e){return"".concat(e[0]," - ").concat(e[1]," \u5171 ").concat(t," \u7b46")},showSizeChanger:!0,showQuickJumper:!0,onChange:e})},Rt=function t(){Object(b.a)(this,t),this.getSupplierList=function(t){return yt("get","/vendor",t).then((function(t){return t.data}))},this.getSupplierData=function(t){return yt("get","/vendor/".concat(t)).then((function(t){return t.data}))},this.addSupplierData=function(t){return yt("post","/vendor/".concat(t.vendorId),t).then((function(t){return t.data}))},this.updateSupplierData=function(t,e){return yt("patch","/vendor/".concat(t),e).then((function(t){return t.data}))}},Jt=function(t){Object(g.a)(a,t);var e=Object(m.a)(a);function a(t){var n;return Object(b.a)(this,a),(n=e.call(this,t)).history=Object(bt.b)(),n.supplierAPI=new Rt,n.getList=function(){var t=n.state,e=t.search,a=t.pagination,r={pageNum:a.current,pageSize:a.pageSize,queryByEnum:e.id,queryKeyWord:"%".concat(e.keyword,"%")};n.supplierAPI.getSupplierList(r).then((function(t){a.total=t.data.total,n.setState({loading:!1,list:t.data.list,pagination:a})})).catch((function(){return n.setState({loading:!1})}))},n.onSelectChange=function(t){var e=n.state.search;e.id=t,n.setState({search:e})},n.onInputChange=function(t){var e=n.state.search;e.keyword=t.target.value,n.setState({search:e})},n.handleSearch=function(){var t=n.state.pagination;t.current=1,n.setState({loading:!0,list:[],pagination:t},(function(){return n.getList()}))},n.getColumns=function(){var t=Object(Ft.a)(n),e=n.state.pagination;return[{dataIndex:"vendorId",title:"\u57f7\u884c",width:50,render:function(e){return Object(k.jsxs)(Lt.b,{className:"list-table-option",children:[Object(k.jsx)(Et.a,{title:"\u7de8\u8f2f",children:Object(k.jsx)(Ot.a,{className:"list-table-option-edit",size:"small",onClick:t.onEdit.bind(t,e),children:Object(k.jsx)(T,{})})}),Object(k.jsx)(Et.a,{title:"\u522a\u9664",children:Object(k.jsx)(Ot.a,{className:"list-table-option-delete",size:"small",onClick:t.handleDelete.bind(t,e),children:Object(k.jsx)(L,{})})})]})}},{title:"\u5e8f",width:30,align:"center",render:function(t,a,n){return(e.current-1)*e.pageSize+n+1}},{title:"\u5ee0\u5546\u4ee3\u865f",dataIndex:"vendorId"},{title:"\u5ee0\u5546\u7c21\u7a31",dataIndex:"shortName"},{title:"\u806f\u7d61\u4eba",dataIndex:"contactPerson"},{title:"\u5730\u5740",dataIndex:"address"},{title:"\u96fb\u8a711",dataIndex:"phone1"},{title:"\u50b3\u771f\u865f\u78bc",dataIndex:"faxNumber"},{title:"\u884c\u52d5\u96fb\u8a71",dataIndex:"cellphone"}]},n.onEdit=function(t){n.history.push("/Basic/Supplier/".concat(t))},n.handleDelete=function(t){Tt.a.confirm({title:"\u78ba\u5b9a\u8981\u522a\u9664\u6b64\u7b46\u8cc7\u6599\u55ce",icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:"\u53d6\u6d88",onOk:function(){console.log("delete: "+t)}})},n.onPageChange=function(t,e){var a=n.state.pagination;a.current=t,a.pageSize=e,n.setState({loading:!0,list:[],pagination:a},(function(){return n.getList()}))},n.state={loading:!0,search:{id:"VENDOR_ID",keyword:""},list:[],pagination:{current:1,total:0,pageSize:10,position:["bottomLeft"]}},n.getList(),n}return Object(p.a)(a,[{key:"render",value:function(){var t=this;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"list-header",children:Object(k.jsxs)(zt.a,{type:"flex",justify:"space-between",children:[Object(k.jsx)(Bt.a,{children:Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(M,{}),onClick:function(){return t.history.push("/Basic/Supplier/Add")},className:"list-header-add",children:"\u65b0\u589e"})}),Object(k.jsx)(Bt.a,{children:Object(k.jsxs)(Lt.b,{children:[Object(k.jsxs)(At.a,{placeholder:"\u641c\u5c0b\u6b04\u4f4d",value:this.state.search.id,onChange:this.onSelectChange,children:[Object(k.jsx)(At.a.Option,{value:"VENDOR_ID",children:"\u5ee0\u5546\u4ee3\u865f"}),Object(k.jsx)(At.a.Option,{value:"NAME",children:"\u5ee0\u5546\u540d\u7a31"})]}),Object(k.jsx)(gt.a,{placeholder:"\u641c\u5c0b\u5167\u5bb9",allowClear:!0,onChange:this.onInputChange}),Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(B,{}),onClick:this.handleSearch,className:"list-header-search",children:"\u67e5\u8a62"})]})})]})}),Object(k.jsx)(Mt.a,{className:"list-table-wrapper",rowKey:"vendorId",size:"small",columns:this.getColumns(),loading:this.state.loading,dataSource:this.state.list,pagination:Vt(this.state.pagination,this.onPageChange)})]})}}]),a}(r.a.Component),Ht=a(324),Ut=a(186),Yt=a(318),_t=a(319),Kt=function(t){var e=t.required,a=t.align,n=void 0===a?"center":a,r=t.title,c=t.content,i=t.message,s=t.error;return Object(k.jsxs)("div",{style:{display:"flex",alignItems:n},children:[Object(k.jsxs)("div",{style:{marginRight:8,width:80,textAlign:"right"},children:[e&&Object(k.jsx)(_t.a.Text,{type:"danger",style:{marginRight:5},children:"*"}),Object(k.jsx)(_t.a.Text,{children:r})]}),Object(k.jsxs)("div",{style:{width:"calc(100% - 80px)",position:"relative"},children:[c,s&&Object(k.jsx)("span",{style:{color:"red",position:"absolute",width:"100%",left:0,top:"100%",fontSize:"12px"},children:i})]})]})},Gt=a(141),Wt=a(55),Qt={vendorId:"",name:"",shortName:"",principal:"",contactPerson:"",postCode:"",address:"",phone1:"",phone2:"",faxNumber:"",cellphone:"",note1:"",note2:""},$t=[{key:"vendorId",required:!0,length:[10]},{key:"name",required:!0,length:[30]},{key:"shortName",required:!0,length:[10]},{key:"principal",length:[2,10]},{key:"contactPerson",length:[2,10]},{key:"address",length:[100]},{key:"phone1",required:!0,length:[10]},{key:"phone2",length:[10]},{key:"faxNumber",length:[10]},{key:"cellphone",length:[10]},{key:"note1",length:[255]},{key:"note2",length:[255]}],Xt=function(t){Object(g.a)(a,t);var e=Object(m.a)(a);function a(t){var n;return Object(b.a)(this,a),(n=e.call(this,t)).history=Object(bt.b)(),n.supplierAPI=new Rt,n.getSupplierData=function(){n.supplierAPI.getSupplierData(n.props.vendorId).then((function(t){0===t.code?n.setState({loading:!1,formData:t.data},(function(){return n.checkCanSubmit()})):(O.b.error(t.message),n.history.push("/Basic/Supplier"))})).catch((function(){O.b.error("Error!"),n.history.push("/Basic/Supplier")}))},n.getFormErrorStatus=function(t){var e=n.state.formStatus.find((function(e){return e.key===t}));return!!e&&e.error},n.onInputChange=function(t){var e=t.target.getAttribute("id"),a=t.target.value,r=n.state.formData;r[e]="vendorId"===e?a.toUpperCase():a,n.checkData(r,e)},n.checkData=function(t,e){var a=n.state.formStatus,r=a.find((function(t){return t.key===e}));if(r){var c=t[e],i=!1;r.required&&!c&&(i=!0),r.length&&r.length.length>0&&c&&(1===r.length.length&&c.length>r.length[0]||r.length.length>1&&(c.length<r.length[0]||c.length>r.length[1]))&&(i=!0),r.regExp&&!r.regExp.test(c)&&(i=!0),r.error=i}n.setState({formData:t,formStatus:a},(function(){return n.checkCanSubmit()}))},n.checkCanSubmit=function(){n.setState({canSubmit:!n.state.formStatus.some((function(t){return t.error}))})},n.checkId=function(){var t=n.state.formData;n.setState({validId:!1},(function(){n.supplierAPI.getSupplierData(t.vendorId).then((function(e){0===e.code?Tt.a.error({title:"\u6b64\u7de8\u865f\u5df2\u91cd\u8907\uff0c\u8acb\u91cd\u65b0\u8f38\u5165",icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:null,onOk:function(){t.vendorId="",n.setState({formData:t})}}):n.setState({validId:!0})}))}))},n.handleCreate=function(t){n.setState({loading:!0},(function(){n.supplierAPI.addSupplierData(n.state.formData).then((function(e){0===e.code?(O.b.success("\u6210\u529f\u65b0\u589e\u8cc7\u6599"),t?n.history.push("/Basic/Supplier"):(document.getElementById("layout-content-wrapper").scrollTo({top:0,behavior:"smooth"}),n.setState({loading:!1,formData:Object(d.a)({},Qt),formStatus:JSON.parse(JSON.stringify($t)),canSubmit:!1}))):Tt.a.error({title:e.message,icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:null,onOk:function(){n.setState({loading:!1})}})})).catch((function(t){O.b.error(t.response.data.message),n.setState({loading:!1})}))}))},n.handleSubmit=function(t){n.setState({loading:!0},(function(){n.supplierAPI.updateSupplierData(n.props.vendorId,n.state.formData).then((function(e){0===e.code?(O.b.success("\u6210\u529f\u66f4\u65b0\u8cc7\u6599"),t?n.history.push("/Basic/Supplier"):(document.getElementById("layout-content-wrapper").scrollTo({top:0,behavior:"smooth"}),n.getSupplierData())):Tt.a.error({title:e.message,icon:Object(k.jsx)(qt.a,{}),content:e.data.map((function(t,e){return Object(k.jsxs)(k.Fragment,{children:[e>0&&Object(k.jsx)("br",{}),t.split(": ")[1]]})})),okText:"\u78ba\u8a8d",cancelText:null,onOk:function(){n.setState({loading:!1})}})})).catch((function(){O.b.error("\u8cc7\u6599\u66f4\u65b0\u5931\u6557"),n.setState({loading:!1})}))}))},n.handleCancel=function(){Tt.a.confirm({title:"\u8b8a\u66f4\u5c1a\u672a\u5132\u5b58\uff0c\u78ba\u5b9a\u8981\u96e2\u958b\u55ce",icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:"\u53d6\u6d88",onOk:function(){n.history.push("/Basic/Supplier")}})},n.state={loading:!t.createFlag,formData:Object(d.a)({},Qt),formStatus:JSON.parse(JSON.stringify($t)),validId:!1,canSubmit:!1},t.createFlag||n.getSupplierData(),n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(t){var e=this;!t.createFlag&&this.props.createFlag?this.setState({loading:!1,formData:Object(d.a)({},Qt),formStatus:JSON.parse(JSON.stringify($t)),validId:!1,canSubmit:!1}):this.props.createFlag||t.vendorId===this.props.vendorId||this.setState({loading:!0,formData:Object(d.a)({},Qt),formStatus:JSON.parse(JSON.stringify($t)),validId:!0,canSubmit:!1},(function(){return e.getSupplierData()}))}},{key:"render",value:function(){var t={gutter:[24,24],type:"flex",align:"middle",style:{marginBottom:24,marginTop:24}},e={xs:24,sm:24,md:24,lg:8};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(Ht.a,{style:{marginBottom:10},children:[Object(k.jsx)(Ht.a.Item,{children:Object(k.jsx)(s.b,{to:"/Basic/Supplier",children:"\u5ee0\u5546"})}),Object(k.jsx)(Ht.a.Item,{children:this.props.createFlag?"\u65b0\u589e\u5ee0\u5546":"\u4fee\u6539\u5ee0\u5546\u8cc7\u6599"})]}),Object(k.jsxs)(Ut.a,{spinning:this.state.loading,children:[Object(k.jsx)(Yt.a,{className:"form-detail-card",children:Object(k.jsxs)(zt.a,Object(d.a)(Object(d.a)({},t),{},{children:[Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!0,title:"\u5ee0\u5546\u4ee3\u865f",content:Object(k.jsx)(gt.a,{onBlur:this.checkId,onChange:this.onInputChange,value:this.state.formData.vendorId,id:"vendorId",disabled:!this.props.createFlag}),message:"\u5ee0\u5546\u4ee3\u865f\u70ba\u5fc5\u586b,\u9577\u5ea6\u9700\u572810\u5b57\u5167",error:this.getFormErrorStatus("vendorId")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!0,title:"\u5ee0\u5546\u540d\u7a31",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.name,id:"name"}),message:"\u5ee0\u5546\u540d\u7a31\u70ba\u5fc5\u586b,\u9577\u5ea6\u9700\u572830\u5b57\u5167",error:this.getFormErrorStatus("name")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!0,title:"\u5ee0\u5546\u7c21\u7a31",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.shortName,id:"shortName"}),message:"\u5ee0\u5546\u7c21\u7a31\u70ba\u5fc5\u586b,\u9577\u5ea6\u9700\u572810\u5b57\u5167",error:this.getFormErrorStatus("shortName")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u8ca0\u8cac\u4eba",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.principal,id:"principal"}),message:"\u9577\u5ea6\u9700\u57282~10\u5b57",error:this.getFormErrorStatus("principal")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u806f\u7d61\u4eba",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.contactPerson,id:"contactPerson"}),message:"\u9577\u5ea6\u9700\u57282~10\u5b57",error:this.getFormErrorStatus("contactPerson")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u50b3\u771f\u865f\u78bc",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.faxNumber,id:"faxNumber"}),message:"\u9577\u5ea6\u9700\u572810\u5b57\u5167",error:this.getFormErrorStatus("faxNumber")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!0,title:"\u96fb\u8a711",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.phone1,id:"phone1"}),message:"\u96fb\u8a711\u70ba\u5fc5\u586b,\u9577\u5ea6\u9700\u572810\u5b57\u5167",error:this.getFormErrorStatus("phone1")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u96fb\u8a712",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.phone2,id:"phone2"}),message:"\u9577\u5ea6\u9700\u572810\u5b57\u5167",error:this.getFormErrorStatus("phone2")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u884c\u52d5\u96fb\u8a71",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.cellphone,id:"cellphone"}),message:"\u9577\u5ea6\u9700\u572810\u5b57\u5167",error:this.getFormErrorStatus("cellphone")})}))]}))}),Object(k.jsx)(Yt.a,{className:"form-detail-card",children:Object(k.jsx)(zt.a,Object(d.a)(Object(d.a)({},t),{},{children:Object(k.jsx)(Bt.a,{span:24,children:Object(k.jsx)(Kt,{required:!1,title:"\u5730\u5740",content:Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(zt.a,{type:"flex",gutter:[10],children:[Object(k.jsx)(Bt.a,{style:{width:120},children:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.postCode,id:"postCode",placeholder:"\u90f5\u905e\u5340\u865f"})}),Object(k.jsx)(Bt.a,{style:{width:"calc(100% - 120px)"},children:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.address,id:"address",placeholder:"\u5730\u5740"})})]})}),message:"\u9577\u5ea6\u9700\u5728100\u5b57\u5167",error:this.getFormErrorStatus("address")})})}))}),Object(k.jsx)(Yt.a,{className:"form-detail-card",children:Object(k.jsxs)(zt.a,Object(d.a)(Object(d.a)({},t),{},{align:"top",children:[Object(k.jsx)(Bt.a,{span:24,children:Object(k.jsx)(Kt,{required:!1,align:"flex-start",title:"\u5099\u8a3b1",content:Object(k.jsx)(gt.a.TextArea,{onChange:this.onInputChange,value:this.state.formData.note1,id:"note1",autoSize:{minRows:4,maxRows:4}}),message:"\u9577\u5ea6\u9700\u5728255\u5b57\u5167",error:this.getFormErrorStatus("note1")})}),Object(k.jsx)(Bt.a,{span:24,children:Object(k.jsx)(Kt,{required:!1,align:"flex-start",title:"\u5099\u8a3b2",content:Object(k.jsx)(gt.a.TextArea,{onChange:this.onInputChange,value:this.state.formData.note2,id:"note2",autoSize:{minRows:4,maxRows:4}}),message:"\u9577\u5ea6\u9700\u5728255\u5b57\u5167",error:this.getFormErrorStatus("note2")})})]}))}),Object(k.jsx)("div",{style:{margin:"20px",textAlign:"center"},children:Object(k.jsxs)(Lt.b,{children:[this.props.createFlag?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),disabled:!this.state.validId,onClick:this.handleCreate.bind(this,!0),children:"\u5132\u5b58"}),Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),disabled:!this.state.validId,onClick:this.handleCreate.bind(this,!1),children:"\u5132\u5b58\u4e26\u7e7c\u7e8c\u65b0\u589e"})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),onClick:this.handleSubmit.bind(this,!1),children:"\u5132\u5b58"}),Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),onClick:this.handleSubmit.bind(this,!0),children:"\u5132\u5b58\u4e26\u8fd4\u56de\u5217\u8868"})]}),Object(k.jsx)(Ot.a,{danger:!0,icon:Object(k.jsx)(Wt.a,{}),onClick:this.handleCancel,children:"\u53d6\u6d88"})]})})]})]})}}]),a}(r.a.Component),Zt=function(t){Object(g.a)(a,t);var e=Object(m.a)(a);function a(){return Object(b.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(k.jsx)(Xt,{createFlag:this.props.createFlag,vendorId:this.props.match.params.vendorId})}}]),a}(r.a.Component),te=function t(){Object(b.a)(this,t),this.getCustomerList=function(t){return yt("get","/customers",t).then((function(t){return t.data}))},this.getCustomerData=function(t){return yt("get","/customers/".concat(t)).then((function(t){return t.data}))},this.addCustomerData=function(t){return yt("post","/customers/".concat(t.customerId),t).then((function(t){return t.data}))},this.updateCustomerData=function(t,e){return yt("patch","/customers/".concat(t),e).then((function(t){return t.data}))}},ee=function(t){Object(g.a)(a,t);var e=Object(m.a)(a);function a(t){var n;return Object(b.a)(this,a),(n=e.call(this,t)).history=Object(bt.b)(),n.customerAPI=new te,n.getList=function(){var t=n.state,e=t.search,a=t.pagination,r={pageNum:a.current,pageSize:a.pageSize,queryByEnum:e.id,queryKeyWord:"%".concat(e.keyword,"%")};n.customerAPI.getCustomerList(r).then((function(t){a.total=t.data.total,n.setState({loading:!1,list:t.data.list,pagination:a})})).catch((function(){return n.setState({loading:!1})}))},n.onSelectChange=function(t){var e=n.state.search;e.id=t,n.setState({search:e})},n.onInputChange=function(t){var e=n.state.search;e.keyword=t.target.value,n.setState({search:e})},n.handleSearch=function(){var t=n.state.pagination;t.current=1,n.setState({loading:!0,list:[],pagination:t},(function(){return n.getList()}))},n.getColumns=function(){var t=Object(Ft.a)(n),e=n.state.pagination;return[{dataIndex:"customerId",title:"\u57f7\u884c",width:50,render:function(e){return Object(k.jsxs)(Lt.b,{className:"list-table-option",children:[Object(k.jsx)(Et.a,{title:"\u7de8\u8f2f",children:Object(k.jsx)(Ot.a,{className:"list-table-option-edit",size:"small",onClick:t.onEdit.bind(t,e),children:Object(k.jsx)(T,{})})}),Object(k.jsx)(Et.a,{title:"\u522a\u9664",children:Object(k.jsx)(Ot.a,{className:"list-table-option-delete",size:"small",onClick:t.handleDelete.bind(t,e),children:Object(k.jsx)(L,{})})})]})}},{title:"\u5e8f",width:30,align:"center",render:function(t,a,n){return(e.current-1)*e.pageSize+n+1}},{title:"\u5ba2\u6236\u4ee3\u865f",dataIndex:"customerId"},{title:"\u5ba2\u6236\u7c21\u7a31",dataIndex:"shortName"},{title:"\u806f\u7d61\u4eba",dataIndex:"contactPerson"},{title:"\u5730\u5740",dataIndex:"address"},{title:"\u96fb\u8a711",dataIndex:"phone1"},{title:"\u50b3\u771f\u865f\u78bc",dataIndex:"faxNumber"},{title:"\u884c\u52d5\u96fb\u8a71",dataIndex:"cellphone"}]},n.onEdit=function(t){n.history.push("/Basic/Customer/".concat(t))},n.handleDelete=function(t){Tt.a.confirm({title:"\u78ba\u5b9a\u8981\u522a\u9664\u6b64\u7b46\u8cc7\u6599\u55ce",icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:"\u53d6\u6d88",onOk:function(){console.log("delete: "+t)}})},n.onPageChange=function(t,e){var a=n.state.pagination;a.current=t,a.pageSize=e,n.setState({loading:!0,list:[],pagination:a},(function(){return n.getList()}))},n.state={loading:!0,search:{id:"CUSTOMER_ID",keyword:""},list:[],pagination:{current:1,total:0,pageSize:10,position:["bottomLeft"]}},n.getList(),n}return Object(p.a)(a,[{key:"render",value:function(){var t=this;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"list-header",children:Object(k.jsxs)(zt.a,{type:"flex",justify:"space-between",children:[Object(k.jsx)(Bt.a,{children:Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(M,{}),onClick:function(){return t.history.push("/Basic/Customer/Add")},className:"list-header-add",children:"\u65b0\u589e"})}),Object(k.jsx)(Bt.a,{children:Object(k.jsxs)(Lt.b,{children:[Object(k.jsxs)(At.a,{placeholder:"\u641c\u5c0b\u6b04\u4f4d",value:this.state.search.id,onChange:this.onSelectChange,children:[Object(k.jsx)(At.a.Option,{value:"CUSTOMER_ID",children:"\u5ba2\u6236\u4ee3\u865f"}),Object(k.jsx)(At.a.Option,{value:"NAME",children:"\u5ba2\u6236\u540d\u7a31"})]}),Object(k.jsx)(gt.a,{placeholder:"\u641c\u5c0b\u5167\u5bb9",allowClear:!0,onChange:this.onInputChange}),Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(B,{}),onClick:this.handleSearch,className:"list-header-search",children:"\u67e5\u8a62"})]})})]})}),Object(k.jsx)(Mt.a,{className:"list-table-wrapper",rowKey:"customerId",size:"small",columns:this.getColumns(),loading:this.state.loading,dataSource:this.state.list,pagination:Vt(this.state.pagination,this.onPageChange)})]})}}]),a}(r.a.Component),ae={customerId:"",name:"",shortName:"",principal:"",contactPerson:"",postCode:"",address:"",phone1:"",phone2:"",faxNumber:"",cellphone:"",note1:"",note2:""},ne=[{key:"customerId",required:!0,length:[10]},{key:"name",required:!0,length:[30]},{key:"shortName",required:!0,length:[10]},{key:"principal",length:[2,10]},{key:"contactPerson",length:[2,10]},{key:"address",length:[100]},{key:"phone1",length:[10]},{key:"phone2",length:[10]},{key:"faxNumber",length:[10]},{key:"cellphone",length:[10]},{key:"note1",length:[255]},{key:"note2",length:[255]}],re=function(t){Object(g.a)(a,t);var e=Object(m.a)(a);function a(t){var n;return Object(b.a)(this,a),(n=e.call(this,t)).history=Object(bt.b)(),n.customerAPI=new te,n.getCustomerData=function(){n.customerAPI.getCustomerData(n.props.customerId).then((function(t){0===t.code?n.setState({loading:!1,formData:t.data},(function(){return n.checkCanSubmit()})):(O.b.error(t.message),n.history.push("/Basic/Customer"))})).catch((function(){O.b.error("Error!"),n.history.push("/Basic/Customer")}))},n.getFormErrorStatus=function(t){var e=n.state.formStatus.find((function(e){return e.key===t}));return!!e&&e.error},n.onInputChange=function(t){var e=t.target.getAttribute("id"),a=t.target.value,r=n.state.formData;r[e]=a,n.checkData(r,e)},n.checkData=function(t,e){var a=n.state.formStatus,r=a.find((function(t){return t.key===e}));if(r){var c=t[e],i=!1;r.required&&!c&&(i=!0),r.length&&r.length.length>0&&c&&(1===r.length.length&&c.length>r.length[0]||r.length.length>1&&(c.length<r.length[0]||c.length>r.length[1]))&&(i=!0),r.regExp&&!r.regExp.test(c)&&(i=!0),r.error=i}n.setState({formData:t,formStatus:a},(function(){return n.checkCanSubmit()}))},n.checkCanSubmit=function(){n.setState({canSubmit:!n.state.formStatus.some((function(t){return t.error}))})},n.checkId=function(){var t=n.state.formData;n.setState({validId:!1},(function(){n.customerAPI.getCustomerData(t.customerId).then((function(e){0===e.code?Tt.a.error({title:"\u6b64\u7de8\u865f\u5df2\u91cd\u8907\uff0c\u8acb\u91cd\u65b0\u8f38\u5165",icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:null,onOk:function(){t.customerId="",n.setState({formData:t})}}):n.setState({validId:!0})}))}))},n.handleCreate=function(t){n.setState({loading:!0},(function(){n.customerAPI.addCustomerData(n.state.formData).then((function(e){0===e.code?(O.b.success("\u6210\u529f\u65b0\u589e\u8cc7\u6599"),t?n.history.push("/Basic/Customer"):(document.getElementById("layout-content-wrapper").scrollTo({top:0,behavior:"smooth"}),n.setState({loading:!1,formData:Object(d.a)({},ae),formStatus:JSON.parse(JSON.stringify(ne)),canSubmit:!1}))):Tt.a.error({title:e.message,icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:null,onOk:function(){n.setState({loading:!1})}})})).catch((function(t){O.b.error(t.response.data.message),n.setState({loading:!1})}))}))},n.handleSubmit=function(t){n.setState({loading:!0},(function(){n.customerAPI.updateCustomerData(n.props.customerId,n.state.formData).then((function(e){0===e.code?(O.b.success("\u6210\u529f\u66f4\u65b0\u8cc7\u6599"),t?n.history.push("/Basic/Customer"):(document.getElementById("layout-content-wrapper").scrollTo({top:0,behavior:"smooth"}),n.getCustomerData())):Tt.a.error({title:e.message,icon:Object(k.jsx)(qt.a,{}),content:e.data.map((function(t,e){return Object(k.jsxs)(k.Fragment,{children:[e>0&&Object(k.jsx)("br",{}),t.split(": ")[1]]})})),okText:"\u78ba\u8a8d",cancelText:null,onOk:function(){n.setState({loading:!1})}})})).catch((function(){O.b.error("\u8cc7\u6599\u66f4\u65b0\u5931\u6557"),n.setState({loading:!1})}))}))},n.handleCancel=function(){Tt.a.confirm({title:"\u8b8a\u66f4\u5c1a\u672a\u5132\u5b58\uff0c\u78ba\u5b9a\u8981\u96e2\u958b\u55ce",icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:"\u53d6\u6d88",onOk:function(){n.history.push("/Basic/Customer")}})},n.state={loading:!t.createFlag,formData:Object(d.a)({},ae),formStatus:JSON.parse(JSON.stringify(ne)),validId:!1,canSubmit:!1},t.createFlag||n.getCustomerData(),n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(t){var e=this;!t.createFlag&&this.props.createFlag?this.setState({loading:!1,formData:Object(d.a)({},ae),formStatus:JSON.parse(JSON.stringify(ne)),validId:!1,canSubmit:!1}):this.props.createFlag||t.customerId===this.props.customerId||this.setState({loading:!0,formData:Object(d.a)({},ae),formStatus:JSON.parse(JSON.stringify(ne)),validId:!0,canSubmit:!1},(function(){return e.getCustomerData()}))}},{key:"render",value:function(){var t={gutter:[24,24],type:"flex",align:"middle",style:{marginBottom:24,marginTop:24}},e={xs:24,sm:24,md:24,lg:8};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(Ht.a,{style:{marginBottom:10},children:[Object(k.jsx)(Ht.a.Item,{children:Object(k.jsx)(s.b,{to:"/Basic/Customer",children:"\u5ba2\u6236"})}),Object(k.jsx)(Ht.a.Item,{children:this.props.createFlag?"\u65b0\u589e\u5ba2\u6236":"\u4fee\u6539\u5ba2\u6236\u8cc7\u6599"})]}),Object(k.jsxs)(Ut.a,{spinning:this.state.loading,children:[Object(k.jsx)(Yt.a,{className:"form-detail-card",children:Object(k.jsxs)(zt.a,Object(d.a)(Object(d.a)({},t),{},{children:[Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!0,title:"\u5ba2\u6236\u4ee3\u865f",content:Object(k.jsx)(gt.a,{onBlur:this.checkId,onChange:this.onInputChange,value:this.state.formData.customerId,id:"customerId",disabled:!this.props.createFlag}),message:"\u5ba2\u6236\u4ee3\u865f\u70ba\u5fc5\u586b,\u9577\u5ea6\u9700\u572810\u5b57\u5167",error:this.getFormErrorStatus("customerId")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!0,title:"\u5ba2\u6236\u540d\u7a31",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.name,id:"name"}),message:"\u5ba2\u6236\u540d\u7a31\u70ba\u5fc5\u586b,\u9577\u5ea6\u9700\u572830\u5b57\u5167",error:this.getFormErrorStatus("name")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!0,title:"\u5ba2\u6236\u7c21\u7a31",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.shortName,id:"shortName"}),message:"\u5ba2\u6236\u7c21\u7a31\u70ba\u5fc5\u586b,\u9577\u5ea6\u9700\u572810\u5b57\u5167",error:this.getFormErrorStatus("shortName")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u8ca0\u8cac\u4eba",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.principal,id:"principal"}),message:"\u9577\u5ea6\u9700\u57282~10\u5b57",error:this.getFormErrorStatus("principal")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u806f\u7d61\u4eba",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.contactPerson,id:"contactPerson"}),message:"\u9577\u5ea6\u9700\u57282~10\u5b57",error:this.getFormErrorStatus("contactPerson")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u50b3\u771f\u865f\u78bc",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.faxNumber,id:"faxNumber"}),message:"\u9577\u5ea6\u9700\u572810\u5b57\u5167",error:this.getFormErrorStatus("faxNumber")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u96fb\u8a711",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.phone1,id:"phone1"}),message:"\u9577\u5ea6\u9700\u572810\u5b57\u5167",error:this.getFormErrorStatus("phone1")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u96fb\u8a712",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.phone2,id:"phone2"}),message:"\u9577\u5ea6\u9700\u572810\u5b57\u5167",error:this.getFormErrorStatus("phone2")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u884c\u52d5\u96fb\u8a71",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.cellphone,id:"cellphone"}),message:"\u9577\u5ea6\u9700\u572810\u5b57\u5167",error:this.getFormErrorStatus("cellphone")})}))]}))}),Object(k.jsx)(Yt.a,{className:"form-detail-card",children:Object(k.jsx)(zt.a,Object(d.a)(Object(d.a)({},t),{},{children:Object(k.jsx)(Bt.a,{span:24,children:Object(k.jsx)(Kt,{required:!1,title:"\u5730\u5740",content:Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(zt.a,{type:"flex",gutter:[10],children:[Object(k.jsx)(Bt.a,{style:{width:120},children:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.postCode,id:"postCode",placeholder:"\u90f5\u905e\u5340\u865f"})}),Object(k.jsx)(Bt.a,{style:{width:"calc(100% - 120px)"},children:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.address,id:"address",placeholder:"\u5730\u5740"})})]})}),message:"\u9577\u5ea6\u9700\u5728100\u5b57\u5167",error:this.getFormErrorStatus("address")})})}))}),Object(k.jsxs)(Yt.a,{className:"form-detail-card",children:[Object(k.jsx)(zt.a,Object(d.a)(Object(d.a)({},t),{},{align:"top",children:Object(k.jsx)(Bt.a,{span:24,children:Object(k.jsx)(Kt,{required:!1,align:"flex-start",title:"\u5099\u8a3b1",content:Object(k.jsx)(gt.a.TextArea,{onChange:this.onInputChange,value:this.state.formData.note1,id:"note1",autoSize:{minRows:4,maxRows:4}}),message:"\u9577\u5ea6\u9700\u5728255\u5b57\u5167",error:this.getFormErrorStatus("note1")})})})),Object(k.jsx)(zt.a,Object(d.a)(Object(d.a)({},t),{},{children:Object(k.jsx)(Bt.a,{span:24,children:Object(k.jsx)(Kt,{required:!1,align:"flex-start",title:"\u5099\u8a3b2",content:Object(k.jsx)(gt.a.TextArea,{onChange:this.onInputChange,value:this.state.formData.note2,id:"note2",autoSize:{minRows:4,maxRows:4}}),message:"\u9577\u5ea6\u9700\u5728255\u5b57\u5167",error:this.getFormErrorStatus("note2")})})}))]}),Object(k.jsx)("div",{style:{margin:"20px",textAlign:"center"},children:Object(k.jsxs)(Lt.b,{children:[this.props.createFlag?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),disabled:!this.state.validId,onClick:this.handleCreate.bind(this,!0),children:"\u5132\u5b58"}),Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),disabled:!this.state.validId,onClick:this.handleCreate.bind(this,!1),children:"\u5132\u5b58\u4e26\u7e7c\u7e8c\u65b0\u589e"})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),onClick:this.handleSubmit.bind(this,!1),children:"\u5132\u5b58"}),Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),onClick:this.handleSubmit.bind(this,!0),children:"\u5132\u5b58\u4e26\u8fd4\u56de\u5217\u8868"})]}),Object(k.jsx)(Ot.a,{danger:!0,icon:Object(k.jsx)(Wt.a,{}),onClick:this.handleCancel,children:"\u53d6\u6d88"})]})})]})]})}}]),a}(r.a.Component),ce=function(t){Object(g.a)(a,t);var e=Object(m.a)(a);function a(){return Object(b.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(k.jsx)(re,{createFlag:this.props.createFlag,customerId:this.props.match.params.customerId})}}]),a}(r.a.Component),ie=function t(){Object(b.a)(this,t),this.getEmployeeList=function(t){return yt("get","/employees",t).then((function(t){return t.data}))},this.getEmployeeData=function(t){return yt("get","/employees/".concat(t)).then((function(t){return t.data}))},this.addEmployeeData=function(t){return yt("post","/employees/".concat(t.employeeId),t).then((function(t){return t.data}))},this.updateEmployeeData=function(t,e){return yt("patch","/employees/".concat(t),e).then((function(t){return t.data}))}},se=function(t){Object(g.a)(a,t);var e=Object(m.a)(a);function a(t){var n;return Object(b.a)(this,a),(n=e.call(this,t)).history=Object(bt.b)(),n.employeeAPI=new ie,n.getList=function(){var t=n.state,e=t.search,a=t.pagination,r={pageNum:a.current,pageSize:a.pageSize,queryByEnum:e.id,queryKeyWord:"%".concat(e.keyword,"%")};n.employeeAPI.getEmployeeList(r).then((function(t){a.total=t.data.total,n.setState({loading:!1,list:t.data.list,pagination:a})})).catch((function(){return n.setState({loading:!1})}))},n.onSelectChange=function(t){var e=n.state.search;e.id=t,n.setState({search:e})},n.onInputChange=function(t){var e=n.state.search;e.keyword=t.target.value,n.setState({search:e})},n.handleSearch=function(){var t=n.state.pagination;t.current=1,n.setState({loading:!0,list:[],pagination:t},(function(){return n.getList()}))},n.getColumns=function(){var t=Object(Ft.a)(n),e=n.state.pagination;return[{dataIndex:"employeeId",title:"\u57f7\u884c",width:50,render:function(e){return Object(k.jsxs)(Lt.b,{className:"list-table-option",children:[Object(k.jsx)(Et.a,{title:"\u7de8\u8f2f",children:Object(k.jsx)(Ot.a,{className:"list-table-option-edit",size:"small",onClick:t.onEdit.bind(t,e),children:Object(k.jsx)(T,{})})}),Object(k.jsx)(Et.a,{title:"\u522a\u9664",children:Object(k.jsx)(Ot.a,{className:"list-table-option-delete",size:"small",onClick:t.handleDelete.bind(t,e),children:Object(k.jsx)(L,{})})})]})}},{title:"\u5e8f",width:30,align:"center",render:function(t,a,n){return(e.current-1)*e.pageSize+n+1}},{title:"\u54e1\u5de5\u7de8\u865f",dataIndex:"employeeId"},{title:"\u59d3\u540d",dataIndex:"name"},{title:"\u624b\u6a5f\u865f\u78bc",dataIndex:"cellphone"},{title:"\u5e02\u5167\u96fb\u8a71",dataIndex:"phone"}]},n.onEdit=function(t){n.history.push("/Basic/Employee/".concat(t))},n.handleDelete=function(t){Tt.a.confirm({title:"\u78ba\u5b9a\u8981\u522a\u9664\u6b64\u7b46\u8cc7\u6599\u55ce",icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:"\u53d6\u6d88",onOk:function(){console.log("delete: "+t)}})},n.onPageChange=function(t,e){var a=n.state.pagination;a.current=t,a.pageSize=e,n.setState({loading:!0,list:[],pagination:a},(function(){return n.getList()}))},n.state={loading:!0,search:{id:"EMPLOYEE_ID",keyword:""},list:[],pagination:{current:1,total:0,pageSize:10,position:["bottomLeft"]}},n.getList(),n}return Object(p.a)(a,[{key:"render",value:function(){var t=this;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"list-header",children:Object(k.jsxs)(zt.a,{type:"flex",justify:"space-between",children:[Object(k.jsx)(Bt.a,{children:Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(M,{}),onClick:function(){return t.history.push("/Basic/Employee/Add")},className:"list-header-add",children:"\u65b0\u589e"})}),Object(k.jsx)(Bt.a,{children:Object(k.jsxs)(Lt.b,{children:[Object(k.jsxs)(At.a,{placeholder:"\u641c\u5c0b\u6b04\u4f4d",value:this.state.search.id,onChange:this.onSelectChange,children:[Object(k.jsx)(At.a.Option,{value:"EMPLOYEE_ID",children:"\u54e1\u5de5\u7de8\u865f"}),Object(k.jsx)(At.a.Option,{value:"NAME",children:"\u59d3\u540d"})]}),Object(k.jsx)(gt.a,{placeholder:"\u641c\u5c0b\u5167\u5bb9",allowClear:!0,onChange:this.onInputChange}),Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(B,{}),onClick:this.handleSearch,className:"list-header-search",children:"\u67e5\u8a62"})]})})]})}),Object(k.jsx)(Mt.a,{className:"list-table-wrapper",rowKey:"employeeId",size:"small",columns:this.getColumns(),loading:this.state.loading,dataSource:this.state.list,pagination:Vt(this.state.pagination,this.onPageChange)})]})}}]),a}(r.a.Component),oe=a(317),le=a(320),de={employeeId:"",identityCardNumber:"",name:"",birthday:null,address:"",cellphone:"",phone:"",takeOfficeDay:null,education:"",experience:"",note:"",salary:null,extraBonus:null,fullAttendanceBonus:null},he=[{key:"employeeId",required:!0,length:[10]},{key:"identityCardNumber",required:!0,length:[10]},{key:"name",required:!0,length:[30]},{key:"address",length:[100]},{key:"cellphone",length:[10]},{key:"phone",length:[10]},{key:"education",length:[10]},{key:"experience",length:[10]},{key:"note",length:[255]}],ue=function(t){Object(g.a)(a,t);var e=Object(m.a)(a);function a(t){var n;return Object(b.a)(this,a),(n=e.call(this,t)).history=Object(bt.b)(),n.employeeAPI=new ie,n.getEmployeeData=function(){n.employeeAPI.getEmployeeData(n.props.employeeId).then((function(t){0===t.code?n.setState({loading:!1,formData:Object(d.a)(Object(d.a)({},t.data),{},{birthday:C()(t.data.birthday,"YYYY-MM-DD").valueOf(),takeOfficeDay:C()(t.data.takeOfficeDay,"YYYY-MM-DD").valueOf()})},(function(){return n.checkCanSubmit()})):(O.b.error(t.message),n.history.push("/Basic/Employee"))})).catch((function(){O.b.error("Error!"),n.history.push("/Basic/Employee")}))},n.getFormErrorStatus=function(t){var e=n.state.formStatus.find((function(e){return e.key===t}));return!!e&&e.error},n.onInputChange=function(t){var e=t.target.getAttribute("id"),a=t.target.value,r=n.state.formData;r[e]=a,n.checkData(r,e)},n.onDateChange=function(t,e){var a=n.state.formData;a[t]=C()(e).valueOf(),n.checkData(a,t)},n.onNumberChange=function(t,e){var a=n.state.formData;a[t]=e,n.checkData(a,t)},n.checkData=function(t,e){var a=n.state.formStatus,r=a.find((function(t){return t.key===e}));if(r){var c=t[e],i=!1;r.required&&!c&&(i=!0),r.length&&r.length.length>0&&c&&(1===r.length.length&&c.length>r.length[0]||r.length.length>1&&(c.length<r.length[0]||c.length>r.length[1]))&&(i=!0),r.regExp&&!r.regExp.test(c)&&(i=!0),r.error=i}n.setState({formData:t,formStatus:a},(function(){return n.checkCanSubmit()}))},n.checkCanSubmit=function(){n.setState({canSubmit:!n.state.formStatus.some((function(t){return t.error}))})},n.checkId=function(){var t=n.state.formData;n.setState({validId:!1},(function(){n.employeeAPI.getEmployeeData(t.employeeId).then((function(e){0===e.code?Tt.a.error({title:"\u6b64\u7de8\u865f\u5df2\u91cd\u8907\uff0c\u8acb\u91cd\u65b0\u8f38\u5165",icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:null,onOk:function(){t.employeeId="",n.setState({formData:t})}}):n.setState({validId:!0})}))}))},n.handleCreate=function(t){n.setState({loading:!0},(function(){n.employeeAPI.addEmployeeData(n.state.formData).then((function(e){0===e.code?(O.b.success("\u6210\u529f\u65b0\u589e\u8cc7\u6599"),t?n.history.push("/Basic/Employee"):(document.getElementById("layout-content-wrapper").scrollTo({top:0,behavior:"smooth"}),n.setState({loading:!1,formData:Object(d.a)({},de),formStatus:JSON.parse(JSON.stringify(he)),canSubmit:!1}))):Tt.a.error({title:e.message,icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:null,onOk:function(){n.setState({loading:!1})}})})).catch((function(t){O.b.error(t.response.data.message),n.setState({loading:!1})}))}))},n.handleSubmit=function(t){n.setState({loading:!0},(function(){n.employeeAPI.updateEmployeeData(n.props.employeeId,Object(d.a)(Object(d.a)({},n.state.formData),{},{birthday:C()(n.state.formData.birthday).format("YYYY-MM-DD"),takeOfficeDay:C()(n.state.formData.takeOfficeDay).format("YYYY-MM-DD")})).then((function(e){0===e.code?(O.b.success("\u6210\u529f\u66f4\u65b0\u8cc7\u6599"),t?n.history.push("/Basic/Employee"):(document.getElementById("layout-content-wrapper").scrollTo({top:0,behavior:"smooth"}),n.getEmployeeData())):Tt.a.error({title:e.message,icon:Object(k.jsx)(qt.a,{}),content:e.data.map((function(t,e){return Object(k.jsxs)(k.Fragment,{children:[e>0&&Object(k.jsx)("br",{}),t.split(": ")[1]]})})),okText:"\u78ba\u8a8d",cancelText:null,onOk:function(){n.setState({loading:!1})}})})).catch((function(t){O.b.error("\u8cc7\u6599\u66f4\u65b0\u5931\u6557"),n.setState({loading:!1})}))}))},n.handleCancel=function(){Tt.a.confirm({title:"\u8b8a\u66f4\u5c1a\u672a\u5132\u5b58\uff0c\u78ba\u5b9a\u8981\u96e2\u958b\u55ce",icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:"\u53d6\u6d88",onOk:function(){n.history.push("/Basic/Employee")}})},n.state={loading:!t.createFlag,formData:Object(d.a)({},de),formStatus:JSON.parse(JSON.stringify(he)),validId:!1,canSubmit:!1},t.createFlag||n.getEmployeeData(),n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(t){var e=this;!t.createFlag&&this.props.createFlag?this.setState({loading:!1,formData:Object(d.a)({},de),formStatus:JSON.parse(JSON.stringify(he)),validId:!1,canSubmit:!1}):this.props.createFlag||t.employeeId===this.props.employeeId||this.setState({loading:!0,formData:Object(d.a)({},de),formStatus:JSON.parse(JSON.stringify(he)),validId:!0,canSubmit:!1},(function(){return e.getEmployeeData()}))}},{key:"render",value:function(){var t={gutter:[24,24],type:"flex",align:"middle",style:{marginBottom:24,marginTop:24}},e={xs:24,sm:24,md:24,lg:8};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(Ht.a,{style:{marginBottom:10},children:[Object(k.jsx)(Ht.a.Item,{children:Object(k.jsx)(s.b,{to:"/Basic/Employee",children:"\u54e1\u5de5"})}),Object(k.jsx)(Ht.a.Item,{children:this.props.createFlag?"\u65b0\u589e\u54e1\u5de5":"\u4fee\u6539\u54e1\u5de5\u8cc7\u6599"})]}),Object(k.jsxs)(Ut.a,{spinning:this.state.loading,children:[Object(k.jsx)(Yt.a,{className:"form-detail-card",children:Object(k.jsxs)(zt.a,Object(d.a)(Object(d.a)({},t),{},{children:[Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!0,title:"\u54e1\u5de5\u7de8\u865f",content:Object(k.jsx)(gt.a,{onBlur:this.checkId,onChange:this.onInputChange,value:this.state.formData.employeeId,id:"employeeId",disabled:!this.props.createFlag}),message:"\u54e1\u5de5\u7de8\u865f\u70ba\u5fc5\u586b,\u9577\u5ea6\u9700\u572810\u5b57\u5167",error:this.getFormErrorStatus("employeeId")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!0,title:"\u8eab\u5206\u8b49\u865f",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.identityCardNumber,id:"identityCardNumber"}),message:"\u8eab\u5206\u8b49\u865f\u70ba\u5fc5\u586b,\u9577\u5ea6\u9700\u572810\u5b57\u5167",error:this.getFormErrorStatus("identityCardNumber")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!0,title:"\u59d3\u540d",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.name,id:"name"}),message:"\u59d3\u540d\u70ba\u5fc5\u586b,\u9577\u5ea6\u9700\u572830\u5b57\u5167",error:this.getFormErrorStatus("name")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u51fa\u751f\u5e74\u6708\u65e5",content:Object(k.jsx)(oe.a,{onChange:this.onDateChange.bind(this,"birthday"),value:this.state.formData.birthday?C()(this.state.formData.birthday):void 0,format:"YYYY-MM-DD",placeholder:"",style:{display:"block"}})})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u624b\u6a5f\u865f\u78bc",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.cellphone,id:"cellphone"}),message:"\u9577\u5ea6\u9700\u572810\u5b57\u5167",error:this.getFormErrorStatus("cellphone")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u5e02\u5167\u96fb\u8a71",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.phone,id:"phone"}),message:"\u9577\u5ea6\u9700\u572810\u5b57\u5167",error:this.getFormErrorStatus("phone")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u5c31\u8077\u65e5\u671f",content:Object(k.jsx)(oe.a,{onChange:this.onDateChange.bind(this,"takeOfficeDay"),value:this.state.formData.takeOfficeDay?C()(this.state.formData.takeOfficeDay):void 0,format:"YYYY-MM-DD",placeholder:"",style:{display:"block"}})})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u5b78\u6b77",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.education,id:"education"}),message:"\u9577\u5ea6\u9700\u572810\u5b57\u5167",error:this.getFormErrorStatus("education")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u85aa\u8cc7",content:Object(k.jsx)(le.a,{onChange:this.onNumberChange.bind(this,"salary"),value:this.state.formData.salary,min:0,max:999999,step:1,style:{display:"block",width:"100%"}})})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u8077\u52d9\u6d25\u8cbc",content:Object(k.jsx)(le.a,{onChange:this.onNumberChange.bind(this,"extraBonus"),value:this.state.formData.extraBonus,min:0,max:999999,step:1,style:{display:"block",width:"100%"}})})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u5168\u52e4\u6d25\u8cbc",content:Object(k.jsx)(le.a,{onChange:this.onNumberChange.bind(this,"fullAttendanceBonus"),value:this.state.formData.fullAttendanceBonus,min:0,max:999999,step:1,style:{display:"block",width:"100%"}})})}))]}))}),Object(k.jsx)(Yt.a,{className:"form-detail-card",children:Object(k.jsx)(zt.a,Object(d.a)(Object(d.a)({},t),{},{children:Object(k.jsx)(Bt.a,{span:24,children:Object(k.jsx)(Kt,{required:!1,title:"\u5730\u5740",content:Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(zt.a,{type:"flex",gutter:[10],children:[Object(k.jsx)(Bt.a,{style:{width:120},children:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.postCode,id:"postCode",placeholder:"\u90f5\u905e\u5340\u865f"})}),Object(k.jsx)(Bt.a,{style:{width:"calc(100% - 120px)"},children:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.address,id:"address",placeholder:"\u5730\u5740"})})]})}),message:"\u9577\u5ea6\u9700\u5728100\u5b57\u5167",error:this.getFormErrorStatus("address")})})}))}),Object(k.jsxs)(Yt.a,{className:"form-detail-card",children:[Object(k.jsx)(zt.a,Object(d.a)(Object(d.a)({},t),{},{align:"top",children:Object(k.jsx)(Bt.a,{span:24,children:Object(k.jsx)(Kt,{required:!1,align:"flex-start",title:"\u7d93\u6b77",content:Object(k.jsx)(gt.a.TextArea,{onChange:this.onInputChange,value:this.state.formData.experience,id:"experience",autoSize:{minRows:4,maxRows:4}}),message:"\u9577\u5ea6\u9700\u5728255\u5b57\u5167",error:this.getFormErrorStatus("experience")})})})),Object(k.jsx)(zt.a,Object(d.a)(Object(d.a)({},t),{},{children:Object(k.jsx)(Bt.a,{span:24,children:Object(k.jsx)(Kt,{required:!1,align:"flex-start",title:"\u5099\u8a3b",content:Object(k.jsx)(gt.a.TextArea,{onChange:this.onInputChange,value:this.state.formData.note,id:"note",autoSize:{minRows:4,maxRows:4}}),message:"\u9577\u5ea6\u9700\u5728255\u5b57\u5167",error:this.getFormErrorStatus("note")})})}))]}),Object(k.jsx)("div",{style:{margin:"20px",textAlign:"center"},children:Object(k.jsxs)(Lt.b,{children:[this.props.createFlag?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),disabled:!this.state.validId,onClick:this.handleCreate.bind(this,!0),children:"\u5132\u5b58"}),Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),disabled:!this.state.validId,onClick:this.handleCreate.bind(this,!1),children:"\u5132\u5b58\u4e26\u7e7c\u7e8c\u65b0\u589e"})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),onClick:this.handleSubmit.bind(this,!1),children:"\u5132\u5b58"}),Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),onClick:this.handleSubmit.bind(this,!0),children:"\u5132\u5b58\u4e26\u8fd4\u56de\u5217\u8868"})]}),Object(k.jsx)(Ot.a,{danger:!0,icon:Object(k.jsx)(Wt.a,{}),onClick:this.handleCancel,children:"\u53d6\u6d88"})]})})]})]})}}]),a}(r.a.Component),je=function(t){Object(g.a)(a,t);var e=Object(m.a)(a);function a(){return Object(b.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(k.jsx)(ue,{createFlag:this.props.createFlag,employeeId:this.props.match.params.employeeId})}}]),a}(r.a.Component),be=function t(){Object(b.a)(this,t),this.getVehicleList=function(t){return yt("get","/kinds",t).then((function(t){return t.data}))},this.getVehicleData=function(t){return yt("get","/kinds/".concat(t)).then((function(t){return t.data}))},this.addVehicleData=function(t){return yt("post","/kinds/".concat(t.kindId),t).then((function(t){return t.data}))},this.updateVehicleData=function(t,e){return yt("patch","/kinds/".concat(t),e).then((function(t){return t.data}))}},pe=function(t){Object(g.a)(a,t);var e=Object(m.a)(a);function a(t){var n;return Object(b.a)(this,a),(n=e.call(this,t)).history=Object(bt.b)(),n.vehicleAPI=new be,n.getList=function(){var t=n.state,e=t.search,a=t.pagination,r={pageNum:a.current,pageSize:a.pageSize,kindIdLike:"%".concat(e.keyword,"%")};n.vehicleAPI.getVehicleList(r).then((function(t){a.total=t.data.total,n.setState({loading:!1,list:t.data.list,pagination:a})})).catch((function(){return n.setState({loading:!1})}))},n.onInputChange=function(t){var e=n.state.search;e.keyword=t.target.value,n.setState({search:e})},n.handleSearch=function(){var t=n.state.pagination;t.current=1,n.setState({loading:!0,list:[],pagination:t},(function(){return n.getList()}))},n.getColumns=function(){var t=Object(Ft.a)(n),e=n.state.pagination;return[{dataIndex:"kindId",title:"\u57f7\u884c",width:50,render:function(e){return Object(k.jsxs)(Lt.b,{className:"list-table-option",children:[Object(k.jsx)(Et.a,{title:"\u7de8\u8f2f",children:Object(k.jsx)(Ot.a,{className:"list-table-option-edit",size:"small",onClick:t.onEdit.bind(t,e),children:Object(k.jsx)(T,{})})}),Object(k.jsx)(Et.a,{title:"\u522a\u9664",children:Object(k.jsx)(Ot.a,{className:"list-table-option-delete",size:"small",onClick:t.handleDelete.bind(t,e),children:Object(k.jsx)(L,{})})})]})}},{title:"\u5e8f",width:30,align:"center",render:function(t,a,n){return(e.current-1)*e.pageSize+n+1}},{title:"\u8eca\u7a2e\u4ee3\u865f",dataIndex:"kindId"},{title:"\u8eca\u7a2e\u7c21\u7a31",dataIndex:"shortName"},{title:"\u8eca\u7a2e\u540d\u7a31",dataIndex:"name"},{title:"\u8eca\u5ee0",dataIndex:"factory"}]},n.onEdit=function(t){n.history.push("/Parts/Vehicle/".concat(t))},n.handleDelete=function(t){Tt.a.confirm({title:"\u78ba\u5b9a\u8981\u522a\u9664\u6b64\u7b46\u8cc7\u6599\u55ce",icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:"\u53d6\u6d88",onOk:function(){console.log("delete: "+t)}})},n.onPageChange=function(t,e){var a=n.state.pagination;a.current=t,a.pageSize=e,n.setState({loading:!0,list:[],pagination:a},(function(){return n.getList()}))},n.state={loading:!0,search:{keyword:""},list:[],pagination:{current:1,total:0,pageSize:10,position:["bottomLeft"]}},n.getList(),n}return Object(p.a)(a,[{key:"render",value:function(){var t=this;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"list-header",children:Object(k.jsxs)(zt.a,{type:"flex",justify:"space-between",children:[Object(k.jsx)(Bt.a,{children:Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(M,{}),onClick:function(){return t.history.push("/Parts/Vehicle/Add")},className:"list-header-add",children:"\u65b0\u589e"})}),Object(k.jsx)(Bt.a,{children:Object(k.jsxs)(Lt.b,{children:[Object(k.jsx)(gt.a,{placeholder:"\u641c\u5c0b\u8eca\u7a2e\u4ee3\u865f",allowClear:!0,onChange:this.onInputChange,style:{width:140}}),Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(B,{}),onClick:this.handleSearch,className:"list-header-search",children:"\u67e5\u8a62"})]})})]})}),Object(k.jsx)(Mt.a,{className:"list-table-wrapper",rowKey:"vendorId",size:"small",columns:this.getColumns(),loading:this.state.loading,dataSource:this.state.list,pagination:Vt(this.state.pagination,this.onPageChange)})]})}}]),a}(r.a.Component),ge={kindId:"",name:"",shortName:"",factory:""},me=[{key:"kindId",required:!0,length:[8]},{key:"name",required:!0,length:[20]},{key:"shortName",required:!0,length:[15]},{key:"factory",length:[3]}],Oe=function(t){Object(g.a)(a,t);var e=Object(m.a)(a);function a(t){var n;return Object(b.a)(this,a),(n=e.call(this,t)).history=Object(bt.b)(),n.vehicleAPI=new be,n.getVehicleData=function(){n.vehicleAPI.getVehicleData(n.props.kindId).then((function(t){0===t.code?n.setState({loading:!1,formData:t.data},(function(){return n.checkCanSubmit()})):(O.b.error(t.message),n.history.push("/Parts/Vehicle"))})).catch((function(){O.b.error("Error!"),n.history.push("/Parts/Vehicle")}))},n.getFormErrorStatus=function(t){var e=n.state.formStatus.find((function(e){return e.key===t}));return!!e&&e.error},n.onInputChange=function(t){var e=t.target.getAttribute("id"),a=t.target.value,r=n.state.formData;r[e]=a,n.checkData(r,e)},n.checkData=function(t,e){var a=n.state.formStatus,r=a.find((function(t){return t.key===e}));if(r){var c=t[e],i=!1;r.required&&!c&&(i=!0),r.length&&r.length.length>0&&c&&(1===r.length.length&&c.length>r.length[0]||r.length.length>1&&(c.length<r.length[0]||c.length>r.length[1]))&&(i=!0),r.regExp&&!r.regExp.test(c)&&(i=!0),r.error=i}n.setState({formData:t,formStatus:a},(function(){return n.checkCanSubmit()}))},n.checkCanSubmit=function(){n.setState({canSubmit:!n.state.formStatus.some((function(t){return t.error}))})},n.checkId=function(){var t=n.state.formData;n.setState({validId:!1},(function(){n.vehicleAPI.getVehicleData(t.kindId).then((function(e){0===e.code?Tt.a.error({title:"\u6b64\u7de8\u865f\u5df2\u91cd\u8907\uff0c\u8acb\u91cd\u65b0\u8f38\u5165",icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:null,onOk:function(){t.kindId="",n.setState({formData:t})}}):n.setState({validId:!0})}))}))},n.handleCreate=function(t){n.setState({loading:!0},(function(){n.vehicleAPI.addVehicleData(n.state.formData).then((function(e){0===e.code?(O.b.success("\u6210\u529f\u65b0\u589e\u8cc7\u6599"),t?n.history.push("/Basic/Vehicle"):(document.getElementById("layout-content-wrapper").scrollTo({top:0,behavior:"smooth"}),n.setState({loading:!1,formData:Object(d.a)({},ge),formStatus:JSON.parse(JSON.stringify(me)),canSubmit:!1}))):Tt.a.error({title:e.message,icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:null,onOk:function(){n.setState({loading:!1})}})})).catch((function(t){O.b.error(t.response.data.message),n.setState({loading:!1})}))}))},n.handleSubmit=function(t){n.setState({loading:!0},(function(){n.vehicleAPI.updateVehicleData(n.props.kindId,n.state.formData).then((function(e){0===e.code?(O.b.success("\u6210\u529f\u66f4\u65b0\u8cc7\u6599"),t?n.history.push("/Parts/Vehicle"):(document.getElementById("layout-content-wrapper").scrollTo({top:0,behavior:"smooth"}),n.getVehicleData())):Tt.a.error({title:e.message,icon:Object(k.jsx)(qt.a,{}),content:e.data.map((function(t,e){return Object(k.jsxs)(k.Fragment,{children:[e>0&&Object(k.jsx)("br",{}),t.split(": ")[1]]})})),okText:"\u78ba\u8a8d",cancelText:null,onOk:function(){n.setState({loading:!1})}})})).catch((function(){O.b.error("\u8cc7\u6599\u66f4\u65b0\u5931\u6557"),n.setState({loading:!1})}))}))},n.handleCancel=function(){Tt.a.confirm({title:"\u8b8a\u66f4\u5c1a\u672a\u5132\u5b58\uff0c\u78ba\u5b9a\u8981\u96e2\u958b\u55ce",icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:"\u53d6\u6d88",onOk:function(){n.history.push("/Parts/Vehicle")}})},n.state={loading:!t.createFlag,formData:Object(d.a)({},ge),formStatus:JSON.parse(JSON.stringify(me)),validId:!1,canSubmit:!1},t.createFlag||n.getVehicleData(),n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(t){var e=this;!t.createFlag&&this.props.createFlag?this.setState({loading:!1,formData:Object(d.a)({},ge),formStatus:JSON.parse(JSON.stringify(me)),validId:!1,canSubmit:!1}):this.props.createFlag||t.kindId===this.props.kindId||this.setState({loading:!0,formData:Object(d.a)({},ge),formStatus:JSON.parse(JSON.stringify(me)),validId:!0,canSubmit:!1},(function(){return e.getVehicleData()}))}},{key:"render",value:function(){var t={xs:24,sm:24,md:24,lg:12};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(Ht.a,{style:{marginBottom:10},children:[Object(k.jsx)(Ht.a.Item,{children:Object(k.jsx)(s.b,{to:"/Parts/Vehicle",children:"\u8eca\u7a2e"})}),Object(k.jsx)(Ht.a.Item,{children:this.props.createFlag?"\u65b0\u589e\u8eca\u7a2e":"\u4fee\u6539\u8eca\u7a2e\u8cc7\u6599"})]}),Object(k.jsxs)(Ut.a,{spinning:this.state.loading,children:[Object(k.jsx)(Yt.a,{className:"form-detail-card",children:Object(k.jsxs)(zt.a,Object(d.a)(Object(d.a)({},{gutter:[24,24],type:"flex",align:"middle",style:{marginBottom:24,marginTop:24}}),{},{children:[Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},t),{},{children:Object(k.jsx)(Kt,{required:!0,title:"\u8eca\u7a2e\u4ee3\u865f",content:Object(k.jsx)(gt.a,{onBlur:this.checkId,onChange:this.onInputChange,value:this.state.formData.kindId,id:"kindId",disabled:!this.props.createFlag}),message:"\u8eca\u7a2e\u4ee3\u865f\u70ba\u5fc5\u586b,\u9577\u5ea6\u9700\u57288\u5b57\u5167",error:this.getFormErrorStatus("kindId")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},t),{},{children:Object(k.jsx)(Kt,{required:!0,title:"\u8eca\u7a2e\u540d\u7a31",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.name,id:"name"}),message:"\u8eca\u7a2e\u540d\u7a31\u70ba\u5fc5\u586b,\u9577\u5ea6\u9700\u572820\u5b57",error:this.getFormErrorStatus("name")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},t),{},{children:Object(k.jsx)(Kt,{required:!0,title:"\u8eca\u7a2e\u7c21\u7a31",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.shortName,id:"shortName"}),message:"\u8eca\u7a2e\u7c21\u7a31\u70ba\u5fc5\u586b,\u9577\u5ea6\u9700\u572815\u5b57\u5167",error:this.getFormErrorStatus("shortName")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},t),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u8eca\u5ee0",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.factory,id:"factory"}),message:"\u9577\u5ea6\u9700\u57283\u5b57\u5167",error:this.getFormErrorStatus("factory")})}))]}))}),Object(k.jsx)("div",{style:{margin:"20px",textAlign:"center"},children:Object(k.jsxs)(Lt.b,{children:[this.props.createFlag?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),disabled:!this.state.validId,onClick:this.handleCreate.bind(this,!0),children:"\u5132\u5b58"}),Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),disabled:!this.state.validId,onClick:this.handleCreate.bind(this,!1),children:"\u5132\u5b58\u4e26\u7e7c\u7e8c\u65b0\u589e"})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),onClick:this.handleSubmit.bind(this,!1),children:"\u5132\u5b58"}),Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),onClick:this.handleSubmit.bind(this,!0),children:"\u5132\u5b58\u4e26\u8fd4\u56de\u5217\u8868"})]}),Object(k.jsx)(Ot.a,{danger:!0,icon:Object(k.jsx)(Wt.a,{}),onClick:this.handleCancel,children:"\u53d6\u6d88"})]})})]})]})}}]),a}(r.a.Component),fe=function(t){Object(g.a)(a,t);var e=Object(m.a)(a);function a(){return Object(b.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(k.jsx)(Oe,{createFlag:this.props.createFlag,kindId:this.props.match.params.kindId})}}]),a}(r.a.Component),xe=function t(){Object(b.a)(this,t),this.getLevelList=function(t){return yt("get","/grades",t).then((function(t){return t.data}))},this.getLevelData=function(t){return yt("get","/grades/".concat(t)).then((function(t){return t.data}))},this.addLevelData=function(t){return yt("post","/grades/".concat(t.gradeId),t).then((function(t){return t.data}))},this.updateLevelData=function(t,e){return yt("patch","/grades/".concat(t),e).then((function(t){return t.data}))}},Se=function(t){Object(g.a)(a,t);var e=Object(m.a)(a);function a(t){var n;return Object(b.a)(this,a),(n=e.call(this,t)).history=Object(bt.b)(),n.levelAPI=new xe,n.getList=function(){var t=n.state,e=t.search,a=t.pagination,r={pageNum:a.current,pageSize:a.pageSize,gradeId:"%".concat(e.keyword,"%")};n.levelAPI.getLevelList(r).then((function(t){a.total=t.data.total,n.setState({loading:!1,list:t.data.list,pagination:a})})).catch((function(){return n.setState({loading:!1})}))},n.onInputChange=function(t){var e=n.state.search;e.keyword=t.target.value,n.setState({search:e})},n.handleSearch=function(){var t=n.state.pagination;t.current=1,n.setState({loading:!0,list:[],pagination:t},(function(){return n.getList()}))},n.getColumns=function(){var t=Object(Ft.a)(n),e=n.state.pagination;return[{dataIndex:"gradeId",title:"\u57f7\u884c",width:50,render:function(e){return Object(k.jsxs)(Lt.b,{className:"list-table-option",children:[Object(k.jsx)(Et.a,{title:"\u7de8\u8f2f",children:Object(k.jsx)(Ot.a,{className:"list-table-option-edit",size:"small",onClick:t.onEdit.bind(t,e),children:Object(k.jsx)(T,{})})}),Object(k.jsx)(Et.a,{title:"\u522a\u9664",children:Object(k.jsx)(Ot.a,{className:"list-table-option-delete",size:"small",onClick:t.handleDelete.bind(t,e),children:Object(k.jsx)(L,{})})})]})}},{title:"\u5e8f",width:30,align:"center",render:function(t,a,n){return(e.current-1)*e.pageSize+n+1}},{title:"\u7b49\u7d1a\u4ee3\u865f",dataIndex:"gradeId"},{title:"\u7b49\u7d1a\u540d\u7a31",dataIndex:"name"}]},n.onEdit=function(t){n.history.push("/Parts/Level/".concat(t))},n.handleDelete=function(t){Tt.a.confirm({title:"\u78ba\u5b9a\u8981\u522a\u9664\u6b64\u7b46\u8cc7\u6599\u55ce",icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:"\u53d6\u6d88",onOk:function(){console.log("delete: "+t)}})},n.onPageChange=function(t,e){var a=n.state.pagination;a.current=t,a.pageSize=e,n.setState({loading:!0,list:[],pagination:a},(function(){return n.getList()}))},n.state={loading:!0,search:{keyword:""},list:[],pagination:{current:1,total:0,pageSize:10,position:["bottomLeft"]}},n.getList(),n}return Object(p.a)(a,[{key:"render",value:function(){var t=this;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"list-header",children:Object(k.jsxs)(zt.a,{type:"flex",justify:"space-between",children:[Object(k.jsx)(Bt.a,{children:Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(M,{}),onClick:function(){return t.history.push("/Parts/Level/Add")},className:"list-header-add",children:"\u65b0\u589e"})}),Object(k.jsx)(Bt.a,{children:Object(k.jsxs)(Lt.b,{children:[Object(k.jsx)(gt.a,{placeholder:"\u641c\u5c0b\u7b49\u7d1a\u4ee3\u865f",allowClear:!0,onChange:this.onInputChange,style:{width:140}}),Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(B,{}),onClick:this.handleSearch,className:"list-header-search",children:"\u67e5\u8a62"})]})})]})}),Object(k.jsx)(Mt.a,{className:"list-table-wrapper",rowKey:"vendorId",size:"small",columns:this.getColumns(),loading:this.state.loading,dataSource:this.state.list,pagination:Vt(this.state.pagination,this.onPageChange)})]})}}]),a}(r.a.Component),ve={gradeId:"",name:""},ye=[{key:"gradeId",required:!0,length:[2]},{key:"name",required:!0,length:[10]}],Ce=function(t){Object(g.a)(a,t);var e=Object(m.a)(a);function a(t){var n;return Object(b.a)(this,a),(n=e.call(this,t)).history=Object(bt.b)(),n.levelAPI=new xe,n.getLevelData=function(){n.levelAPI.getLevelData(n.props.gradeId).then((function(t){0===t.code?n.setState({loading:!1,formData:t.data},(function(){return n.checkCanSubmit()})):(O.b.error(t.message),n.history.push("/Parts/Level"))})).catch((function(){O.b.error("Error!"),n.history.push("/Parts/Level")}))},n.getFormErrorStatus=function(t){var e=n.state.formStatus.find((function(e){return e.key===t}));return!!e&&e.error},n.onInputChange=function(t){var e=t.target.getAttribute("id"),a=t.target.value,r=n.state.formData;r[e]=a,n.checkData(r,e)},n.checkData=function(t,e){var a=n.state.formStatus,r=a.find((function(t){return t.key===e}));if(r){var c=t[e],i=!1;r.required&&!c&&(i=!0),r.length&&r.length.length>0&&c&&(1===r.length.length&&c.length>r.length[0]||r.length.length>1&&(c.length<r.length[0]||c.length>r.length[1]))&&(i=!0),r.regExp&&!r.regExp.test(c)&&(i=!0),r.error=i}n.setState({formData:t,formStatus:a},(function(){return n.checkCanSubmit()}))},n.checkCanSubmit=function(){n.setState({canSubmit:!n.state.formStatus.some((function(t){return t.error}))})},n.checkId=function(){var t=n.state.formData;n.setState({validId:!1},(function(){n.levelAPI.getLevelData(t.gradeId).then((function(e){0===e.code?Tt.a.error({title:"\u6b64\u7de8\u865f\u5df2\u91cd\u8907\uff0c\u8acb\u91cd\u65b0\u8f38\u5165",icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:null,onOk:function(){t.gradeId="",n.setState({formData:t})}}):n.setState({validId:!0})}))}))},n.handleCreate=function(t){n.setState({loading:!0},(function(){n.levelAPI.addLevelData(n.state.formData).then((function(e){0===e.code?(O.b.success("\u6210\u529f\u65b0\u589e\u8cc7\u6599"),t?n.history.push("/Basic/Level"):(document.getElementById("layout-content-wrapper").scrollTo({top:0,behavior:"smooth"}),n.setState({loading:!1,formData:Object(d.a)({},ve),formStatus:JSON.parse(JSON.stringify(ye)),canSubmit:!1}))):Tt.a.error({title:e.message,icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:null,onOk:function(){n.setState({loading:!1})}})})).catch((function(t){O.b.error(t.response.data.message),n.setState({loading:!1})}))}))},n.handleSubmit=function(t){n.setState({loading:!0},(function(){n.levelAPI.updateLevelData(n.props.gradeId,n.state.formData).then((function(e){0===e.code?(O.b.success("\u6210\u529f\u66f4\u65b0\u8cc7\u6599"),t?n.history.push("/Parts/Level"):(document.getElementById("layout-content-wrapper").scrollTo({top:0,behavior:"smooth"}),n.getLevelData())):Tt.a.error({title:e.message,icon:Object(k.jsx)(qt.a,{}),content:e.data.map((function(t,e){return Object(k.jsxs)(k.Fragment,{children:[e>0&&Object(k.jsx)("br",{}),t.split(": ")[1]]})})),okText:"\u78ba\u8a8d",cancelText:null,onOk:function(){n.setState({loading:!1})}})})).catch((function(){O.b.error("\u8cc7\u6599\u66f4\u65b0\u5931\u6557"),n.setState({loading:!1})}))}))},n.handleCancel=function(){Tt.a.confirm({title:"\u8b8a\u66f4\u5c1a\u672a\u5132\u5b58\uff0c\u78ba\u5b9a\u8981\u96e2\u958b\u55ce",icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:"\u53d6\u6d88",onOk:function(){n.history.push("/Parts/Level")}})},n.state={loading:!t.createFlag,formData:Object(d.a)({},ve),formStatus:JSON.parse(JSON.stringify(ye)),validId:!1,canSubmit:!1},t.createFlag||n.getLevelData(),n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(t){var e=this;!t.createFlag&&this.props.createFlag?this.setState({loading:!1,formData:Object(d.a)({},ve),formStatus:JSON.parse(JSON.stringify(ye)),validId:!1,canSubmit:!1}):this.props.createFlag||t.gradeId===this.props.gradeId||this.setState({loading:!0,formData:Object(d.a)({},ve),formStatus:JSON.parse(JSON.stringify(ye)),validId:!0,canSubmit:!1},(function(){return e.getLevelData()}))}},{key:"render",value:function(){var t={xs:24,sm:24,md:24,lg:12};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(Ht.a,{style:{marginBottom:10},children:[Object(k.jsx)(Ht.a.Item,{children:Object(k.jsx)(s.b,{to:"/Parts/Level",children:"\u7b49\u7d1a"})}),Object(k.jsx)(Ht.a.Item,{children:this.props.createFlag?"\u65b0\u589e\u7b49\u7d1a":"\u4fee\u6539\u7b49\u7d1a\u8cc7\u6599"})]}),Object(k.jsxs)(Ut.a,{spinning:this.state.loading,children:[Object(k.jsx)(Yt.a,{className:"form-detail-card",children:Object(k.jsxs)(zt.a,Object(d.a)(Object(d.a)({},{gutter:[24,24],type:"flex",align:"middle",style:{marginBottom:24,marginTop:24}}),{},{children:[Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},t),{},{children:Object(k.jsx)(Kt,{required:!0,title:"\u7b49\u7d1a\u4ee3\u865f",content:Object(k.jsx)(gt.a,{onBlur:this.checkId,onChange:this.onInputChange,value:this.state.formData.gradeId,id:"gradeId",disabled:!this.props.createFlag}),message:"\u7b49\u7d1a\u4ee3\u865f\u70ba\u5fc5\u586b,\u9577\u5ea6\u9700\u57282\u5b57\u5167",error:this.getFormErrorStatus("gradeId")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},t),{},{children:Object(k.jsx)(Kt,{required:!0,title:"\u7b49\u7d1a\u540d\u7a31",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.name,id:"name"}),message:"\u7b49\u7d1a\u540d\u7a31\u70ba\u5fc5\u586b,\u9577\u5ea6\u9700\u572810\u5b57",error:this.getFormErrorStatus("name")})}))]}))}),Object(k.jsx)("div",{style:{margin:"20px",textAlign:"center"},children:Object(k.jsxs)(Lt.b,{children:[this.props.createFlag?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),disabled:!this.state.validId,onClick:this.handleCreate.bind(this,!0),children:"\u5132\u5b58"}),Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),disabled:!this.state.validId,onClick:this.handleCreate.bind(this,!1),children:"\u5132\u5b58\u4e26\u7e7c\u7e8c\u65b0\u589e"})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),onClick:this.handleSubmit.bind(this,!1),children:"\u5132\u5b58"}),Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),onClick:this.handleSubmit.bind(this,!0),children:"\u5132\u5b58\u4e26\u8fd4\u56de\u5217\u8868"})]}),Object(k.jsx)(Ot.a,{danger:!0,icon:Object(k.jsx)(Wt.a,{}),onClick:this.handleCancel,children:"\u53d6\u6d88"})]})})]})]})}}]),a}(r.a.Component),Ie=function(t){Object(g.a)(a,t);var e=Object(m.a)(a);function a(){return Object(b.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(k.jsx)(Ce,{createFlag:this.props.createFlag,gradeId:this.props.match.params.gradeId})}}]),a}(r.a.Component),ke=function t(){Object(b.a)(this,t),this.getColourList=function(t){return yt("get","/colors",t).then((function(t){return t.data}))},this.getColourData=function(t){return yt("get","/colors/".concat(t)).then((function(t){return t.data}))},this.addColourData=function(t){return yt("post","/colors/".concat(t.colorId),t).then((function(t){return t.data}))},this.updateColourData=function(t,e){return yt("patch","/colors/".concat(t),e).then((function(t){return t.data}))}},De=function(t){Object(g.a)(a,t);var e=Object(m.a)(a);function a(t){var n;return Object(b.a)(this,a),(n=e.call(this,t)).history=Object(bt.b)(),n.colourAPI=new ke,n.getList=function(){var t=n.state,e=t.search,a=t.pagination,r={pageNum:a.current,pageSize:a.pageSize,colorId:"%".concat(e.keyword,"%")};n.colourAPI.getColourList(r).then((function(t){a.total=t.data.total,n.setState({loading:!1,list:t.data.list,pagination:a})})).catch((function(){return n.setState({loading:!1})}))},n.onInputChange=function(t){var e=n.state.search;e.keyword=t.target.value,n.setState({search:e})},n.handleSearch=function(){var t=n.state.pagination;t.current=1,n.setState({loading:!0,list:[],pagination:t},(function(){return n.getList()}))},n.getColumns=function(){var t=Object(Ft.a)(n),e=n.state.pagination;return[{dataIndex:"colorId",title:"\u57f7\u884c",width:50,render:function(e){return Object(k.jsxs)(Lt.b,{className:"list-table-option",children:[Object(k.jsx)(Et.a,{title:"\u7de8\u8f2f",children:Object(k.jsx)(Ot.a,{className:"list-table-option-edit",size:"small",onClick:t.onEdit.bind(t,e),children:Object(k.jsx)(T,{})})}),Object(k.jsx)(Et.a,{title:"\u522a\u9664",children:Object(k.jsx)(Ot.a,{className:"list-table-option-delete",size:"small",onClick:t.handleDelete.bind(t,e),children:Object(k.jsx)(L,{})})})]})}},{title:"\u5e8f",width:30,align:"center",render:function(t,a,n){return(e.current-1)*e.pageSize+n+1}},{title:"\u984f\u8272\u4ee3\u865f",dataIndex:"colorId"},{title:"\u984f\u8272\u540d\u7a31",dataIndex:"name"}]},n.onEdit=function(t){n.history.push("/Parts/Colour/".concat(t))},n.handleDelete=function(t){Tt.a.confirm({title:"\u78ba\u5b9a\u8981\u522a\u9664\u6b64\u7b46\u8cc7\u6599\u55ce",icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:"\u53d6\u6d88",onOk:function(){console.log("delete: "+t)}})},n.onPageChange=function(t,e){var a=n.state.pagination;a.current=t,a.pageSize=e,n.setState({loading:!0,list:[],pagination:a},(function(){return n.getList()}))},n.state={loading:!0,search:{keyword:""},list:[],pagination:{current:1,total:0,pageSize:10,position:["bottomLeft"]}},n.getList(),n}return Object(p.a)(a,[{key:"render",value:function(){var t=this;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"list-header",children:Object(k.jsxs)(zt.a,{type:"flex",justify:"space-between",children:[Object(k.jsx)(Bt.a,{children:Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(M,{}),onClick:function(){return t.history.push("/Parts/Colour/Add")},className:"list-header-add",children:"\u65b0\u589e"})}),Object(k.jsx)(Bt.a,{children:Object(k.jsxs)(Lt.b,{children:[Object(k.jsx)(gt.a,{placeholder:"\u641c\u5c0b\u984f\u8272\u4ee3\u865f",allowClear:!0,onChange:this.onInputChange,style:{width:140}}),Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(B,{}),onClick:this.handleSearch,className:"list-header-search",children:"\u67e5\u8a62"})]})})]})}),Object(k.jsx)(Mt.a,{className:"list-table-wrapper",rowKey:"vendorId",size:"small",columns:this.getColumns(),loading:this.state.loading,dataSource:this.state.list,pagination:Vt(this.state.pagination,this.onPageChange)})]})}}]),a}(r.a.Component),we={colorId:"",name:""},Ne=[{key:"colorId",required:!0,length:[2]},{key:"name",required:!0,length:[10]}],Pe=function(t){Object(g.a)(a,t);var e=Object(m.a)(a);function a(t){var n;return Object(b.a)(this,a),(n=e.call(this,t)).history=Object(bt.b)(),n.colourAPI=new ke,n.getColourData=function(){n.colourAPI.getColourData(n.props.colorId).then((function(t){0===t.code?n.setState({loading:!1,formData:t.data},(function(){return n.checkCanSubmit()})):(O.b.error(t.message),n.history.push("/Parts/Colour"))})).catch((function(){O.b.error("Error!"),n.history.push("/Parts/Colour")}))},n.getFormErrorStatus=function(t){var e=n.state.formStatus.find((function(e){return e.key===t}));return!!e&&e.error},n.onInputChange=function(t){var e=t.target.getAttribute("id"),a=t.target.value,r=n.state.formData;r[e]=a,n.checkData(r,e)},n.checkData=function(t,e){var a=n.state.formStatus,r=a.find((function(t){return t.key===e}));if(r){var c=t[e],i=!1;r.required&&!c&&(i=!0),r.length&&r.length.length>0&&c&&(1===r.length.length&&c.length>r.length[0]||r.length.length>1&&(c.length<r.length[0]||c.length>r.length[1]))&&(i=!0),r.regExp&&!r.regExp.test(c)&&(i=!0),r.error=i}n.setState({formData:t,formStatus:a},(function(){return n.checkCanSubmit()}))},n.checkCanSubmit=function(){n.setState({canSubmit:!n.state.formStatus.some((function(t){return t.error}))})},n.checkId=function(){var t=n.state.formData;n.setState({validId:!1},(function(){n.colourAPI.getColourData(t.colorId).then((function(e){0===e.code?Tt.a.error({title:"\u6b64\u7de8\u865f\u5df2\u91cd\u8907\uff0c\u8acb\u91cd\u65b0\u8f38\u5165",icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:null,onOk:function(){t.colorId="",n.setState({formData:t})}}):n.setState({validId:!0})}))}))},n.handleCreate=function(t){n.setState({loading:!0},(function(){n.levelAPI.addLevelData(n.state.formData).then((function(e){0===e.code?(O.b.success("\u6210\u529f\u65b0\u589e\u8cc7\u6599"),t?n.history.push("/Basic/Level"):(document.getElementById("layout-content-wrapper").scrollTo({top:0,behavior:"smooth"}),n.setState({loading:!1,formData:Object(d.a)({},we),formStatus:JSON.parse(JSON.stringify(Ne)),canSubmit:!1}))):Tt.a.error({title:e.message,icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:null,onOk:function(){n.setState({loading:!1})}})})).catch((function(t){O.b.error(t.response.data.message),n.setState({loading:!1})}))}))},n.handleSubmit=function(t){n.setState({loading:!0},(function(){n.colourAPI.updateColourData(n.props.colorId,n.state.formData).then((function(e){0===e.code?(O.b.success("\u6210\u529f\u66f4\u65b0\u8cc7\u6599"),t?n.history.push("/Parts/Colour"):(document.getElementById("layout-content-wrapper").scrollTo({top:0,behavior:"smooth"}),n.getColourData())):Tt.a.error({title:e.message,icon:Object(k.jsx)(qt.a,{}),content:e.data.map((function(t,e){return Object(k.jsxs)(k.Fragment,{children:[e>0&&Object(k.jsx)("br",{}),t.split(": ")[1]]})})),okText:"\u78ba\u8a8d",cancelText:null,onOk:function(){n.setState({loading:!1})}})})).catch((function(){O.b.error("\u8cc7\u6599\u66f4\u65b0\u5931\u6557"),n.setState({loading:!1})}))}))},n.handleCancel=function(){Tt.a.confirm({title:"\u8b8a\u66f4\u5c1a\u672a\u5132\u5b58\uff0c\u78ba\u5b9a\u8981\u96e2\u958b\u55ce",icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:"\u53d6\u6d88",onOk:function(){n.history.push("/Parts/Colour")}})},n.state={loading:!t.createFlag,formData:Object(d.a)({},we),formStatus:JSON.parse(JSON.stringify(Ne)),validId:!1,canSubmit:!1},t.createFlag||n.getColourData(),n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(t){var e=this;!t.createFlag&&this.props.createFlag?this.setState({loading:!1,formData:Object(d.a)({},we),formStatus:JSON.parse(JSON.stringify(Ne)),validId:!1,canSubmit:!1}):this.props.createFlag||t.colorId===this.props.colorId||this.setState({loading:!0,formData:Object(d.a)({},we),formStatus:JSON.parse(JSON.stringify(Ne)),validId:!0,canSubmit:!1},(function(){return e.getColourData()}))}},{key:"render",value:function(){var t={xs:24,sm:24,md:24,lg:12};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(Ht.a,{style:{marginBottom:10},children:[Object(k.jsx)(Ht.a.Item,{children:Object(k.jsx)(s.b,{to:"/Parts/Colour",children:"\u984f\u8272"})}),Object(k.jsx)(Ht.a.Item,{children:this.props.createFlag?"\u65b0\u589e\u984f\u8272":"\u4fee\u6539\u984f\u8272\u8cc7\u6599"})]}),Object(k.jsxs)(Ut.a,{spinning:this.state.loading,children:[Object(k.jsx)(Yt.a,{className:"form-detail-card",children:Object(k.jsxs)(zt.a,Object(d.a)(Object(d.a)({},{gutter:[24,24],type:"flex",align:"middle",style:{marginBottom:24,marginTop:24}}),{},{children:[Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},t),{},{children:Object(k.jsx)(Kt,{required:!0,title:"\u984f\u8272\u4ee3\u865f",content:Object(k.jsx)(gt.a,{onBlur:this.checkId,onChange:this.onInputChange,value:this.state.formData.colorId,id:"colorId",disabled:!this.props.createFlag}),message:"\u984f\u8272\u4ee3\u865f\u70ba\u5fc5\u586b,\u9577\u5ea6\u9700\u57282\u5b57\u5167",error:this.getFormErrorStatus("colorId")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},t),{},{children:Object(k.jsx)(Kt,{required:!0,title:"\u984f\u8272\u540d\u7a31",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.name,id:"name"}),message:"\u984f\u8272\u540d\u7a31\u70ba\u5fc5\u586b,\u9577\u5ea6\u9700\u572810\u5b57",error:this.getFormErrorStatus("name")})}))]}))}),Object(k.jsx)("div",{style:{margin:"20px",textAlign:"center"},children:Object(k.jsxs)(Lt.b,{children:[this.props.createFlag?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),disabled:!this.state.validId,onClick:this.handleCreate.bind(this,!0),children:"\u5132\u5b58"}),Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),disabled:!this.state.validId,onClick:this.handleCreate.bind(this,!1),children:"\u5132\u5b58\u4e26\u7e7c\u7e8c\u65b0\u589e"})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),onClick:this.handleSubmit.bind(this,!1),children:"\u5132\u5b58"}),Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),onClick:this.handleSubmit.bind(this,!0),children:"\u5132\u5b58\u4e26\u8fd4\u56de\u5217\u8868"})]}),Object(k.jsx)(Ot.a,{danger:!0,icon:Object(k.jsx)(Wt.a,{}),onClick:this.handleCancel,children:"\u53d6\u6d88"})]})})]})]})}}]),a}(r.a.Component),Fe=function(t){Object(g.a)(a,t);var e=Object(m.a)(a);function a(){return Object(b.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(k.jsx)(Pe,{createFlag:this.props.createFlag,colorId:this.props.match.params.colorId})}}]),a}(r.a.Component),Le=function t(){Object(b.a)(this,t),this.getComponentList=function(t){return yt("get","/parts",t).then((function(t){return t.data}))},this.getComponentData=function(t){return yt("get","/parts/".concat(t)).then((function(t){return t.data}))},this.addComponentData=function(t){return yt("post","/parts/".concat(t.partId),t).then((function(t){return t.data}))},this.updateComponentData=function(t,e){return yt("patch","/parts/".concat(t),e).then((function(t){return t.data}))}},Ee=function(t){Object(g.a)(a,t);var e=Object(m.a)(a);function a(t){var n;return Object(b.a)(this,a),(n=e.call(this,t)).history=Object(bt.b)(),n.componentAPI=new Le,n.getList=function(){var t=n.state,e=t.search,a=t.pagination,r={pageNum:a.current,pageSize:a.pageSize,partId:"%".concat(e.partId,"%"),name:"%".concat(e.name,"%")};n.componentAPI.getComponentList(r).then((function(t){a.total=t.data.total,n.setState({loading:!1,list:t.data.list,pagination:a})})).catch((function(){return n.setState({loading:!1})}))},n.onInputChange=function(t,e){var a=n.state.search;a[t]=e.target.value,n.setState({search:a})},n.handleSearch=function(){var t=n.state.pagination;t.current=1,n.setState({loading:!0,list:[],pagination:t},(function(){return n.getList()}))},n.getColumns=function(){var t=Object(Ft.a)(n),e=n.state.pagination;return[{dataIndex:"partId",title:"\u57f7\u884c",width:50,render:function(e){return Object(k.jsxs)(Lt.b,{className:"list-table-option",children:[Object(k.jsx)(Et.a,{title:"\u7de8\u8f2f",children:Object(k.jsx)(Ot.a,{className:"list-table-option-edit",size:"small",onClick:t.onEdit.bind(t,e),children:Object(k.jsx)(T,{})})}),Object(k.jsx)(Et.a,{title:"\u522a\u9664",children:Object(k.jsx)(Ot.a,{className:"list-table-option-delete",size:"small",onClick:t.handleDelete.bind(t,e),children:Object(k.jsx)(L,{})})})]})}},{title:"\u5e8f",width:30,align:"center",render:function(t,a,n){return(e.current-1)*e.pageSize+n+1}},{title:"\u96f6\u4ef6\u4ee3\u865f",dataIndex:"partId"},{title:"\u96f6\u4ef6\u540d\u7a31",dataIndex:"name"}]},n.onEdit=function(t){n.history.push("/Parts/Component/".concat(t))},n.handleDelete=function(t){Tt.a.confirm({title:"\u78ba\u5b9a\u8981\u522a\u9664\u6b64\u7b46\u8cc7\u6599\u55ce",icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:"\u53d6\u6d88",onOk:function(){console.log("delete: "+t)}})},n.onPageChange=function(t,e){var a=n.state.pagination;a.current=t,a.pageSize=e,n.setState({loading:!0,list:[],pagination:a},(function(){return n.getList()}))},n.state={loading:!0,search:{partId:"",name:""},list:[],pagination:{current:1,total:0,pageSize:10,position:["bottomLeft"]}},n.getList(),n}return Object(p.a)(a,[{key:"render",value:function(){var t=this;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"list-header",children:Object(k.jsxs)(zt.a,{type:"flex",justify:"space-between",children:[Object(k.jsx)(Bt.a,{children:Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(M,{}),onClick:function(){return t.history.push("/Parts/Component/Add")},className:"list-header-add",children:"\u65b0\u589e"})}),Object(k.jsx)(Bt.a,{children:Object(k.jsxs)(Lt.b,{children:[Object(k.jsx)(gt.a,{placeholder:"\u641c\u5c0b\u96f6\u4ef6\u4ee3\u865f",allowClear:!0,onChange:this.onInputChange.bind(this,"partId"),style:{width:140}}),Object(k.jsx)(gt.a,{placeholder:"\u641c\u5c0b\u96f6\u4ef6\u540d\u7a31",allowClear:!0,onChange:this.onInputChange.bind(this,"name")}),Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(B,{}),onClick:this.handleSearch,className:"list-header-search",children:"\u67e5\u8a62"})]})})]})}),Object(k.jsx)(Mt.a,{className:"list-table-wrapper",rowKey:"vendorId",size:"small",columns:this.getColumns(),loading:this.state.loading,dataSource:this.state.list,pagination:Vt(this.state.pagination,this.onPageChange)})]})}}]),a}(r.a.Component),Te={partId:"",name:""},ze=[{key:"partId",required:!0,length:[4]},{key:"name",required:!0,length:[10]}],Be=function(t){Object(g.a)(a,t);var e=Object(m.a)(a);function a(t){var n;return Object(b.a)(this,a),(n=e.call(this,t)).history=Object(bt.b)(),n.componentAPI=new Le,n.getComponentData=function(){n.componentAPI.getComponentData(n.props.partId).then((function(t){0===t.code?n.setState({loading:!1,formData:t.data},(function(){return n.checkCanSubmit()})):(O.b.error(t.message),n.history.push("/Parts/Component"))})).catch((function(){O.b.error("Error!"),n.history.push("/Parts/Component")}))},n.getFormErrorStatus=function(t){var e=n.state.formStatus.find((function(e){return e.key===t}));return!!e&&e.error},n.onInputChange=function(t){var e=t.target.getAttribute("id"),a=t.target.value,r=n.state.formData;r[e]=a,n.checkData(r,e)},n.checkData=function(t,e){var a=n.state.formStatus,r=a.find((function(t){return t.key===e}));if(r){var c=t[e],i=!1;r.required&&!c&&(i=!0),r.length&&r.length.length>0&&c&&(1===r.length.length&&c.length>r.length[0]||r.length.length>1&&(c.length<r.length[0]||c.length>r.length[1]))&&(i=!0),r.regExp&&!r.regExp.test(c)&&(i=!0),r.error=i}n.setState({formData:t,formStatus:a},(function(){return n.checkCanSubmit()}))},n.checkCanSubmit=function(){n.setState({canSubmit:!n.state.formStatus.some((function(t){return t.error}))})},n.checkId=function(){var t=n.state.formData;n.setState({validId:!1},(function(){n.componentAPI.getComponentData(t.partId).then((function(e){0===e.code?Tt.a.error({title:"\u6b64\u7de8\u865f\u5df2\u91cd\u8907\uff0c\u8acb\u91cd\u65b0\u8f38\u5165",icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:null,onOk:function(){t.partId="",n.setState({formData:t})}}):n.setState({validId:!0})}))}))},n.handleCreate=function(t){n.setState({loading:!0},(function(){n.componentAPI.addComponentData(n.state.formData).then((function(e){0===e.code?(O.b.success("\u6210\u529f\u65b0\u589e\u8cc7\u6599"),t?n.history.push("/Basic/Level"):(document.getElementById("layout-content-wrapper").scrollTo({top:0,behavior:"smooth"}),n.setState({loading:!1,formData:Object(d.a)({},Te),formStatus:JSON.parse(JSON.stringify(ze)),canSubmit:!1}))):Tt.a.error({title:e.message,icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:null,onOk:function(){n.setState({loading:!1})}})})).catch((function(t){O.b.error(t.response.data.message),n.setState({loading:!1})}))}))},n.handleSubmit=function(t){n.setState({loading:!0},(function(){n.componentAPI.updateComponentData(n.props.partId,n.state.formData).then((function(e){0===e.code?(O.b.success("\u6210\u529f\u66f4\u65b0\u8cc7\u6599"),t?n.history.push("/Parts/Component"):(document.getElementById("layout-content-wrapper").scrollTo({top:0,behavior:"smooth"}),n.getComponentData())):Tt.a.error({title:e.message,icon:Object(k.jsx)(qt.a,{}),content:e.data.map((function(t,e){return Object(k.jsxs)(k.Fragment,{children:[e>0&&Object(k.jsx)("br",{}),t.split(": ")[1]]})})),okText:"\u78ba\u8a8d",cancelText:null,onOk:function(){n.setState({loading:!1})}})})).catch((function(){O.b.error("\u8cc7\u6599\u66f4\u65b0\u5931\u6557"),n.setState({loading:!1})}))}))},n.handleCancel=function(){Tt.a.confirm({title:"\u8b8a\u66f4\u5c1a\u672a\u5132\u5b58\uff0c\u78ba\u5b9a\u8981\u96e2\u958b\u55ce",icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:"\u53d6\u6d88",onOk:function(){n.history.push("/Parts/Component")}})},n.state={loading:!t.createFlag,formData:Object(d.a)({},Te),formStatus:JSON.parse(JSON.stringify(ze)),validId:!1,canSubmit:!1},t.createFlag||n.getComponentData(),n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(t){var e=this;!t.createFlag&&this.props.createFlag?this.setState({loading:!1,formData:Object(d.a)({},Te),formStatus:JSON.parse(JSON.stringify(ze)),validId:!1,canSubmit:!1}):this.props.createFlag||t.partId===this.props.partId||this.setState({loading:!0,formData:Object(d.a)({},Te),formStatus:JSON.parse(JSON.stringify(ze)),validId:!0,canSubmit:!1},(function(){return e.getComponentData()}))}},{key:"render",value:function(){var t={xs:24,sm:24,md:24,lg:12};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(Ht.a,{style:{marginBottom:10},children:[Object(k.jsx)(Ht.a.Item,{children:Object(k.jsx)(s.b,{to:"/Parts/Component",children:"\u96f6\u4ef6"})}),Object(k.jsx)(Ht.a.Item,{children:this.props.createFlag?"\u65b0\u589e\u96f6\u4ef6":"\u4fee\u6539\u96f6\u4ef6\u8cc7\u6599"})]}),Object(k.jsxs)(Ut.a,{spinning:this.state.loading,children:[Object(k.jsx)(Yt.a,{className:"form-detail-card",children:Object(k.jsxs)(zt.a,Object(d.a)(Object(d.a)({},{gutter:[24,24],type:"flex",align:"middle",style:{marginBottom:24,marginTop:24}}),{},{children:[Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},t),{},{children:Object(k.jsx)(Kt,{required:!0,title:"\u96f6\u4ef6\u4ee3\u865f",content:Object(k.jsx)(gt.a,{onBlur:this.checkId,onChange:this.onInputChange,value:this.state.formData.partId,id:"partId",disabled:!this.props.createFlag}),message:"\u96f6\u4ef6\u4ee3\u865f\u70ba\u5fc5\u586b,\u9577\u5ea6\u9700\u57284\u5b57\u5167",error:this.getFormErrorStatus("partId")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},t),{},{children:Object(k.jsx)(Kt,{required:!0,title:"\u96f6\u4ef6\u540d\u7a31",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.name,id:"name"}),message:"\u96f6\u4ef6\u540d\u7a31\u70ba\u5fc5\u586b,\u9577\u5ea6\u9700\u572810\u5b57",error:this.getFormErrorStatus("name")})}))]}))}),Object(k.jsx)("div",{style:{margin:"20px",textAlign:"center"},children:Object(k.jsxs)(Lt.b,{children:[this.props.createFlag?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),disabled:!this.state.validId,onClick:this.handleCreate.bind(this,!0),children:"\u5132\u5b58"}),Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),disabled:!this.state.validId,onClick:this.handleCreate.bind(this,!1),children:"\u5132\u5b58\u4e26\u7e7c\u7e8c\u65b0\u589e"})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),onClick:this.handleSubmit.bind(this,!1),children:"\u5132\u5b58"}),Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),onClick:this.handleSubmit.bind(this,!0),children:"\u5132\u5b58\u4e26\u8fd4\u56de\u5217\u8868"})]}),Object(k.jsx)(Ot.a,{danger:!0,icon:Object(k.jsx)(Wt.a,{}),onClick:this.handleCancel,children:"\u53d6\u6d88"})]})})]})]})}}]),a}(r.a.Component),Ae=function(t){Object(g.a)(a,t);var e=Object(m.a)(a);function a(){return Object(b.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(k.jsx)(Be,{createFlag:this.props.createFlag,partId:this.props.match.params.partId})}}]),a}(r.a.Component),Me=a(323),qe=function(t){return Object(k.jsx)(Me.a,Object(d.a)(Object(d.a)({},t),{},{className:"layout-content-drawer-wrapper",children:t.children}))},Ve=a(314),Re=function t(){Object(b.a)(this,t),this.setRoles=function(e){return t.roles=e},this.setUnitList=function(e){return t.unitList=e}};Re.roles=[];var Je={seqNo:0,productId:"",productType:"REAL",partId:null,customCode1:"",customCode2:"",customCode3:"",kindShortName:"",unit:(Re.unitList=[]).length>0?Re.unitList[0].unit:"",price1:0,price2:0,price3:0,norm:"",vendorProductId:"",safetyStock:0,inventory:0,storingPlace:"",note:""},He=[],Ue=function t(){Object(b.a)(this,t),this.getProductList=function(t){return yt("get","/products",t).then((function(t){return t.data}))},this.getProductType=function(){return yt("get","/common/productTypes").then((function(t){return t.data}))},this.getProductData=function(t){return yt("get","/products/".concat(t)).then((function(t){return t.data}))},this.addProductData=function(t){return yt("post","/products/0",t).then((function(t){return t.data}))},this.updateProductData=function(t){return yt("patch","/products/".concat(t.seqNo),t).then((function(t){return t.data}))},this.getPartsList=function(){return yt("get","/parts",{pageNum:1,pageSize:9999,partId:"",name:""}).then((function(t){return t.data}))},this.getKindsList=function(){return yt("get","/kinds",{pageNum:1,pageSize:9999,kindIdLike:""}).then((function(t){return t.data}))},this.getGradesList=function(){return yt("get","/grades",{pageNum:1,pageSize:9999,gradeId:""}).then((function(t){return t.data}))},this.getColorsList=function(){return yt("get","/colors",{pageNum:1,pageSize:9999,colorId:""}).then((function(t){return t.data}))}},Ye=function(t){Object(g.a)(a,t);var e=Object(m.a)(a);function a(t){var n;return Object(b.a)(this,a),(n=e.call(this,t)).history=Object(bt.b)(),n.productAPI=new Ue,n.getInitData=Object(j.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){n.productAPI.getProductType().then((function(e){n.setState({productType:e.data},(function(){return t(!0)}))}))}));case 2:return t.next=4,new Promise((function(t){n.productAPI.getPartsList().then((function(e){n.setState({partsList:e.data.list},(function(){return t(!0)}))}))}));case 4:return t.next=6,new Promise((function(t){n.productAPI.getKindsList().then((function(e){n.setState({kindsList:e.data.list},(function(){return t(!0)}))}))}));case 6:return t.next=8,new Promise((function(t){n.productAPI.getGradesList().then((function(e){n.setState({gradesList:e.data.list},(function(){return t(!0)}))}))}));case 8:return t.next=10,new Promise((function(t){n.productAPI.getColorsList().then((function(e){n.setState({colorsList:e.data.list},(function(){return t(!0)}))}))}));case 10:case"end":return t.stop()}}),t)}))),n.getProductData=function(){return new Promise((function(t,e){n.productAPI.getProductData(n.props.seqNo).then((function(a){0===a.code?n.setState({formData:a.data},(function(){return n.checkCanSubmit().then((function(){return t(!0)}))})):(e(!1),O.b.error(a.message),n.props.isDrawMode?n.props.onClose():n.history.push("/Products/List"))})).catch((function(){e(!1),O.b.error("Error!"),n.props.isDrawMode?n.props.onClose():n.history.push("/Products/List")}))}))},n.getFormErrorStatus=function(t){var e=n.state.formStatus.find((function(e){return e.key===t}));return!!e&&e.error},n.onInputChange=function(t){var e=t.target.getAttribute("id"),a=t.target.value,r=n.state.formData;r[e]=a,n.checkData(r,e)},n.onSelectChange=function(t,e){var a=n.state.formData;a[t]=e,n.checkData(a,t)},n.onNumberChange=function(t,e){var a=n.state.formData;a[t]=e,n.checkData(a,t)},n.onCodeSearch=function(t,e){if(!e.includes(" ")){var a=n.state,r=a.formData,c=a.search;"partId"!==t&&(r[t]=e.toUpperCase(),r.productId="".concat(r.partId?"".concat(r.partId,"-"):"").concat(r.customCode1?"".concat(r.customCode1,"-"):"").concat(r.customCode2?"".concat(r.customCode2,"-"):"").concat(r.customCode3?r.customCode3:"")),c[t]=e.toUpperCase(),n.setState({formData:r,search:c})}},n.onCodeSelect=function(t,e){var a=n.state,r=a.formData,c=a.search,i=a.kindsList;if("partId"===t?c.partId="":c[t]=e,r[t]=e,"customCode1"===t){var s=i.find((function(t){return t.kindId.toLowerCase()===e.toLowerCase()}));s&&(r.kindShortName=s.shortName)}r.productId="".concat(r.partId?"".concat(r.partId,"-"):"").concat(r.customCode1?"".concat(r.customCode1,"-"):"").concat(r.customCode2?"".concat(r.customCode2,"-"):"").concat(r.customCode3?r.customCode3:""),n.setState({search:c},(function(){return n.checkData(r,t)}))},n.getPartOptions=function(){var t=n.state,e=t.formData,a=t.search;return t.partsList.filter((function(t){return e.partId===t.partId||a.partId&&t.partId.toLowerCase().includes(a.partId.toLowerCase())})).map((function(t){return{label:"".concat(t.partId," - ").concat(t.name),value:t.partId}}))},n.getKindOptions=function(){var t=n.state,e=t.formData,a=t.search,r=t.kindsList.filter((function(t){return e.kindId===t.kindId||a.customCode1&&t.kindId.toLowerCase().includes(a.customCode1.toLowerCase())}));return a.customCode1&&!r.find((function(t){return t.kindId===a.customCode1}))&&r.unshift({kindId:a.customCode1,name:"\u81ea\u8a02\u4ee3\u78bc1"}),r.map((function(t){return{label:"".concat(t.kindId," - ").concat(t.name),value:t.kindId}}))},n.getGradeOptions=function(){var t=n.state,e=t.formData,a=t.search,r=t.gradesList.filter((function(t){return e.gradeId===t.gradeId||a.customCode2&&t.gradeId.toLowerCase().includes(a.customCode2.toLowerCase())}));return a.customCode2&&!r.find((function(t){return t.gradeId===a.customCode2}))&&r.unshift({gradeId:a.customCode2,name:"\u81ea\u8a02\u4ee3\u78bc2"}),r.map((function(t){return{label:"".concat(t.gradeId," - ").concat(t.name),value:t.gradeId}}))},n.getColorOptions=function(){var t=n.state,e=t.formData,a=t.search,r=t.colorsList.filter((function(t){return e.colorId===t.colorId||a.customCode3&&t.colorId.toLowerCase().includes(a.customCode3.toLowerCase())}));return a.customCode3&&!r.find((function(t){return t.colorId===a.customCode3}))&&r.unshift({colorId:a.customCode3,name:"\u81ea\u8a02\u4ee3\u78bc3"}),r.map((function(t){return{label:"".concat(t.colorId," - ").concat(t.name),value:t.colorId}}))},n.checkData=function(t,e){var a=n.state.formStatus,r=a.find((function(t){return t.key===e}));if(r){var c=t[e],i=!1;r.required&&!c&&(i=!0),r.length&&r.length.length>0&&c&&(1===r.length.length&&c.length>r.length[0]||r.length.length>1&&(c.length<r.length[0]||c.length>r.length[1]))&&(i=!0),r.regExp&&!r.regExp.test(c)&&(i=!0),r.error=i}n.setState({formData:t,formStatus:a},(function(){return n.checkCanSubmit()}))},n.checkCanSubmit=function(){return new Promise((function(t){n.setState({canSubmit:!n.state.formStatus.some((function(t){return t.error}))},(function(){return t(!0)}))}))},n.handleCreate=function(t){n.setState({loading:!0},(function(){n.productAPI.addProductData(n.state.formData).then((function(e){if(0===e.code)if(O.b.success("\u6210\u529f\u65b0\u589e\u8cc7\u6599"),t)n.props.isDrawMode?n.props.onClose():n.history.push("/Products/List");else{var a=document.querySelector(".ant-drawer-body"),r=document.getElementById("layout-content-wrapper");a&&a.scrollTo({top:0,behavior:"smooth"}),r&&r.scrollTo({top:0,behavior:"smooth"}),n.setState({loading:!1,formData:Object(d.a)({},Je),formStatus:JSON.parse(JSON.stringify(He)),search:{partId:"",customCode1:"",customCode2:"",customCode3:""},canSubmit:!1})}else Tt.a.error({title:e.message,icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:null,onOk:function(){n.setState({loading:!1})}})})).catch((function(t){O.b.error(t.response.data.message),n.setState({loading:!1})}))}))},n.handleSubmit=function(t){n.setState({loading:!0},(function(){n.productAPI.updateProductData(n.state.formData).then((function(e){if(0===e.code)if(O.b.success("\u6210\u529f\u66f4\u65b0\u8cc7\u6599"),t)n.props.isDrawMode?n.props.onClose():n.history.push("/Products/List");else{var a=document.querySelector(".ant-drawer-body"),r=document.getElementById("layout-content-wrapper");a&&a.scrollTo({top:0,behavior:"smooth"}),r&&r.scrollTo({top:0,behavior:"smooth"}),n.getProductData()}else Tt.a.error({title:e.message,icon:Object(k.jsx)(qt.a,{}),content:e.data.map((function(t,e){return Object(k.jsxs)(k.Fragment,{children:[e>0&&Object(k.jsx)("br",{}),t.split(": ")[1]]})})),okText:"\u78ba\u8a8d",cancelText:null,onOk:function(){n.setState({loading:!1})}})})).catch((function(){O.b.error("\u8cc7\u6599\u66f4\u65b0\u5931\u6557"),n.setState({loading:!1})}))}))},n.state={loading:!0,productType:[],formData:Object(d.a)({},Je),formStatus:JSON.parse(JSON.stringify(He)),search:{partId:"",customCode1:"",customCode2:"",customCode3:""},partsList:[],kindsList:[],gradesList:[],colorsList:[],canSubmit:!1},n.getInitData().then((function(){t.createFlag?n.setState({loading:!1}):n.getProductData().then((function(){return n.setState({loading:!1})}))})),n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(t){var e=this;(!t.createFlag&&this.props.createFlag||!t.drawModeVisible&&this.props.drawModeVisible||!this.props.createFlag&&t.seqNo!==this.props.seqNo)&&this.setState({loading:!0,formData:Object(d.a)({},Je),formStatus:JSON.parse(JSON.stringify(He)),search:{partId:"",customCode1:"",customCode2:"",customCode3:""},canSubmit:!1},(function(){return e.getInitData().then((function(){e.props.createFlag?e.setState({loading:!1}):e.getProductData().then((function(){return e.setState({loading:!1})}))}))}))}},{key:"render",value:function(){var t=this.props.isDrawMode?{gutter:[12,12],type:"flex",align:"middle",style:{marginBottom:12,marginTop:12}}:{gutter:[24,24],type:"flex",align:"middle",style:{marginBottom:24,marginTop:24}},e=this.props.isDrawMode?{span:24}:{xs:24,sm:24,md:24,lg:8},a=this.props.isDrawMode?{span:24}:{xs:24,sm:24,md:24,lg:12},n={span:24},r={xs:24,sm:24,md:12,lg:12};return Object(k.jsxs)(k.Fragment,{children:[!this.props.isDrawMode&&Object(k.jsxs)(Ht.a,{style:{marginBottom:10},children:[Object(k.jsx)(Ht.a.Item,{children:Object(k.jsx)(s.b,{to:"/Products/List",children:"\u5546\u54c1"})}),Object(k.jsx)(Ht.a.Item,{children:this.props.createFlag?"\u65b0\u589e\u5546\u54c1":"\u4fee\u6539\u5546\u54c1\u8cc7\u6599"})]}),Object(k.jsxs)(Ut.a,{spinning:this.state.loading,children:[Object(k.jsx)(Yt.a,{className:"form-detail-card",children:Object(k.jsxs)(zt.a,Object(d.a)(Object(d.a)({},t),{},{children:[Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},n),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u5546\u54c1\u7de8\u865f",content:Object(k.jsx)(gt.a,{value:this.state.formData.productId,disabled:!0})})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},n),{},{children:Object(k.jsx)(Kt,{required:!0,title:"\u5546\u54c1\u7a2e\u985e",content:Object(k.jsx)(At.a,{value:this.state.formData.productType,onChange:this.onSelectChange.bind(this,"productType"),disabled:!this.props.createFlag,style:{width:"100%"},children:this.state.productType.map((function(t){return Object(k.jsx)(At.a.Option,{value:t.productType,children:t.desc},t.productType)}))})})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},n),{},{children:Object(k.jsx)(Kt,{required:!0,title:"\u4ee3\u78bc",align:"flex-start",content:Object(k.jsxs)(zt.a,{gutter:[12],className:"product-code-row",children:[Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},r),{},{children:Object(k.jsx)(At.a,{placeholder:"\u96f6\u4ef6\u7de8\u865f",value:this.state.formData.partId,searchValue:this.state.search.partId,showSearch:!0,showArrow:!1,options:this.getPartOptions(),onSearch:this.onCodeSearch.bind(this,"partId"),onSelect:this.onCodeSelect.bind(this,"partId"),style:{width:"100%"},notFoundContent:null,disabled:!this.props.createFlag})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},r),{},{children:Object(k.jsx)(Ve.a,{placeholder:"\u8eca\u7a2e\u6216\u81ea\u8a02\u4ee3\u78bc1",value:this.state.formData.customCode1,options:this.getKindOptions(),onSearch:this.onCodeSearch.bind(this,"customCode1"),onSelect:this.onCodeSelect.bind(this,"customCode1"),style:{width:"100%"},notFoundContent:null,disabled:!this.props.createFlag})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},r),{},{children:Object(k.jsx)(Ve.a,{placeholder:"\u7b49\u7d1a\u6216\u81ea\u8a02\u4ee3\u78bc2",value:this.state.formData.customCode2,options:this.getGradeOptions(),onSearch:this.onCodeSearch.bind(this,"customCode2"),onSelect:this.onCodeSelect.bind(this,"customCode2"),style:{width:"100%"},notFoundContent:null,disabled:!this.props.createFlag})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},r),{},{children:Object(k.jsx)(Ve.a,{placeholder:"\u984f\u8272\u6216\u81ea\u8a02\u4ee3\u78bc3",value:this.state.formData.customCode3,options:this.getColorOptions(),onSearch:this.onCodeSearch.bind(this,"customCode3"),onSelect:this.onCodeSelect.bind(this,"customCode3"),style:{width:"100%"},notFoundContent:null,disabled:!this.props.createFlag})}))]}),message:"\u96f6\u4ef6\u7de8\u865f\u70ba\u5fc5\u586b",error:this.getFormErrorStatus("partId")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},a),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u8eca\u7a2e",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.kindShortName,id:"kindShortName"})})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},a),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u55ae\u4f4d",content:Object(k.jsx)(At.a,{onChange:this.onSelectChange.bind(this,"unit"),value:this.state.formData.unit,options:Re.unitList.map((function(t){return{label:t.desc,value:t.unit}})),optionFilterProp:"children",style:{width:"100%"}})})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},n),{},{children:Object(k.jsx)(Kt,{required:!0,title:"\u5546\u54c1\u540d\u7a31",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.name,id:"name"}),message:"\u5546\u54c1\u540d\u7a31\u70ba\u5fc5\u586b",error:this.getFormErrorStatus("name")})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!0,title:"\u5b9a\u50f91",content:Object(k.jsx)(le.a,{onChange:this.onNumberChange.bind(this,"price1"),value:this.state.formData.price1,min:0,max:99999999,step:1,style:{display:"block",width:"100%"}})})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u5b9a\u50f92",content:Object(k.jsx)(le.a,{onChange:this.onNumberChange.bind(this,"price2"),value:this.state.formData.price2,min:0,max:99999999,step:1,style:{display:"block",width:"100%"}})})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u5b9a\u50f93",content:Object(k.jsx)(le.a,{onChange:this.onNumberChange.bind(this,"price3"),value:this.state.formData.price3,min:0,max:99999999,step:1,style:{display:"block",width:"100%"}})})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},a),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u898f\u683c",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.norm,id:"norm"})})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},a),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u539f\u5ee0\u6599\u865f",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.vendorProductId,id:"vendorProductId"})})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u5b89\u5168\u91cf",content:Object(k.jsx)(le.a,{onChange:this.onNumberChange.bind(this,"safetyStock"),value:this.state.formData.safetyStock,min:0,max:999999,step:1,style:{display:"block",width:"100%"}})})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u5eab\u5b58\u91cf",content:Object(k.jsx)(le.a,{onChange:this.onNumberChange.bind(this,"inventory"),value:this.state.formData.inventory,min:0,max:999999,step:1,style:{display:"block",width:"100%"}})})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!1,title:"\u5eab\u5b58\u5730\u9ede",content:Object(k.jsx)(gt.a,{onChange:this.onInputChange,value:this.state.formData.storingPlace,id:"storingPlace"})})}))]}))}),Object(k.jsx)(Yt.a,{className:"form-detail-card",children:Object(k.jsx)(zt.a,Object(d.a)(Object(d.a)({},t),{},{children:Object(k.jsx)(Bt.a,{span:24,children:Object(k.jsx)(Kt,{required:!1,align:"flex-start",title:"\u5099\u8a3b",content:Object(k.jsx)(gt.a.TextArea,{onChange:this.onInputChange,value:this.state.formData.note,id:"note",autoSize:{minRows:4,maxRows:4}}),message:"\u9577\u5ea6\u9700\u5728255\u5b57\u5167",error:this.getFormErrorStatus("note")})})}))}),Object(k.jsx)("div",{style:{margin:"20px",textAlign:"center"},children:Object(k.jsxs)(Lt.b,{children:[this.props.createFlag?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),disabled:!this.state.canSubmit,onClick:this.handleCreate.bind(this,!0),children:"\u5132\u5b58"}),Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),disabled:!this.state.canSubmit,onClick:this.handleCreate.bind(this,!1),children:"\u5132\u5b58\u4e26\u7e7c\u7e8c\u65b0\u589e"})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),disabled:!this.state.canSubmit,onClick:this.handleSubmit.bind(this,!1),children:"\u5132\u5b58"}),Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),disabled:!this.state.canSubmit,onClick:this.handleSubmit.bind(this,!0),children:"\u5132\u5b58\u4e26\u8fd4\u56de\u5217\u8868"})]}),Object(k.jsx)(Ot.a,{danger:!0,icon:Object(k.jsx)(Wt.a,{}),onClick:this.handleCancel,children:"\u53d6\u6d88"})]})})]})]})}}]),a}(r.a.Component),_e=function(t){Object(g.a)(a,t);var e=Object(m.a)(a);function a(){return Object(b.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var t=void 0!==this.props.seqNo?this.props.seqNo:this.props.match.params.seqNo;return Object(k.jsx)(Ye,{createFlag:this.props.createFlag,isDrawMode:this.props.isDrawMode,drawModeVisible:this.props.drawModeVisible,seqNo:t,onClose:this.props.onClose})}}]),a}(r.a.Component),Ke=function(t){Object(g.a)(a,t);var e=Object(m.a)(a);function a(t){var n;return Object(b.a)(this,a),(n=e.call(this,t)).history=Object(bt.b)(),n.productAPI=new Ue,n.getList=function(){var t=n.state,e=t.search,a=t.pagination,r={pageNum:a.current,pageSize:a.pageSize,productId:"%".concat(e.productId,"%"),name:"%".concat(e.name,"%"),customCode1:"%".concat(e.customCode1,"%")};n.productAPI.getProductList(r).then((function(t){a.total=t.data.total,n.setState({loading:!1,list:t.data.list,pagination:a})})).catch((function(){return n.setState({loading:!1})}))},n.onInputChange=function(t,e){var a=n.state.search;a[t]=e.target.value,n.setState({search:a})},n.handleSearch=function(){var t=n.state.pagination;t.current=1,n.setState({loading:!0,list:[],pagination:t},(function(){return n.getList()}))},n.getColumns=function(){var t=Object(Ft.a)(n),e=n.state.pagination;return[{dataIndex:"seqNo",title:"\u57f7\u884c",width:50,render:function(e){return Object(k.jsxs)(Lt.b,{className:"list-table-option",children:[Object(k.jsx)(Et.a,{title:"\u7de8\u8f2f",children:Object(k.jsx)(Ot.a,{className:"list-table-option-edit",size:"small",onClick:t.onDetailOpen.bind(t,!1,e),children:Object(k.jsx)(T,{})})}),Object(k.jsx)(Et.a,{title:"\u522a\u9664",children:Object(k.jsx)(Ot.a,{className:"list-table-option-delete",size:"small",onClick:t.handleDelete.bind(t,e),children:Object(k.jsx)(L,{})})})]})}},{title:"\u5e8f",width:30,align:"center",render:function(t,a,n){return(e.current-1)*e.pageSize+n+1}},{title:"\u5546\u54c1\u7de8\u865f",dataIndex:"productId"},{title:"\u8eca\u7a2e\u540d\u7a31",dataIndex:"kindShortName"},{title:"\u5546\u54c1\u540d\u7a31",dataIndex:"name"},{title:"\u55ae\u4f4d",dataIndex:"unit",render:function(t){var e=Re.unitList.find((function(e){return e.unit===t}));return e?e.desc:t}},{title:"\u898f\u683c",dataIndex:"norm"},{title:"\u984d\u5916\u8cc7\u8a0a",dataIndex:"productType",render:function(t,e){return"REAL"===t?Object(k.jsx)("div",{className:"list-table-addition",children:Object(k.jsxs)(Ot.a,{type:"link",children:[Object(k.jsx)("span",{children:"\u986f\u793a\u5716\u7247(todo)"}),Object(k.jsx)(P,{})]})}):"VIRTUAL"===t?Object(k.jsx)("div",{className:"list-table-addition",children:Object(k.jsxs)(Ot.a,{type:"link",children:[Object(k.jsxs)("span",{children:["\u5c0d\u61c9\u6599\u865f",e.mappingProductSeqNo,"(todo)"]}),Object(k.jsx)(w,{})]})}):null}}]},n.handleDelete=function(t){Tt.a.confirm({title:"\u78ba\u5b9a\u8981\u522a\u9664\u6b64\u7b46\u8cc7\u6599\u55ce",icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:"\u53d6\u6d88",onOk:function(){console.log("delete: "+t)}})},n.onPageChange=function(t,e){var a=n.state.pagination;a.current=t,a.pageSize=e,n.setState({loading:!0,list:[],pagination:a},(function(){return n.getList()}))},n.onDetailOpen=function(t,e){return n.setState({detailCreate:t,detailSeqNo:e,detailVisible:!0})},n.onDetailClose=function(){return n.setState({detailVisible:!1})},n.state={loading:!0,search:{productId:"",customCode1:"",name:""},list:[],pagination:{current:1,total:0,pageSize:50,position:["bottomLeft"]},detailCreate:!0,detailSeqNo:0,detailVisible:!1},n.getList(),n}return Object(p.a)(a,[{key:"render",value:function(){var t=this;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"list-header",children:Object(k.jsxs)(zt.a,{type:"flex",justify:"space-between",children:[Object(k.jsx)(Bt.a,{children:Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(M,{}),onClick:function(){return t.history.push("/Products/Add")},className:"list-header-add",children:"\u65b0\u589e"})}),Object(k.jsx)(Bt.a,{children:Object(k.jsxs)(Lt.b,{children:[Object(k.jsx)(gt.a,{placeholder:"\u5546\u54c1\u7de8\u865f",allowClear:!0,onChange:this.onInputChange.bind(this,"productId"),style:{width:100}}),Object(k.jsx)(gt.a,{placeholder:"\u81ea\u8a02\u78bc1",allowClear:!0,onChange:this.onInputChange.bind(this,"customCode1"),style:{width:100}}),Object(k.jsx)(gt.a,{placeholder:"\u5546\u54c1\u540d\u7a31",allowClear:!0,onChange:this.onInputChange.bind(this,"name"),style:{width:140}}),Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(B,{}),onClick:this.handleSearch,className:"list-header-search",children:"\u67e5\u8a62"})]})})]})}),Object(k.jsx)(Mt.a,{className:"list-table-wrapper",rowKey:"seqNo",size:"small",columns:this.getColumns(),loading:this.state.loading,dataSource:this.state.list,pagination:Vt(this.state.pagination,this.onPageChange)}),Object(k.jsx)(qe,{width:480,placement:"right",closeIcon:Object(k.jsx)(ut,{}),title:this.state.detailCreate?"\u65b0\u589e\u5546\u54c1":"\u7de8\u8f2f\u5546\u54c1\u8cc7\u6599",visible:this.state.detailVisible,onClose:this.onDetailClose,children:Object(k.jsx)(_e,{createFlag:this.state.detailCreate,isDrawMode:!0,drawModeVisible:this.state.detailVisible,seqNo:this.state.detailSeqNo,onClose:this.onDetailClose})})]})}}]),a}(r.a.Component),Ge={purchaseId:0,accountDate:C()().startOf("day"),vendorId:"",note:""},We=[],Qe=function t(){Object(b.a)(this,t),this.getPurchaseList=function(t){return yt("get","/purchases",t).then((function(t){return t.data}))},this.getPurchaseData=function(t){return yt("get","/purchases/".concat(t)).then((function(t){return t.data}))},this.addPurchaseData=function(t){return yt("post","/purchases",t).then((function(t){return t.data}))},this.updatePurchaseData=function(t){return yt("patch","/purchases/".concat(t.purchaseId),t).then((function(t){return t.data}))},this.getVendorsList=function(){return yt("get","/vendor",{pageNum:1,pageSize:9999,queryByEnum:"VENDOR_ID",queryKeyWord:""}).then((function(t){return t.data}))}},$e=function(t){Object(g.a)(a,t);var e=Object(m.a)(a);function a(t){var n;return Object(b.a)(this,a),(n=e.call(this,t)).history=Object(bt.b)(),n.purchaseAPI=new Qe,n.getInitData=Object(j.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){n.purchaseAPI.getVendorsList().then((function(e){n.setState({vendorList:e.data.list},(function(){return t(!0)}))}))}));case 2:case"end":return t.stop()}}),t)}))),n.getProductData=function(){return new Promise((function(t,e){n.purchaseAPI.getPurchaseData(n.props.purchaseId).then((function(a){0===a.code?n.setState({formData:a.data},(function(){return n.checkCanSubmit().then((function(){return t(!0)}))})):(e(!1),O.b.error(a.message),n.props.isDrawMode?n.props.onClose():n.history.push("/Purchase/List"))})).catch((function(){e(!1),O.b.error("Error!"),n.props.isDrawMode?n.props.onClose():n.history.push("/Purchase/List")}))}))},n.getFormErrorStatus=function(t){var e=n.state.formStatus.find((function(e){return e.key===t}));return!!e&&e.error},n.onInputChange=function(t){var e=t.target.getAttribute("id"),a=t.target.value,r=n.state.formData;r[e]=a,n.checkData(r,e)},n.onSelectChange=function(t,e){var a=n.state.formData;a[t]=e,n.checkData(a,t)},n.onNumberChange=function(t,e){var a=n.state.formData;a[t]=e,n.checkData(a,t)},n.onDateChange=function(t,e){var a=n.state.formData;a[t]=e,n.checkData(a,t)},n.onCodeSearch=function(t,e){if(!e.includes(" ")){var a=n.state.search;a[t]=e.toUpperCase(),n.setState({search:a})}},n.onCodeSelect=function(t,e){var a=n.state,r=a.formData,c=a.search,i=a.vendorList;if(c[t]="",r[t]=e,"vendorId"===t){var s=i.find((function(t){return t.vendorId.toLowerCase()===e.toLowerCase()}));s&&(r.vendorName=s.name)}n.setState({search:c},(function(){return n.checkData(r,t)}))},n.getVendorOptions=function(){var t=n.state,e=t.formData,a=t.search;return t.vendorList.filter((function(t){return e.vendorId===t.vendorId||a.vendorId&&t.vendorId.toLowerCase().includes(a.vendorId.toLowerCase())})).map((function(t){return{label:"".concat(t.vendorId," - ").concat(t.name),value:t.vendorId}}))},n.checkData=function(t,e){var a=n.state.formStatus,r=a.find((function(t){return t.key===e}));if(r){var c=t[e],i=!1;r.required&&!c&&(i=!0),r.length&&r.length.length>0&&c&&(1===r.length.length&&c.length>r.length[0]||r.length.length>1&&(c.length<r.length[0]||c.length>r.length[1]))&&(i=!0),r.regExp&&!r.regExp.test(c)&&(i=!0),r.error=i}n.setState({formData:t,formStatus:a},(function(){return n.checkCanSubmit()}))},n.checkCanSubmit=function(){return new Promise((function(t){n.setState({canSubmit:!n.state.formStatus.some((function(t){return t.error}))},(function(){return t(!0)}))}))},n.handleCreate=function(t){n.setState({loading:!0},(function(){n.purchaseAPI.addPurchaseData(n.state.formData).then((function(e){if(0===e.code)if(O.b.success("\u6210\u529f\u65b0\u589e\u8cc7\u6599"),t)n.props.isDrawMode?n.props.onClose():n.history.push("/Purchase/List");else{var a=document.querySelector(".ant-drawer-body"),r=document.getElementById("layout-content-wrapper");a&&a.scrollTo({top:0,behavior:"smooth"}),r&&r.scrollTo({top:0,behavior:"smooth"}),n.setState({loading:!1,formData:Object(d.a)({},Ge),formStatus:JSON.parse(JSON.stringify(We)),search:{vendorId:""},canSubmit:!1})}else Tt.a.error({title:e.message,icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:null,onOk:function(){n.setState({loading:!1})}})})).catch((function(t){O.b.error(t.response.data.message),n.setState({loading:!1})}))}))},n.handleSubmit=function(t){n.setState({loading:!0},(function(){n.purchaseAPI.updatePurchaseData(n.state.formData).then((function(e){if(0===e.code)if(O.b.success("\u6210\u529f\u66f4\u65b0\u8cc7\u6599"),t)n.props.isDrawMode?n.props.onClose():n.history.push("/Purchase/List");else{var a=document.querySelector(".ant-drawer-body"),r=document.getElementById("layout-content-wrapper");a&&a.scrollTo({top:0,behavior:"smooth"}),r&&r.scrollTo({top:0,behavior:"smooth"}),n.getProductData()}else Tt.a.error({title:e.message,icon:Object(k.jsx)(qt.a,{}),content:e.data.map((function(t,e){return Object(k.jsxs)(k.Fragment,{children:[e>0&&Object(k.jsx)("br",{}),t.split(": ")[1]]})})),okText:"\u78ba\u8a8d",cancelText:null,onOk:function(){n.setState({loading:!1})}})})).catch((function(){O.b.error("\u8cc7\u6599\u66f4\u65b0\u5931\u6557"),n.setState({loading:!1})}))}))},n.state={loading:!0,formData:Object(d.a)({},Ge),formStatus:JSON.parse(JSON.stringify(We)),search:{vendorId:""},vendorList:[],canSubmit:!1},n.getInitData().then((function(){t.createFlag?n.setState({loading:!1}):n.getPurchaseData().then((function(){return n.setState({loading:!1})}))})),n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(t){var e=this;(!t.createFlag&&this.props.createFlag||!t.drawModeVisible&&this.props.drawModeVisible||!this.props.createFlag&&t.purchaseId!==this.props.purchaseId)&&this.setState({loading:!0,formData:Object(d.a)({},Ge),formStatus:JSON.parse(JSON.stringify(We)),search:{vendorId:""},canSubmit:!1},(function(){return e.getInitData().then((function(){e.props.createFlag?e.setState({loading:!1}):e.getPurchaseData().then((function(){return e.setState({loading:!1})}))}))}))}},{key:"render",value:function(){var t=this.props.isDrawMode?{gutter:[12,12],type:"flex",align:"middle",style:{marginBottom:12,marginTop:12}}:{gutter:[24,24],type:"flex",align:"middle",style:{marginBottom:24,marginTop:24}},e=this.props.isDrawMode?{span:24}:{xs:24,sm:24,md:24,lg:8},a=this.props.isDrawMode?{span:24}:{xs:24,sm:24,md:24,lg:16};return Object(k.jsxs)(k.Fragment,{children:[!this.props.isDrawMode&&Object(k.jsxs)(Ht.a,{style:{marginBottom:10},children:[Object(k.jsx)(Ht.a.Item,{children:Object(k.jsx)(s.b,{to:"/Purchase/List",children:"\u9032\u8ca8\u55ae"})}),Object(k.jsx)(Ht.a.Item,{children:this.props.createFlag?"\u65b0\u589e\u9032\u8ca8\u55ae":"\u4fee\u6539\u9032\u8ca8\u55ae\u8cc7\u6599"})]}),Object(k.jsxs)(Ut.a,{spinning:this.state.loading,children:[Object(k.jsx)(Yt.a,{className:"form-detail-card",children:Object(k.jsxs)(zt.a,Object(d.a)(Object(d.a)({},t),{},{children:[Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},e),{},{children:Object(k.jsx)(Kt,{required:!0,title:"\u9032\u8ca8\u65e5\u671f",content:Object(k.jsx)(oe.a,{value:this.state.formData.accountDate,allowClear:!1,onChange:this.onDateChange.bind(this,"accountDate"),style:{width:"100%"}})})})),Object(k.jsx)(Bt.a,Object(d.a)(Object(d.a)({},a),{},{children:Object(k.jsx)(Kt,{required:!0,title:"\u5ee0\u5546",content:Object(k.jsx)(At.a,{placeholder:"\u641c\u5c0b\u5ee0\u5546\u4ee3\u865f",value:this.state.formData.vendorId,searchValue:this.state.search.vendorId,showSearch:!0,showArrow:!1,options:this.getVendorOptions(),onSearch:this.onCodeSearch.bind(this,"vendorId"),onSelect:this.onCodeSelect.bind(this,"vendorId"),style:{width:"100%"},notFoundContent:null,disabled:!this.props.createFlag})})})),Object(k.jsx)(Bt.a,{span:24,children:Object(k.jsx)(Kt,{required:!1,title:"\u5099\u8a3b",align:"flex-start",content:Object(k.jsx)(gt.a.TextArea,{onChange:this.onInputChange,value:this.state.formData.note,id:"note",autoSize:{minRows:4,maxRows:4}}),message:"\u9577\u5ea6\u9700\u5728255\u5b57\u5167",error:this.getFormErrorStatus("note")})})]}))}),Object(k.jsx)("div",{style:{margin:"20px",textAlign:"center"},children:Object(k.jsxs)(Lt.b,{children:[this.props.createFlag?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),disabled:!this.state.canSubmit,onClick:this.handleCreate.bind(this,!0),children:"\u5132\u5b58"}),Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),disabled:!this.state.canSubmit,onClick:this.handleCreate.bind(this,!1),children:"\u5132\u5b58\u4e26\u7e7c\u7e8c\u65b0\u589e"})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),disabled:!this.state.canSubmit,onClick:this.handleSubmit.bind(this,!1),children:"\u5132\u5b58"}),Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(Gt.a,{}),disabled:!this.state.canSubmit,onClick:this.handleSubmit.bind(this,!0),children:"\u5132\u5b58\u4e26\u8fd4\u56de\u5217\u8868"})]}),Object(k.jsx)(Ot.a,{danger:!0,icon:Object(k.jsx)(Wt.a,{}),onClick:this.handleCancel,children:"\u53d6\u6d88"})]})})]})]})}}]),a}(r.a.Component),Xe=function(t){Object(g.a)(a,t);var e=Object(m.a)(a);function a(){return Object(b.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var t=void 0!==this.props.purchaseId?this.props.purchaseId:this.props.match.params.purchaseId;return Object(k.jsx)($e,{createFlag:this.props.createFlag,isDrawMode:this.props.isDrawMode,drawModeVisible:this.props.drawModeVisible,purchaseId:t,onClose:this.props.onClose})}}]),a}(r.a.Component),Ze=function(t){Object(g.a)(a,t);var e=Object(m.a)(a);function a(t){var n;return Object(b.a)(this,a),(n=e.call(this,t)).history=Object(bt.b)(),n.purchaseAPI=new Qe,n.getList=function(){var t=n.state,e=t.search,a=t.pagination,r={pageNum:a.current,pageSize:a.pageSize};e.id&&(r.queryBy=e.id,r.condition=e.keyword),e.date&&(r.beginDate=e.date[0].format("YYYY-MM-DD"),r.endDate=e.date[1].format("YYYY-MM-DD")),n.purchaseAPI.getPurchaseList(r).then((function(t){a.total=t.data.total,n.setState({loading:!1,list:t.data.list,pagination:a})})).catch((function(){return n.setState({loading:!1})}))},n.onDateChange=function(t){var e=n.state.search;e.date=t,n.setState({search:e,loading:!0,list:[]},(function(){return n.getList()}))},n.onSelectChange=function(t){var e=n.state.search;e.id=t,t||(e.keyword=""),n.setState({search:e})},n.onInputChange=function(t){var e=n.state.search;e.keyword=t.target.value,n.setState({search:e})},n.handleSearch=function(){var t=n.state.pagination;t.current=1,n.setState({loading:!0,list:[],pagination:t},(function(){return n.getList()}))},n.getColumns=function(){var t=Object(Ft.a)(n),e=n.state.pagination;return[{dataIndex:"purchaseId",title:"\u57f7\u884c",width:50,render:function(e){return Object(k.jsxs)(Lt.b,{className:"list-table-option",children:[Object(k.jsx)(Et.a,{title:"\u7de8\u8f2f",children:Object(k.jsx)(Ot.a,{className:"list-table-option-edit",size:"small",onClick:t.onDetailOpen.bind(t,e),children:Object(k.jsx)(T,{})})}),Object(k.jsx)(Et.a,{title:"\u522a\u9664",children:Object(k.jsx)(Ot.a,{className:"list-table-option-delete",size:"small",onClick:t.handleDelete.bind(t,e),children:Object(k.jsx)(L,{})})})]})}},{title:"\u5e8f",width:30,align:"center",render:function(t,a,n){return(e.current-1)*e.pageSize+n+1}},{title:"\u65e5\u671f",dataIndex:"accountDate"},{title:"\u9032\u8ca8\u7de8\u865f",dataIndex:"purchaseId"},{title:"\u5ee0\u5546\u4ee3\u865f",dataIndex:"vendorId"},{title:"\u5ee0\u5546\u540d\u7a31",dataIndex:"vendorName"},{title:"\u7e3d\u91d1\u984d",dataIndex:"totalAmount",align:"right",render:function(t){return"$ ".concat(t).replace(/\B(?=(\d{3})+(?!\d))/g,",")}}]},n.handleDelete=function(t){Tt.a.confirm({title:"\u78ba\u5b9a\u8981\u522a\u9664\u6b64\u7b46\u8cc7\u6599\u55ce",icon:Object(k.jsx)(qt.a,{}),okText:"\u78ba\u8a8d",cancelText:"\u53d6\u6d88",onOk:function(){console.log("delete: "+t)}})},n.onPageChange=function(t,e){var a=n.state.pagination;a.current=t,a.pageSize=e,n.setState({loading:!0,list:[],pagination:a},(function(){return n.getList()}))},n.onDetailOpen=function(t){return n.setState({detailPurchaseId:t,detailVisible:!0})},n.onDetailClose=function(){return n.setState({detailVisible:!1})},n.state={loading:!0,search:{date:[C()().startOf("month").startOf("day"),C()().endOf("month").startOf("day")],id:void 0,keyword:""},list:[],pagination:{current:1,total:0,pageSize:10,position:["bottomLeft"]},detailPurchaseId:0,detailVisible:!1},n.getList(),n}return Object(p.a)(a,[{key:"render",value:function(){var t=this;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"list-header",children:Object(k.jsxs)(zt.a,{type:"flex",justify:"space-between",children:[Object(k.jsx)(Bt.a,{children:Object(k.jsxs)(Lt.b,{children:[Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(M,{}),onClick:function(){return t.history.push("/Purchase/Add")},className:"list-header-add",children:"\u65b0\u589e"}),Object(k.jsx)(oe.a.RangePicker,{defaultValue:this.state.search.date,allowClear:!1,onChange:this.onDateChange})]})}),Object(k.jsx)(Bt.a,{children:Object(k.jsxs)(Lt.b,{children:[Object(k.jsxs)(At.a,{placeholder:"\u641c\u5c0b\u6b04\u4f4d",value:this.state.search.id,allowClear:!0,onChange:this.onSelectChange,children:[Object(k.jsx)(At.a.Option,{value:"PURCHASE_ID",children:"\u9032\u8ca8\u55ae\u865f"}),Object(k.jsx)(At.a.Option,{value:"VENDOR_ID",children:"\u5ee0\u5546\u4ee3\u865f"}),Object(k.jsx)(At.a.Option,{value:"NOTE",children:"\u5099\u8a3b"})]}),Object(k.jsx)(gt.a,{placeholder:"\u641c\u5c0b\u5167\u5bb9",allowClear:!0,onChange:this.onInputChange}),Object(k.jsx)(Ot.a,{type:"primary",icon:Object(k.jsx)(B,{}),onClick:this.handleSearch,className:"list-header-search",children:"\u67e5\u8a62"})]})})]})}),Object(k.jsx)(Mt.a,{className:"list-table-wrapper",rowKey:"purchaseId",size:"small",columns:this.getColumns(),loading:this.state.loading,dataSource:this.state.list,pagination:Vt(this.state.pagination,this.onPageChange)}),Object(k.jsx)(qe,{width:480,placement:"right",closeIcon:Object(k.jsx)(ut,{}),title:this.state.detailCreate?"\u65b0\u589e\u5546\u54c1":"\u7de8\u8f2f\u5546\u54c1\u8cc7\u6599",visible:this.state.detailVisible,onClose:this.onDetailClose,children:Object(k.jsx)(Xe,{createFlag:!1,isDrawMode:!0,drawModeVisible:this.state.detailVisible,purchaseId:this.state.detailPurchaseId,onClose:this.onDetailClose})})]})}}]),a}(r.a.Component),ta=function t(){Object(b.a)(this,t),this.getUnitList=function(){return yt("get","/common/units").then((function(t){return t.data}))}};C.a.locale("zh-tw");var ea=function(t){Object(g.a)(a,t);var e=Object(m.a)(a);function a(t){var n;Object(b.a)(this,a),(n=e.call(this,t)).staticStorage=new Re,n.globalAPI=new ta,n.getGlobalData=Object(j.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){n.globalAPI.getUnitList().then((function(e){n.staticStorage.setUnitList(e.data),t(!0)}))}));case 2:case"end":return t.stop()}}),t)}))),n.clearCookie=function(){var t=document.cookie.split(";");t.find((function(t){return t.includes("MOTOBUY_KEEP_LOGIN")}))&&"true"===t.find((function(t){return t.includes("MOTOBUY_KEEP_LOGIN")})).split("=")[1]||(document.cookie="MOTOBUY_AUTH=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT")},n.onLogin=function(){n.getGlobalData().then((function(){return n.setState({isAuth:!0})}))},n.onLogout=function(){O.b.success("\u5df2\u6210\u529f\u767b\u51fa"),document.cookie="MOTOBUY_AUTH=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",n.setState({isAuth:!1})};var r=document.cookie.split(";");return n.state={isLand:!r.find((function(t){return t.includes("MOTOBUY_AUTH")})),isAuth:!1,siderCollapsed:!1},r.find((function(t){return t.includes("MOTOBUY_AUTH")}))&&function(t,e,a){var n={url:"https://britz-psi-heroku.herokuapp.com/test/v1"+e,method:t,timeout:6e4,headers:{Authorization:"Basic "+vt()}};return"get"===t&&a&&Object.keys(a).length>0?n.params=a:a&&Object.keys(a).length>0&&(n.data=a),new Promise((function(t,e){xt()(n).then((function(e){return t(e)})).catch((function(t){e(t),console.log(t.response)}))}))}("get","/auth").then((function(t){0===t.data.code?n.getGlobalData().then((function(){n.setState({isLand:!0,isAuth:!0})})):n.setState({isLand:!0})})).catch((function(){return n.setState({isLand:!0})})),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.clearCookie)}},{key:"componentWillUnmount",value:function(){this.clearCookie()}},{key:"render",value:function(){var t=this;return this.state.isLand?this.state.isAuth?Object(k.jsx)(f.b,{locale:v.a,children:Object(k.jsxs)(x.a,{className:"layout-wrapper",children:[Object(k.jsx)(x.a.Sider,{collapsible:!0,collapsed:this.state.siderCollapsed,onCollapse:function(e){return t.setState({siderCollapsed:e})},trigger:Object(k.jsx)(at,{}),className:"layout-sider-wrapper",children:Object(k.jsx)(o.a,{path:"/:type?/:page?",component:wt})}),Object(k.jsxs)(x.a,{className:"layout-main",children:[Object(k.jsx)(x.a.Header,{className:"layout-header",children:Object(k.jsx)(Nt,{onLogout:this.onLogout})}),Object(k.jsx)(x.a.Content,{id:"layout-content-wrapper",className:"layout-content-wrapper",children:Object(k.jsxs)(o.c,{children:[Object(k.jsx)(o.a,{exact:!0,path:"/Basic/Supplier/Add",render:function(t){return Object(k.jsx)(Zt,Object(d.a)(Object(d.a)({},t),{},{createFlag:!0}))}}),Object(k.jsx)(o.a,{exact:!0,path:"/Basic/Supplier/:vendorId",render:function(t){return Object(k.jsx)(Zt,Object(d.a)(Object(d.a)({},t),{},{createFlag:!1}))}}),Object(k.jsx)(o.a,{exact:!0,path:"/Basic/Supplier",component:Jt}),Object(k.jsx)(o.a,{exact:!0,path:"/Basic/Customer/Add",render:function(t){return Object(k.jsx)(ce,Object(d.a)(Object(d.a)({},t),{},{createFlag:!0}))}}),Object(k.jsx)(o.a,{exact:!0,path:"/Basic/Customer/:customerId",render:function(t){return Object(k.jsx)(ce,Object(d.a)(Object(d.a)({},t),{},{createFlag:!1}))}}),Object(k.jsx)(o.a,{exact:!0,path:"/Basic/Customer",component:ee}),Object(k.jsx)(o.a,{exact:!0,path:"/Basic/Employee/Add",render:function(t){return Object(k.jsx)(je,Object(d.a)(Object(d.a)({},t),{},{createFlag:!0}))}}),Object(k.jsx)(o.a,{exact:!0,path:"/Basic/Employee/:employeeId",render:function(t){return Object(k.jsx)(je,Object(d.a)(Object(d.a)({},t),{},{createFlag:!1}))}}),Object(k.jsx)(o.a,{exact:!0,path:"/Basic/Employee",component:se}),Object(k.jsx)(o.a,{exact:!0,path:"/Parts/Vehicle/Add",render:function(t){return Object(k.jsx)(fe,Object(d.a)(Object(d.a)({},t),{},{createFlag:!0}))}}),Object(k.jsx)(o.a,{exact:!0,path:"/Parts/Vehicle/:kindId",render:function(t){return Object(k.jsx)(fe,Object(d.a)(Object(d.a)({},t),{},{createFlag:!1}))}}),Object(k.jsx)(o.a,{exact:!0,path:"/Parts/Vehicle",component:pe}),Object(k.jsx)(o.a,{exact:!0,path:"/Parts/Level/Add",render:function(t){return Object(k.jsx)(Ie,Object(d.a)(Object(d.a)({},t),{},{createFlag:!0}))}}),Object(k.jsx)(o.a,{exact:!0,path:"/Parts/Level/:gradeId",render:function(t){return Object(k.jsx)(Ie,Object(d.a)(Object(d.a)({},t),{},{createFlag:!1}))}}),Object(k.jsx)(o.a,{exact:!0,path:"/Parts/Level",component:Se}),Object(k.jsx)(o.a,{exact:!0,path:"/Parts/Colour/Add",render:function(t){return Object(k.jsx)(Fe,Object(d.a)(Object(d.a)({},t),{},{createFlag:!0}))}}),Object(k.jsx)(o.a,{exact:!0,path:"/Parts/Colour/:colorId",render:function(t){return Object(k.jsx)(Fe,Object(d.a)(Object(d.a)({},t),{},{createFlag:!1}))}}),Object(k.jsx)(o.a,{exact:!0,path:"/Parts/Colour",component:De}),Object(k.jsx)(o.a,{exact:!0,path:"/Parts/Component/Add",render:function(t){return Object(k.jsx)(Ae,Object(d.a)(Object(d.a)({},t),{},{createFlag:!0}))}}),Object(k.jsx)(o.a,{exact:!0,path:"/Parts/Component/:partId",render:function(t){return Object(k.jsx)(Ae,Object(d.a)(Object(d.a)({},t),{},{createFlag:!1}))}}),Object(k.jsx)(o.a,{exact:!0,path:"/Parts/Component",component:Ee}),Object(k.jsx)(o.a,{exact:!0,path:"/Products/Add",render:function(t){return Object(k.jsx)(_e,Object(d.a)(Object(d.a)({},t),{},{createFlag:!0}))}}),Object(k.jsx)(o.a,{exact:!0,path:"/Products/Detail/:seqNo",render:function(t){return Object(k.jsx)(_e,Object(d.a)(Object(d.a)({},t),{},{createFlag:!1}))}}),Object(k.jsx)(o.a,{exact:!0,path:"/Products/List",component:Ke}),Object(k.jsx)(o.a,{exact:!0,path:"/Purchase/Add",render:function(t){return Object(k.jsx)(Xe,Object(d.a)(Object(d.a)({},t),{},{createFlag:!0}))}}),Object(k.jsx)(o.a,{exact:!0,path:"/Purchase/Detail/:purchaseId",render:function(t){return Object(k.jsx)(Xe,Object(d.a)(Object(d.a)({},t),{},{createFlag:!1}))}}),Object(k.jsx)(o.a,{exact:!0,path:"/Purchase/List",component:Ze}),Object(k.jsx)(o.a,{path:"/",component:Pt})]})}),Object(k.jsx)(x.a.Footer,{className:"layout-footer",children:"2021 \xa9 Copyright"})]})]})}):Object(k.jsx)(f.b,{locale:v.a,children:Object(k.jsx)(Ct,{onLogin:this.onLogin})}):null}}]),a}(r.a.Component);a(304),a(305),a(306),a(307),a(308),a(309),a(310);i.a.render(Object(k.jsx)(s.a,{children:Object(k.jsx)(o.a,{path:"/:type?/:page?/:id?",component:ea})}),document.getElementById("root")),l()}},[[311,1,2]]]);
//# sourceMappingURL=main.955343d9.chunk.js.map